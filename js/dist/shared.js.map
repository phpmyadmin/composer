{"version":3,"file":"shared.js","mappings":"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","sources":["webpack://phpmyadmin/./js/src/modules/common.js","webpack://phpmyadmin/./js/src/modules/ajax.js","webpack://phpmyadmin/./js/src/modules/functions.js","webpack://phpmyadmin/./js/src/modules/navigation.js","webpack://phpmyadmin/./js/src/modules/config.js","webpack://phpmyadmin/./js/src/modules/doc-links.js","webpack://phpmyadmin/./js/src/modules/indexes.js"],"sourcesContent":["import $ from 'jquery';\nimport { AJAX } from './ajax.js';\nimport { Navigation } from './navigation.js';\n\n/**\n * Holds common parameters such as server, db, table, etc\n *\n * The content for this is normally loaded from Header.php or\n * Response.php and executed by ajax.js\n *\n * @test-module CommonParams\n */\nconst CommonParams = (function () {\n    /**\n     * @var {Object} params An associative array of key value pairs\n     * @access private\n     */\n    var params = {};\n    // The returned object is the public part of the module\n    return {\n        /**\n         * Saves all the key value pair that\n         * are provided in the input array\n         *\n         * @param obj hash The input array\n         *\n         * @return {void}\n         */\n        setAll: function (obj) {\n            var updateNavigation = false;\n            for (var i in obj) {\n                if (params[i] !== undefined && params[i] !== obj[i]) {\n                    if (i === 'db' || i === 'table') {\n                        updateNavigation = true;\n                    }\n                }\n                params[i] = obj[i];\n            }\n            if (updateNavigation &&\n                    $('#pma_navigation_tree').hasClass('synced')\n            ) {\n                Navigation.showCurrent();\n            }\n        },\n        /**\n         * Retrieves a value given its key\n         * Returns empty string for undefined values\n         *\n         * @param {string} name The key\n         *\n         * @return {string}\n         */\n        get: function (name) {\n            return params[name];\n        },\n        /**\n         * Saves a single key value pair\n         *\n         * @param {string} name  The key\n         * @param {string} value The value\n         *\n         * @return {CommonParams} For chainability\n         */\n        set: function (name, value) {\n            var updateNavigation = false;\n            if (name === 'db' || name === 'table' &&\n                params[name] !== value\n            ) {\n                updateNavigation = true;\n            }\n            params[name] = value;\n            if (updateNavigation &&\n                    $('#pma_navigation_tree').hasClass('synced')\n            ) {\n                Navigation.showCurrent();\n            }\n            return this;\n        },\n        /**\n         * Returns the url query string using the saved parameters\n         *\n         * @param {string} separator New separator\n         *\n         * @return {string}\n         */\n        getUrlQuery: function (separator) {\n            var sep = (typeof separator !== 'undefined') ? separator : '?';\n            var common = this.get('common_query');\n            var argsep = CommonParams.get('arg_separator');\n            if (typeof common === 'string' && common.length > 0) {\n                // If the last char is the separator, do not add it\n                // Else add it\n                common = common.endsWith(argsep) ? common : common + argsep;\n            }\n\n            return window.sprintf(\n                '%s%sserver=%s' + argsep + 'db=%s' + argsep + 'table=%s',\n                sep,\n                common,\n                encodeURIComponent(this.get('server')),\n                encodeURIComponent(this.get('db')),\n                encodeURIComponent(this.get('table'))\n            );\n        }\n    };\n}());\n\n/**\n * Holds common parameters such as server, db, table, etc\n *\n * The content for this is normally loaded from Header.php or\n * Response.php and executed by ajax.js\n */\nconst CommonActions = {\n    /**\n     * Saves the database name when it's changed\n     * and reloads the query window, if necessary\n     *\n     * @param {string} newDb new_db The name of the new database\n     *\n     * @return {void}\n     */\n    setDb: function (newDb) {\n        if (newDb !== CommonParams.get('db')) {\n            CommonParams.setAll({ 'db': newDb, 'table': '' });\n        }\n    },\n    /**\n     * Opens a database in the main part of the page\n     *\n     * @param {string} newDb The name of the new database\n     *\n     * @return {void}\n     */\n    openDb: function (newDb) {\n        CommonParams\n            .set('db', newDb)\n            .set('table', '');\n        this.refreshMain(\n            CommonParams.get('opendb_url')\n        );\n    },\n    /**\n     * Refreshes the main frame\n     *\n     * @param {any} url Undefined to refresh to the same page\n     *                  String to go to a different page, e.g: 'index.php'\n     * @param {function | undefined} callback\n     *\n     * @return {void}\n     */\n    refreshMain: function (url, callback = undefined) {\n        var newUrl = url;\n        if (! newUrl) {\n            newUrl = $('#selflink').find('a').attr('href') || window.location.pathname;\n            newUrl = newUrl.substring(0, newUrl.indexOf('?'));\n        }\n        if (newUrl.indexOf('?') !== -1) {\n            newUrl += CommonParams.getUrlQuery(CommonParams.get('arg_separator'));\n        } else {\n            newUrl += CommonParams.getUrlQuery('?');\n        }\n        $('<a></a>', { href: newUrl })\n            .appendTo('body')\n            .trigger('click')\n            .remove();\n        if (typeof callback !== 'undefined') {\n            AJAX.callback = callback;\n        }\n    }\n};\n\nwindow.CommonParams = CommonParams;\n\nexport { CommonActions, CommonParams };\n","import $ from 'jquery';\nimport { Functions } from './functions.js';\nimport { Navigation } from './navigation.js';\nimport { CommonParams } from './common.js';\n\n/**\n * This object handles ajax requests for pages. It also\n * handles the reloading of the main menu and scripts.\n *\n * @test-module AJAX\n */\nconst AJAX = {\n    /**\n     * @var {boolean} active Whether we are busy\n     */\n    active: false,\n    /**\n     * @var {object} source The object whose event initialized the request\n     */\n    source: null,\n    /**\n     * @var {object} xhr A reference to the ajax request that is currently running\n     */\n    xhr: null,\n    /**\n     * @var {object} lockedTargets, list of locked targets\n     */\n    lockedTargets: {},\n    // eslint-disable-next-line valid-jsdoc\n    /**\n     * @var {Function} callback Callback to execute after a successful request\n     *                          Used by CommonActions from common.js\n     */\n    callback: function () {\n    },\n    /**\n     * @var {boolean} debug Makes noise in your Firebug console\n     */\n    debug: false,\n    /**\n     * @var {object} $msgbox A reference to a jQuery object that links to a message\n     *                     box that is generated by Functions.ajaxShowMessage()\n     */\n    $msgbox: null,\n    /**\n     * Given the filename of a script, returns a hash to be\n     * used to refer to all the events registered for the file\n     *\n     * @param {string} key key The filename for which to get the event name\n     *\n     * @return {number}\n     */\n    hash: function (key) {\n        var newKey = key;\n        /* https://burtleburtle.net/bob/hash/doobs.html#one */\n        newKey += '';\n        var len = newKey.length;\n        var hash = 0;\n        var i = 0;\n        for (; i < len; ++i) {\n            hash += newKey.charCodeAt(i);\n            hash += (hash << 10);\n            hash ^= (hash >> 6);\n        }\n        hash += (hash << 3);\n        hash ^= (hash >> 11);\n        hash += (hash << 15);\n        return Math.abs(hash);\n    },\n    /**\n     * Registers an onload event for a file\n     *\n     * @param {string} file   The filename for which to register the event\n     * @param {Function} func The function to execute when the page is ready\n     *\n     * @return {self} For chaining\n     */\n    registerOnload: function (file, func) {\n        var eventName = 'onload_' + AJAX.hash(file);\n        $(document).on(eventName, func);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Registered event ' + eventName + ' for file ' + file\n            );\n        }\n        return this;\n    },\n    /**\n     * Registers a teardown event for a file. This is useful to execute functions\n     * that unbind events for page elements that are about to be removed.\n     *\n     * @param {string} file   The filename for which to register the event\n     * @param {Function} func The function to execute when\n     *                        the page is about to be torn down\n     *\n     * @return {self} For chaining\n     */\n    registerTeardown: function (file, func) {\n        var eventName = 'teardown_' + AJAX.hash(file);\n        $(document).on(eventName, func);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Registered event ' + eventName + ' for file ' + file\n            );\n        }\n        return this;\n    },\n    /**\n     * Called when a page has finished loading, once for every\n     * file that registered to the onload event of that file.\n     *\n     * @param {string} file The filename for which to fire the event\n     *\n     * @return {void}\n     */\n    fireOnload: function (file) {\n        var eventName = 'onload_' + AJAX.hash(file);\n        $(document).trigger(eventName);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Fired event ' + eventName + ' for file ' + file\n            );\n        }\n    },\n    /**\n     * Called just before a page is torn down, once for every\n     * file that registered to the teardown event of that file.\n     *\n     * @param {string} file The filename for which to fire the event\n     *\n     * @return {void}\n     */\n    fireTeardown: function (file) {\n        var eventName = 'teardown_' + AJAX.hash(file);\n        $(document).triggerHandler(eventName);\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(\n                // no need to translate\n                'Fired event ' + eventName + ' for file ' + file\n            );\n        }\n    },\n    /**\n     * function to handle lock page mechanism\n     *\n     * @param event the event object\n     *\n     * @return {void}\n     */\n    lockPageHandler: function (event) {\n        // don't consider checkbox event\n        if (typeof event.target !== 'undefined') {\n            if (event.target.type === 'checkbox') {\n                return;\n            }\n        }\n\n        var newHash = null;\n        var oldHash = null;\n        var lockId;\n        // CodeMirror lock\n        if (event.data.value === 3) {\n            newHash = event.data.content;\n            oldHash = true;\n            lockId = 'cm';\n        } else {\n            // Don't lock on enter.\n            if (0 === event.charCode) {\n                return;\n            }\n\n            lockId = $(this).data('lock-id');\n            if (typeof lockId === 'undefined') {\n                return;\n            }\n            /*\n             * @todo Fix Code mirror does not give correct full value (query)\n             * in textarea, it returns only the change in content.\n             */\n            if (event.data.value === 1) {\n                newHash = AJAX.hash($(this).val());\n            } else {\n                newHash = AJAX.hash($(this).is(':checked'));\n            }\n            oldHash = $(this).data('val-hash');\n        }\n        // Set lock if old value !== new value\n        // otherwise release lock\n        if (oldHash !== newHash) {\n            AJAX.lockedTargets[lockId] = true;\n        } else {\n            delete AJAX.lockedTargets[lockId];\n        }\n        // Show lock icon if locked targets is not empty.\n        // otherwise remove lock icon\n        if (! $.isEmptyObject(AJAX.lockedTargets)) {\n            $('#lock_page_icon').html(Functions.getImage('s_lock', window.Messages.strLockToolTip).toString());\n        } else {\n            $('#lock_page_icon').html('');\n        }\n    },\n    /**\n     * resets the lock\n     *\n     * @return {void}\n     */\n    resetLock: function () {\n        AJAX.lockedTargets = {};\n        $('#lock_page_icon').html('');\n    },\n    handleMenu: {\n        replace: function (content) {\n            $('#floating_menubar').html(content)\n                // Remove duplicate wrapper\n                // TODO: don't send it in the response\n                .children().first().remove();\n            $('#topmenu').menuResizer(Functions.mainMenuResizerCallback);\n        }\n    },\n    /**\n     * Event handler for clicks on links and form submissions\n     *\n     * @param {KeyboardEvent} event Event data\n     *\n     * @return {boolean | void}\n     */\n    requestHandler: function (event) {\n        // In some cases we don't want to handle the request here and either\n        // leave the browser deal with it natively (e.g: file download)\n        // or leave an existing ajax event handler present elsewhere deal with it\n        var href = $(this).attr('href');\n        if (typeof event !== 'undefined' && (event.shiftKey || event.ctrlKey || event.metaKey)) {\n            return true;\n        } else if ($(this).attr('target')) {\n            return true;\n        } else if ($(this).hasClass('ajax') || $(this).hasClass('disableAjax')) {\n            // reset the lockedTargets object, as specified AJAX operation has finished\n            AJAX.resetLock();\n            return true;\n        } else if (href && href.match(/^#/)) {\n            return true;\n        } else if (href && href.match(/^mailto/)) {\n            return true;\n        } else if ($(this).hasClass('ui-datepicker-next') ||\n            $(this).hasClass('ui-datepicker-prev')\n        ) {\n            return true;\n        }\n\n        if (typeof event !== 'undefined') {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n        }\n\n        // triggers a confirm dialog if:\n        // the user has performed some operations on loaded page\n        // the user clicks on some link, (won't trigger for buttons)\n        // the click event is not triggered by script\n        if (typeof event !== 'undefined' && event.type === 'click' &&\n            event.isTrigger !== true &&\n            ! $.isEmptyObject(AJAX.lockedTargets) &&\n            confirm(window.Messages.strConfirmNavigation) === false\n        ) {\n            return false;\n        }\n        AJAX.resetLock();\n        var isLink = !! href || false;\n        var previousLinkAborted = false;\n\n        if (AJAX.active === true) {\n            // Cancel the old request if abortable, when the user requests\n            // something else. Otherwise silently bail out, as there is already\n            // a request well in progress.\n            if (AJAX.xhr) {\n                // In case of a link request, attempt aborting\n                AJAX.xhr.abort();\n                if (AJAX.xhr.status === 0 && AJAX.xhr.statusText === 'abort') {\n                    // If aborted\n                    AJAX.$msgbox = Functions.ajaxShowMessage(window.Messages.strAbortedRequest);\n                    AJAX.active = false;\n                    AJAX.xhr = null;\n                    previousLinkAborted = true;\n                } else {\n                    // If can't abort\n                    return false;\n                }\n            } else {\n                // In case submitting a form, don't attempt aborting\n                return false;\n            }\n        }\n\n        AJAX.source = $(this);\n\n        $('html, body').animate({ scrollTop: 0 }, 'fast');\n\n        var url = isLink ? href : $(this).attr('action');\n        var argsep = CommonParams.get('arg_separator');\n        var params = 'ajax_request=true' + argsep + 'ajax_page_request=true';\n        var dataPost = AJAX.source.getPostData();\n        if (! isLink) {\n            params += argsep + $(this).serialize();\n        } else if (dataPost) {\n            params += argsep + dataPost;\n            isLink = false;\n        }\n\n        if (AJAX.debug) {\n            // eslint-disable-next-line no-console\n            console.log('Loading: ' + url); // no need to translate\n        }\n\n        if (isLink) {\n            AJAX.active = true;\n            AJAX.$msgbox = Functions.ajaxShowMessage();\n            // Save reference for the new link request\n            AJAX.xhr = $.get(url, params, AJAX.responseHandler);\n            var state = {\n                url: href\n            };\n            if (previousLinkAborted) {\n                // hack: there is already an aborted entry on stack\n                // so just modify the aborted one\n                history.replaceState(state, null, href);\n            } else {\n                history.pushState(state, null, href);\n            }\n        } else {\n            /**\n             * Manually fire the onsubmit event for the form, if any.\n             * The event was saved in the jQuery data object by an onload\n             * handler defined below. Workaround for bug #3583316\n             */\n            var onsubmit = $(this).data('onsubmit');\n            // Submit the request if there is no onsubmit handler\n            // or if it returns a value that evaluates to true\n            if (typeof onsubmit !== 'function' || onsubmit.apply(this, [event])) {\n                AJAX.active = true;\n                AJAX.$msgbox = Functions.ajaxShowMessage();\n                if ($(this).attr('id') === 'login_form') {\n                    $.post(url, params, AJAX.loginResponseHandler);\n                } else {\n                    $.post(url, params, AJAX.responseHandler);\n                }\n            }\n        }\n    },\n    /**\n     * Response handler to handle login request from login modal after session expiration\n     *\n     * To refer to self use 'AJAX', instead of 'this' as this function\n     * is called in the jQuery context.\n     *\n     * @param {object} data Event data\n     *\n     * @return {void}\n     */\n    loginResponseHandler: function (data) {\n        if (typeof data === 'undefined' || data === null) {\n            return;\n        }\n        Functions.ajaxRemoveMessage(AJAX.$msgbox);\n\n        CommonParams.set('token', data.new_token);\n\n        AJAX.scriptHandler.load([]);\n\n        if (data.displayMessage) {\n            $('#page_content').prepend(data.displayMessage);\n            Functions.highlightSql($('#page_content'));\n        }\n\n        $('#pma_errors').remove();\n\n        var msg = '';\n        if (data.errSubmitMsg) {\n            msg = data.errSubmitMsg;\n        }\n        if (data.errors) {\n            $('<div></div>', { id: 'pma_errors', class: 'clearfloat d-print-none' })\n                .insertAfter('#selflink')\n                .append(data.errors);\n            // bind for php error reporting forms (bottom)\n            $('#pma_ignore_errors_bottom').on('click', function (e) {\n                e.preventDefault();\n                Functions.ignorePhpErrors();\n            });\n            $('#pma_ignore_all_errors_bottom').on('click', function (e) {\n                e.preventDefault();\n                Functions.ignorePhpErrors(false);\n            });\n            // In case of 'sendErrorReport'='always'\n            // submit the hidden error reporting form.\n            if (data.sendErrorAlways === '1' &&\n                data.stopErrorReportLoop !== '1'\n            ) {\n                $('#pma_report_errors_form').trigger('submit');\n                Functions.ajaxShowMessage(window.Messages.phpErrorsBeingSubmitted, false);\n                $('html, body').animate({ scrollTop: $(document).height() }, 'slow');\n            } else if (data.promptPhpErrors) {\n                // otherwise just prompt user if it is set so.\n                msg = msg + window.Messages.phpErrorsFound;\n                // scroll to bottom where all the errors are displayed.\n                $('html, body').animate({ scrollTop: $(document).height() }, 'slow');\n            }\n        }\n\n        Functions.ajaxShowMessage(msg, false);\n        // bind for php error reporting forms (popup)\n        $('#pma_ignore_errors_popup').on('click', function () {\n            Functions.ignorePhpErrors();\n        });\n        $('#pma_ignore_all_errors_popup').on('click', function () {\n            Functions.ignorePhpErrors(false);\n        });\n\n        if (typeof data.success !== 'undefined' && data.success) {\n            // reload page if user trying to login has changed\n            if (CommonParams.get('user') !== data.params.user) {\n                window.location = 'index.php';\n                Functions.ajaxShowMessage(window.Messages.strLoading, false);\n                AJAX.active = false;\n                AJAX.xhr = null;\n                return;\n            }\n            // remove the login modal if the login is successful otherwise show error.\n            if (typeof data.logged_in !== 'undefined' && data.logged_in === 1) {\n                if ($('#modalOverlay').length) {\n                    $('#modalOverlay').remove();\n                }\n                $('fieldset.disabled_for_expiration').removeAttr('disabled').removeClass('disabled_for_expiration');\n                AJAX.fireTeardown('main.js');\n                AJAX.fireOnload('main.js');\n            }\n            if (typeof data.new_token !== 'undefined') {\n                $('input[name=token]').val(data.new_token);\n            }\n        } else if (typeof data.logged_in !== 'undefined' && data.logged_in === 0) {\n            $('#modalOverlay').replaceWith(data.error);\n        } else {\n            Functions.ajaxShowMessage(data.error, false);\n            AJAX.active = false;\n            AJAX.xhr = null;\n            Functions.handleRedirectAndReload(data);\n            if (data.fieldWithError) {\n                $(':input.error').removeClass('error');\n                $('#' + data.fieldWithError).addClass('error');\n            }\n        }\n    },\n    /**\n     * Called after the request that was initiated by this.requestHandler()\n     * has completed successfully or with a caught error. For completely\n     * failed requests or requests with uncaught errors, see the .ajaxError\n     * handler at the bottom of this file.\n     *\n     * To refer to self use 'AJAX', instead of 'this' as this function\n     * is called in the jQuery context.\n     *\n     * @param {object} data Event data\n     *\n     * @return {void}\n     */\n    responseHandler: function (data) {\n        if (typeof data === 'undefined' || data === null) {\n            return;\n        }\n        // Can be a string when an error occurred and only HTML was returned.\n        if (typeof data === 'string') {\n            Functions.ajaxRemoveMessage(AJAX.$msgbox);\n            Functions.ajaxShowMessage($(data).text(), false, 'error');\n            AJAX.active = false;\n            AJAX.xhr = null;\n            return;\n        }\n        if (typeof data.success !== 'undefined' && data.success) {\n            $('html, body').animate({ scrollTop: 0 }, 'fast');\n            Functions.ajaxRemoveMessage(AJAX.$msgbox);\n\n            if (data.redirect) {\n                Functions.ajaxShowMessage(data.redirect, false);\n                AJAX.active = false;\n                AJAX.xhr = null;\n                return;\n            }\n\n            AJAX.scriptHandler.reset(function () {\n                if (data.reloadNavigation) {\n                    Navigation.reload();\n                }\n                if (data.title) {\n                    $('title').replaceWith(data.title);\n                }\n                if (data.menu) {\n                    var state = {\n                        url: data.selflink,\n                        menu: data.menu\n                    };\n                    history.replaceState(state, null);\n                    AJAX.handleMenu.replace(data.menu);\n                }\n                if (data.disableNaviSettings) {\n                    Navigation.disableSettings();\n                } else {\n                    Navigation.ensureSettings(data.selflink);\n                }\n\n                // Remove all containers that may have\n                // been added outside of #page_content\n                $('body').children()\n                    .not('#pma_navigation')\n                    .not('#floating_menubar')\n                    .not('#page_nav_icons')\n                    .not('#page_content')\n                    .not('#selflink')\n                    .not('#pma_header')\n                    .not('#pma_footer')\n                    .not('#pma_demo')\n                    .not('#pma_console_container')\n                    .not('#prefs_autoload')\n                    .remove();\n                // Replace #page_content with new content\n                if (data.message && data.message.length > 0) {\n                    $('#page_content').replaceWith(\n                        '<div id=\\'page_content\\'>' + data.message + '</div>'\n                    );\n                    Functions.highlightSql($('#page_content'));\n                    Functions.checkNumberOfFields();\n                }\n\n                if (data.selflink) {\n                    var source = data.selflink.split('?')[0];\n                    // Check for faulty links\n                    var $selflinkReplace = {\n                        'index.php?route=/import': 'index.php?route=/table/sql',\n                        'index.php?route=/table/chart': 'index.php?route=/sql',\n                        'index.php?route=/table/gis-visualization': 'index.php?route=/sql'\n                    };\n                    if ($selflinkReplace[source]) {\n                        var replacement = $selflinkReplace[source];\n                        data.selflink = data.selflink.replace(source, replacement);\n                    }\n                    $('#selflink').find('> a').attr('href', data.selflink);\n                }\n                if (data.params) {\n                    CommonParams.setAll(data.params);\n                }\n                if (data.scripts) {\n                    AJAX.scriptHandler.load(data.scripts);\n                }\n                if (data.displayMessage) {\n                    $('#page_content').prepend(data.displayMessage);\n                    Functions.highlightSql($('#page_content'));\n                }\n\n                $('#pma_errors').remove();\n\n                var msg = '';\n                if (data.errSubmitMsg) {\n                    msg = data.errSubmitMsg;\n                }\n                if (data.errors) {\n                    $('<div></div>', { id: 'pma_errors', class: 'clearfloat d-print-none' })\n                        .insertAfter('#selflink')\n                        .append(data.errors);\n                    // bind for php error reporting forms (bottom)\n                    $('#pma_ignore_errors_bottom').on('click', function (e) {\n                        e.preventDefault();\n                        Functions.ignorePhpErrors();\n                    });\n                    $('#pma_ignore_all_errors_bottom').on('click', function (e) {\n                        e.preventDefault();\n                        Functions.ignorePhpErrors(false);\n                    });\n                    // In case of 'sendErrorReport'='always'\n                    // submit the hidden error reporting form.\n                    if (data.sendErrorAlways === '1' &&\n                        data.stopErrorReportLoop !== '1'\n                    ) {\n                        $('#pma_report_errors_form').trigger('submit');\n                        Functions.ajaxShowMessage(window.Messages.phpErrorsBeingSubmitted, false);\n                        $('html, body').animate({ scrollTop: $(document).height() }, 'slow');\n                    } else if (data.promptPhpErrors) {\n                        // otherwise just prompt user if it is set so.\n                        msg = msg + window.Messages.phpErrorsFound;\n                        // scroll to bottom where all the errors are displayed.\n                        $('html, body').animate({ scrollTop: $(document).height() }, 'slow');\n                    }\n                }\n                Functions.ajaxShowMessage(msg, false);\n                // bind for php error reporting forms (popup)\n                $('#pma_ignore_errors_popup').on('click', function () {\n                    Functions.ignorePhpErrors();\n                });\n                $('#pma_ignore_all_errors_popup').on('click', function () {\n                    Functions.ignorePhpErrors(false);\n                });\n\n                if (typeof AJAX.callback === 'function') {\n                    AJAX.callback.call();\n                }\n                AJAX.callback = function () {\n                };\n            });\n        } else {\n            Functions.ajaxShowMessage(data.error, false);\n            Functions.ajaxRemoveMessage(AJAX.$msgbox);\n            var $ajaxError = $('<div></div>');\n            $ajaxError.attr({ 'id': 'ajaxError' });\n            $('#page_content').append($ajaxError);\n            $ajaxError.html(data.error);\n            $('html, body').animate({ scrollTop: $(document).height() }, 200);\n            AJAX.active = false;\n            AJAX.xhr = null;\n            Functions.handleRedirectAndReload(data);\n            if (data.fieldWithError) {\n                $(':input.error').removeClass('error');\n                $('#' + data.fieldWithError).addClass('error');\n            }\n        }\n    },\n    /**\n     * This object is in charge of downloading scripts,\n     * keeping track of what's downloaded and firing\n     * the onload event for them when the page is ready.\n     */\n    scriptHandler: {\n        /**\n         * @var {string[]} scripts The list of files already downloaded\n         */\n        scripts: [],\n        /**\n         * @var {string} scriptsVersion version of phpMyAdmin from which the\n         *                              scripts have been loaded\n         */\n        scriptsVersion: null,\n        /**\n         * @var {string[]} scriptsToBeLoaded The list of files that\n         *                                   need to be downloaded\n         */\n        scriptsToBeLoaded: [],\n        /**\n         * @var {string[]} scriptsToBeFired The list of files for which\n         *                                  to fire the onload and unload events\n         */\n        scriptsToBeFired: [],\n        scriptsCompleted: false,\n        /**\n         * Records that a file has been downloaded\n         *\n         * @param {string} file The filename\n         * @param {string} fire Whether this file will be registering\n         *                      onload/teardown events\n         *\n         * @return {self} For chaining\n         */\n        add: function (file, fire) {\n            this.scripts.push(file);\n            if (fire) {\n                // Record whether to fire any events for the file\n                // This is necessary to correctly tear down the initial page\n                this.scriptsToBeFired.push(file);\n            }\n            return this;\n        },\n        /**\n         * Download a list of js files in one request\n         *\n         * @param {string[]} files An array of filenames and flags\n         * @param {Function} callback\n         *\n         * @return {void}\n         */\n        load: function (files, callback) {\n            var self = this;\n            var i;\n            // Clear loaded scripts if they are from another version of phpMyAdmin.\n            // Depends on common params being set before loading scripts in responseHandler\n            if (self.scriptsVersion === null) {\n                self.scriptsVersion = CommonParams.get('version');\n            } else if (self.scriptsVersion !== CommonParams.get('version')) {\n                self.scripts = [];\n                self.scriptsVersion = CommonParams.get('version');\n            }\n            self.scriptsCompleted = false;\n            self.scriptsToBeFired = [];\n            // We need to first complete list of files to load\n            // as next loop will directly fire requests to load them\n            // and that triggers removal of them from\n            // self.scriptsToBeLoaded\n            for (i in files) {\n                self.scriptsToBeLoaded.push(files[i].name);\n                if (files[i].fire) {\n                    self.scriptsToBeFired.push(files[i].name);\n                }\n            }\n            for (i in files) {\n                var script = files[i].name;\n                // Only for scripts that we don't already have\n                if ($.inArray(script, self.scripts) === -1) {\n                    this.add(script);\n                    this.appendScript(script, callback);\n                } else {\n                    self.done(script, callback);\n                }\n            }\n            // Trigger callback if there is nothing else to load\n            self.done(null, callback);\n        },\n        /**\n         * Called whenever all files are loaded\n         *\n         * @param {string} script\n         * @param {Function?} callback\n         *\n         * @return {void}\n         */\n        done: function (script, callback) {\n            if ($.inArray(script, this.scriptsToBeFired)) {\n                AJAX.fireOnload(script);\n            }\n            if ($.inArray(script, this.scriptsToBeLoaded)) {\n                this.scriptsToBeLoaded.splice($.inArray(script, this.scriptsToBeLoaded), 1);\n            }\n            if (script === null) {\n                this.scriptsCompleted = true;\n            }\n            /* We need to wait for last signal (with null) or last script load */\n            AJAX.active = (this.scriptsToBeLoaded.length > 0) || ! this.scriptsCompleted;\n            /* Run callback on last script */\n            if (! AJAX.active && typeof callback === 'function') {\n                callback();\n            }\n        },\n        /**\n         * Appends a script element to the head to load the scripts\n         *\n         * @param {string} name\n         * @param {Function} callback\n         *\n         * @return {void}\n         */\n        appendScript: function (name, callback) {\n            var head = document.head || document.getElementsByTagName('head')[0];\n            var script = document.createElement('script');\n            var self = this;\n\n            script.type = 'text/javascript';\n            var file = name.indexOf('vendor/') !== -1 ? name : 'dist/' + name;\n            script.src = 'js/' + file + '?' + 'v=' + encodeURIComponent(CommonParams.get('version'));\n            script.async = false;\n            script.onload = function () {\n                self.done(name, callback);\n            };\n            head.appendChild(script);\n        },\n        /**\n         * Fires all the teardown event handlers for the current page\n         * and rebinds all forms and links to the request handler\n         *\n         * @param {Function} callback The callback to call after resetting\n         *\n         * @return {void}\n         */\n        reset: function (callback) {\n            for (var i in this.scriptsToBeFired) {\n                AJAX.fireTeardown(this.scriptsToBeFired[i]);\n            }\n            this.scriptsToBeFired = [];\n            /**\n             * Re-attach a generic event handler to clicks\n             * on pages and submissions of forms\n             */\n            $(document).off('click', 'a').on('click', 'a', AJAX.requestHandler);\n            $(document).off('submit', 'form').on('submit', 'form', AJAX.requestHandler);\n            callback();\n        }\n    },\n\n    /**\n     * Here we register a function that will remove the onsubmit event from all\n     * forms that will be handled by the generic page loader. We then save this\n     * event handler in the \"jQuery data\", so that we can fire it up later in\n     * AJAX.requestHandler().\n     *\n     * See bug #3583316\n     */\n    removeSubmitEvents: function () {\n        // Registering the onload event for functions.js\n        // ensures that it will be fired for all pages\n        $('form').not('.ajax').not('.disableAjax').each(function () {\n            if ($(this).attr('onsubmit')) {\n                $(this).data('onsubmit', this.onsubmit).attr('onsubmit', '');\n            }\n        });\n\n        var $pageContent = $('#page_content');\n        /**\n         * Workaround for passing submit button name,value on ajax form submit\n         * by appending hidden element with submit button name and value.\n         */\n        $pageContent.on('click', 'form input[type=submit]', function () {\n            var buttonName = $(this).attr('name');\n            if (typeof buttonName === 'undefined') {\n                return;\n            }\n            $(this).closest('form').append($('<input>', {\n                'type': 'hidden',\n                'name': buttonName,\n                'value': $(this).val()\n            }));\n        });\n\n        /**\n         * Attach event listener to events when user modify visible\n         * Input,Textarea and select fields to make changes in forms\n         */\n        $pageContent.on(\n            'keyup change',\n            'form.lock-page textarea, ' +\n            'form.lock-page input[type=\"text\"], ' +\n            'form.lock-page input[type=\"number\"], ' +\n            'form.lock-page select',\n            { value: 1 },\n            AJAX.lockPageHandler\n        );\n        $pageContent.on(\n            'change',\n            'form.lock-page input[type=\"checkbox\"], ' +\n            'form.lock-page input[type=\"radio\"]',\n            { value: 2 },\n            AJAX.lockPageHandler\n        );\n        /**\n         * Reset lock when lock-page form reset event is fired\n         * Note: reset does not bubble in all browser so attach to\n         * form directly.\n         */\n        $('form.lock-page').on('reset', function () {\n            AJAX.resetLock();\n        });\n    },\n\n    /**\n     * Page load event handler\n     * @return {function}\n     */\n    loadEventHandler: function () {\n        return function () {\n            var menuContent = $('<div></div>')\n                .append($('#server-breadcrumb').clone())\n                .append($('#topmenucontainer').clone())\n                .html();\n\n            // set initial state reload\n            var initState = ('state' in window.history && window.history.state !== null);\n            var initURL = $('#selflink').find('> a').attr('href') || location.href;\n            var state = {\n                url: initURL,\n                menu: menuContent\n            };\n            history.replaceState(state, null);\n\n            $(window).on('popstate', function (event) {\n                var initPop = (! initState && location.href === initURL);\n                initState = true;\n                // check if popstate fired on first page itself\n                if (initPop) {\n                    return;\n                }\n                var state = event.originalEvent.state;\n                if (state && state.menu) {\n                    AJAX.$msgbox = Functions.ajaxShowMessage();\n                    var params = 'ajax_request=true' + CommonParams.get('arg_separator') + 'ajax_page_request=true';\n                    var url = state.url || location.href;\n                    $.get(url, params, AJAX.responseHandler);\n                    // TODO: Check if sometimes menu is not retrieved from server,\n                    // Not sure but it seems menu was missing only for printview which\n                    // been removed lately, so if it's right some dead menu checks/fallbacks\n                    // may need to be removed from this file and Header.php\n                    // AJAX.handleMenu.replace(event.originalEvent.state.menu);\n                }\n            });\n        };\n    },\n\n    /**\n     * Gracefully handle fatal server errors (e.g: 500 - Internal server error)\n     * @return {function}\n     */\n    getFatalErrorHandler: function () {\n        return function (event, request) {\n            if (AJAX.debug) {\n                // eslint-disable-next-line no-console\n                console.log('AJAX error: status=' + request.status + ', text=' + request.statusText);\n            }\n            // Don't handle aborted requests\n            if (request.status !== 0 || request.statusText !== 'abort') {\n                var details = '';\n                var state = request.state();\n\n                if (\n                    'responseJSON' in request &&\n                    'isErrorResponse' in request.responseJSON &&\n                    request.responseJSON.isErrorResponse\n                ) {\n                    Functions.ajaxShowMessage(\n                        '<div class=\"alert alert-danger\" role=\"alert\">' +\n                        Functions.escapeHtml(request.responseJSON.error) +\n                        '</div>',\n                        false\n                    );\n                    AJAX.active = false;\n                    AJAX.xhr = null;\n\n                    return;\n                }\n\n                if (request.status !== 0) {\n                    details += '<div>' + Functions.escapeHtml(window.sprintf(window.Messages.strErrorCode, request.status)) + '</div>';\n                }\n                details += '<div>' + Functions.escapeHtml(window.sprintf(window.Messages.strErrorText, request.statusText + ' (' + state + ')')) + '</div>';\n                if (state === 'rejected' || state === 'timeout') {\n                    details += '<div>' + Functions.escapeHtml(window.Messages.strErrorConnection) + '</div>';\n                }\n                Functions.ajaxShowMessage(\n                    '<div class=\"alert alert-danger\" role=\"alert\">' +\n                    window.Messages.strErrorProcessingRequest +\n                    details +\n                    '</div>',\n                    false\n                );\n                AJAX.active = false;\n                AJAX.xhr = null;\n            }\n        };\n    }\n};\n\nwindow.AJAX = AJAX;\n\nexport { AJAX };\n","import $ from 'jquery';\nimport { AJAX } from './ajax.js';\nimport { Navigation } from './navigation.js';\nimport { CommonActions, CommonParams } from './common.js';\nimport { mysqlDocKeyword, mysqlDocBuiltin } from './doc-links.js';\nimport { Indexes } from './indexes.js';\nimport { Config } from './config.js';\n\n/* global ChartType, ColumnType, DataTable, JQPlotChartFactory */ // js/chart.js\n/* global DatabaseStructure */ // js/database/structure.js\n/* global firstDayOfCalendar, maxInputVars, mysqlDocTemplate, themeImagePath */ // templates/javascript/variables.twig\n\n/**\n * General functions, usually for data manipulation pages.\n * @type {object}\n */\nconst Functions = {};\nwindow.Functions = Functions;\n\n/**\n * Number of AJAX messages shown since page load.\n * @type {number}\n */\nlet ajaxMessageCount = 0;\n\n/**\n * Object containing CodeMirror editor of the query editor in SQL tab.\n * @type {(object|boolean|null)}\n */\nwindow.codeMirrorEditor = false;\n\n/**\n * Object containing CodeMirror editor of the inline query editor.\n * @type {(object|boolean|null)}\n */\nlet codeMirrorInlineEditor = false;\n\n/**\n * Shows if Table/Column name autocomplete AJAX is in progress.\n * @type {boolean}\n */\nlet sqlAutoCompleteInProgress = false;\n\n/**\n * Object containing list of columns in each table.\n * @type {(array|boolean)}\n */\nlet sqlAutoComplete = false;\n\n/**\n * String containing default table to autocomplete columns.\n * @type {string}\n */\nlet sqlAutoCompleteDefaultTable = '';\n\n/**\n * Array to hold the columns in central list per db.\n * @type {array}\n */\nwindow.centralColumnList = [];\n\n/**\n * Array to hold 'Primary' index columns.\n * @type {array}\n */\nwindow.primaryIndexes = [];\n\n/**\n * Array to hold 'Unique' index columns.\n * @type {array}\n */\nwindow.uniqueIndexes = [];\n\n/**\n * Array to hold 'Index' columns.\n * @type {array}\n */\nwindow.indexes = [];\n\n/**\n * Array to hold 'Fulltext' columns.\n * @type {array}\n */\nwindow.fulltextIndexes = [];\n\n/**\n * Array to hold 'Spatial' columns.\n * @type {array}\n */\nwindow.spatialIndexes = [];\n\n/**\n * Make sure that ajax requests will not be cached by appending a random variable to their parameters.\n * @return {function}\n */\nFunctions.addNoCacheToAjaxRequests = () => function (options, originalOptions) {\n    var nocache = new Date().getTime() + '' + Math.floor(Math.random() * 1000000);\n    if (typeof options.data === 'string') {\n        options.data += '&_nocache=' + nocache + '&token=' + encodeURIComponent(CommonParams.get('token'));\n    } else if (typeof options.data === 'object') {\n        options.data = $.extend(originalOptions.data, {\n            '_nocache': nocache,\n            'token': CommonParams.get('token')\n        });\n    }\n};\n\n/**\n * @return {number}\n */\nFunctions.getAjaxMessageCount = function () {\n    return ajaxMessageCount;\n};\n\n/**\n * Adds a date/time picker to an element\n *\n * @param {object} $thisElement a jQuery object pointing to the element\n * @param {string} type\n * @param {object} options\n */\nFunctions.addDatepicker = function ($thisElement, type, options) {\n    if (type !== 'date' && type !== 'time' && type !== 'datetime' && type !== 'timestamp') {\n        return;\n    }\n\n    var showTimepicker = true;\n    if (type === 'date') {\n        showTimepicker = false;\n    }\n\n    // Getting the current Date and time\n    var currentDateTime = new Date();\n\n    var defaultOptions = {\n        timeInput: true,\n        hour: currentDateTime.getHours(),\n        minute: currentDateTime.getMinutes(),\n        second: currentDateTime.getSeconds(),\n        showOn: 'button',\n        buttonImage: themeImagePath + 'b_calendar.png',\n        buttonImageOnly: true,\n        stepMinutes: 1,\n        stepHours: 1,\n        showSecond: true,\n        showMillisec: true,\n        showMicrosec: true,\n        showTimepicker: showTimepicker,\n        showButtonPanel: false,\n        changeYear: true,\n        dateFormat: 'yy-mm-dd', // yy means year with four digits\n        timeFormat: 'HH:mm:ss.lc',\n        constrainInput: false,\n        altFieldTimeOnly: false,\n        showAnim: '',\n        beforeShow: function (input, inst) {\n            // Remember that we came from the datepicker; this is used\n            // in table/change.js by verificationsAfterFieldChange()\n            $thisElement.data('comes_from', 'datepicker');\n            if ($(input).closest('.cEdit').length > 0) {\n                setTimeout(function () {\n                    inst.dpDiv.css({\n                        top: 0,\n                        left: 0,\n                        position: 'relative'\n                    });\n                }, 0);\n            }\n            setTimeout(function () {\n                // Fix wrong timepicker z-index, doesn't work without timeout\n                $('#ui-timepicker-div').css('z-index', $('#ui-datepicker-div').css('z-index'));\n                // Integrate tooltip text into dialog\n                var tooltip = $thisElement.uiTooltip('instance');\n                if (typeof tooltip !== 'undefined') {\n                    tooltip.disable();\n                    var $note = $('<p class=\"note\"></div>');\n                    $note.text(tooltip.option('content'));\n                    $('div.ui-datepicker').append($note);\n                }\n            }, 0);\n        },\n        onSelect: function () {\n            $thisElement.data('datepicker').inline = true;\n        },\n        onClose: function () {\n            // The value is no more from the date picker\n            $thisElement.data('comes_from', '');\n            if (typeof $thisElement.data('datepicker') !== 'undefined') {\n                $thisElement.data('datepicker').inline = false;\n            }\n            var tooltip = $thisElement.uiTooltip('instance');\n            if (typeof tooltip !== 'undefined') {\n                tooltip.enable();\n            }\n        }\n    };\n    if (type === 'time') {\n        $thisElement.timepicker($.extend(defaultOptions, options));\n        // Add a tip regarding entering MySQL allowed-values for TIME data-type\n        Functions.tooltip($thisElement, 'input', window.Messages.strMysqlAllowedValuesTipTime);\n    } else {\n        $thisElement.datetimepicker($.extend(defaultOptions, options));\n    }\n};\n\n/**\n * Add a date/time picker to each element that needs it\n * (only when jquery-ui-timepicker-addon.js is loaded)\n */\nFunctions.addDateTimePicker = function () {\n    if ($.timepicker !== undefined) {\n        $('input.timefield, input.datefield, input.datetimefield').each(function () {\n            var decimals = $(this).parent().attr('data-decimals');\n            var type = $(this).parent().attr('data-type');\n\n            var showMillisec = false;\n            var showMicrosec = false;\n            var timeFormat = 'HH:mm:ss';\n            var hourMax = 23;\n            // check for decimal places of seconds\n            if (decimals > 0 && type.indexOf('time') !== -1) {\n                if (decimals > 3) {\n                    showMillisec = true;\n                    showMicrosec = true;\n                    timeFormat = 'HH:mm:ss.lc';\n                } else {\n                    showMillisec = true;\n                    timeFormat = 'HH:mm:ss.l';\n                }\n            }\n            if (type === 'time') {\n                hourMax = 99;\n            }\n            Functions.addDatepicker($(this), type, {\n                showMillisec: showMillisec,\n                showMicrosec: showMicrosec,\n                timeFormat: timeFormat,\n                hourMax: hourMax,\n                firstDay: firstDayOfCalendar\n            });\n            // Add a tip regarding entering MySQL allowed-values\n            // for TIME and DATE data-type\n            if ($(this).hasClass('timefield')) {\n                Functions.tooltip($(this), 'input', window.Messages.strMysqlAllowedValuesTipTime);\n            } else if ($(this).hasClass('datefield')) {\n                Functions.tooltip($(this), 'input', window.Messages.strMysqlAllowedValuesTipDate);\n            }\n        });\n    }\n};\n\n/**\n * Handle redirect and reload flags sent as part of AJAX requests\n *\n * @param data ajax response data\n */\nFunctions.handleRedirectAndReload = function (data) {\n    if (parseInt(data.redirect_flag) === 1) {\n        // add one more GET param to display session expiry msg\n        if (window.location.href.indexOf('?') === -1) {\n            window.location.href += '?session_expired=1';\n        } else {\n            window.location.href += CommonParams.get('arg_separator') + 'session_expired=1';\n        }\n        window.location.reload();\n    } else if (parseInt(data.reload_flag) === 1) {\n        window.location.reload();\n    }\n};\n\n/**\n * Creates an SQL editor which supports auto completing etc.\n *\n * @param $textarea   jQuery object wrapping the textarea to be made the editor\n * @param options     optional options for CodeMirror\n * @param {'vertical'|'horizontal'|'both'} resize optional resizing ('vertical', 'horizontal', 'both')\n * @param lintOptions additional options for lint\n *\n * @return {object|null}\n */\nFunctions.getSqlEditor = function ($textarea, options, resize, lintOptions) {\n    var resizeType = resize;\n    if ($textarea.length > 0 && typeof window.CodeMirror !== 'undefined') {\n        // merge options for CodeMirror\n        var defaults = {\n            lineNumbers: true,\n            matchBrackets: true,\n            extraKeys: { 'Ctrl-Space': 'autocomplete' },\n            hintOptions: { 'completeSingle': false, 'completeOnSingleClick': true },\n            indentUnit: 4,\n            mode: 'text/x-mysql',\n            lineWrapping: true\n        };\n\n        if (window.CodeMirror.sqlLint) {\n            $.extend(defaults, {\n                gutters: ['CodeMirror-lint-markers'],\n                lint: {\n                    'getAnnotations': window.CodeMirror.sqlLint,\n                    'async': true,\n                    'lintOptions': lintOptions\n                }\n            });\n        }\n\n        $.extend(true, defaults, options);\n\n        // create CodeMirror editor\n        var codemirrorEditor = window.CodeMirror.fromTextArea($textarea[0], defaults);\n        // allow resizing\n        if (! resizeType) {\n            resizeType = 'vertical';\n        }\n        var handles = '';\n        if (resizeType === 'vertical') {\n            handles = 's';\n        }\n        if (resizeType === 'both') {\n            handles = 'all';\n        }\n        if (resizeType === 'horizontal') {\n            handles = 'e, w';\n        }\n        $(codemirrorEditor.getWrapperElement())\n            .css('resize', resizeType)\n            .resizable({\n                handles: handles,\n                resize: function () {\n                    codemirrorEditor.setSize($(this).width(), $(this).height());\n                }\n            });\n        // enable autocomplete\n        codemirrorEditor.on('inputRead', Functions.codeMirrorAutoCompleteOnInputRead);\n\n        // page locking\n        codemirrorEditor.on('change', function (e) {\n            e.data = {\n                value: 3,\n                content: codemirrorEditor.isClean(),\n            };\n            AJAX.lockPageHandler(e);\n        });\n\n        return codemirrorEditor;\n    }\n    return null;\n};\n\n/**\n * Clear text selection\n */\nFunctions.clearSelection = function () {\n    if (document.selection && document.selection.empty) {\n        document.selection.empty();\n    } else if (window.getSelection) {\n        var sel = window.getSelection();\n        if (sel.empty) {\n            sel.empty();\n        }\n        if (sel.removeAllRanges) {\n            sel.removeAllRanges();\n        }\n    }\n};\n\n/**\n * Create a jQuery UI tooltip\n *\n * @param $elements     jQuery object representing the elements\n * @param item          the item\n *                      (see https://api.jqueryui.com/tooltip/#option-items)\n * @param myContent     content of the tooltip\n * @param additionalOptions to override the default options\n *\n */\nFunctions.tooltip = function ($elements, item, myContent, additionalOptions) {\n    if ($('#no_hint').length > 0) {\n        return;\n    }\n\n    var defaultOptions = {\n        content: myContent,\n        items: item,\n        tooltipClass: 'tooltip',\n        track: true,\n        show: false,\n        hide: false\n    };\n\n    $elements.uiTooltip($.extend(true, defaultOptions, additionalOptions));\n};\n\n/**\n * @param {string} value\n * @return {string}\n */\nconst escapeHtml = (value = '') => {\n    const element = document.createElement('span');\n    element.appendChild(document.createTextNode(value));\n    return element.innerHTML;\n};\n\nFunctions.escapeHtml = escapeHtml;\n\n/**\n * JavaScript escaping\n *\n * @param {any} unsafe\n * @return {string | false}\n */\nFunctions.escapeJsString = function (unsafe) {\n    if (typeof (unsafe) !== 'undefined') {\n        return unsafe\n            .toString()\n            .replace('\\x00', '')\n            .replace('\\\\', '\\\\\\\\')\n            .replace('\\'', '\\\\\\'')\n            .replace('&#039;', '\\\\&#039;')\n            .replace('\"', '\\\\\"')\n            .replace('&quot;', '\\\\&quot;')\n            .replace('\\n', '\\n')\n            .replace('\\r', '\\r')\n            .replace(/<\\/script/gi, '</\\' + \\'script');\n    } else {\n        return false;\n    }\n};\n\n/**\n * @param {string} s\n * @return {string}\n */\nFunctions.escapeBacktick = function (s) {\n    return s.replace('`', '``');\n};\n\n/**\n * @param {string} s\n * @return {string}\n */\nFunctions.escapeSingleQuote = function (s) {\n    return s.replace('\\\\', '\\\\\\\\').replace('\\'', '\\\\\\'');\n};\n\n/**\n * Hides/shows the default value input field, depending on the default type\n * Ticks the NULL checkbox if NULL is chosen as default value.\n *\n * @param {JQuery<HTMLElement>} $defaultType\n */\nFunctions.hideShowDefaultValue = function ($defaultType) {\n    if ($defaultType.val() === 'USER_DEFINED') {\n        $defaultType.siblings('.default_value').show().trigger('focus');\n    } else {\n        $defaultType.siblings('.default_value').hide();\n        if ($defaultType.val() === 'NULL') {\n            var $nullCheckbox = $defaultType.closest('tr').find('.allow_null');\n            $nullCheckbox.prop('checked', true);\n        }\n    }\n};\n\n/**\n * Hides/shows the input field for column expression based on whether\n * VIRTUAL/PERSISTENT is selected\n *\n * @param $virtuality virtuality dropdown\n */\nFunctions.hideShowExpression = function ($virtuality) {\n    if ($virtuality.val() === '') {\n        $virtuality.siblings('.expression').hide();\n    } else {\n        $virtuality.siblings('.expression').show();\n    }\n};\n\n/**\n * Show notices for ENUM columns; add/hide the default value\n *\n */\nFunctions.verifyColumnsProperties = function () {\n    $('select.column_type').each(function () {\n        Functions.showNoticeForEnum($(this));\n        Functions.showWarningForIntTypes();\n    });\n    $('select.default_type').each(function () {\n        Functions.hideShowDefaultValue($(this));\n    });\n    $('select.virtuality').each(function () {\n        Functions.hideShowExpression($(this));\n    });\n};\n\n/**\n * Add a hidden field to the form to indicate that this will be an\n * Ajax request (only if this hidden field does not exist)\n *\n * @param {object} $form the form\n */\nFunctions.prepareForAjaxRequest = function ($form) {\n    if (! $form.find('input:hidden').is('#ajax_request_hidden')) {\n        $form.append('<input type=\"hidden\" id=\"ajax_request_hidden\" name=\"ajax_request\" value=\"true\">');\n    }\n};\n\nFunctions.checkPasswordStrength = function (value, meterObject, meterObjectLabel, username) {\n    // List of words we don't want to appear in the password\n    var customDict = [\n        'phpmyadmin',\n        'mariadb',\n        'mysql',\n        'php',\n        'my',\n        'admin',\n    ];\n    if (username !== null) {\n        customDict.push(username);\n    }\n\n    window.zxcvbnts.core.zxcvbnOptions.setOptions({ dictionary: { userInputs: customDict } });\n    var zxcvbnObject = window.zxcvbnts.core.zxcvbn(value);\n    var strength = zxcvbnObject.score;\n    strength = parseInt(strength);\n    meterObject.val(strength);\n    switch (strength) {\n    case 0:\n        meterObjectLabel.html(window.Messages.strExtrWeak);\n        break;\n    case 1:\n        meterObjectLabel.html(window.Messages.strVeryWeak);\n        break;\n    case 2:\n        meterObjectLabel.html(window.Messages.strWeak);\n        break;\n    case 3:\n        meterObjectLabel.html(window.Messages.strGood);\n        break;\n    case 4:\n        meterObjectLabel.html(window.Messages.strStrong);\n    }\n};\n\n/**\n * Generate a new password and copy it to the password input areas\n *\n * @param {object} passwordForm the form that holds the password fields\n *\n * @return {boolean} always true\n */\nFunctions.suggestPassword = function (passwordForm) {\n    // restrict the password to just letters and numbers to avoid problems:\n    // \"editors and viewers regard the password as multiple words and\n    // things like double click no longer work\"\n    var pwchars = 'abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWYXZ@!_.*/()[]-';\n    var passwordlength = 16;    // do we want that to be dynamic?  no, keep it simple :)\n    var passwd = passwordForm.generated_pw;\n    // eslint-disable-next-line compat/compat\n    var randomWords = new Int32Array(passwordlength);\n\n    passwd.value = '';\n\n    var i;\n\n    // First we're going to try to use a built-in CSPRNG\n    // eslint-disable-next-line compat/compat\n    if (window.crypto && window.crypto.getRandomValues) {\n        // eslint-disable-next-line compat/compat\n        window.crypto.getRandomValues(randomWords);\n    } else if (window.msCrypto && window.msCrypto.getRandomValues) {\n        // Because of course IE calls it msCrypto instead of being standard\n        window.msCrypto.getRandomValues(randomWords);\n    } else {\n        // Fallback to Math.random\n        for (i = 0; i < passwordlength; i++) {\n            randomWords[i] = Math.floor(Math.random() * pwchars.length);\n        }\n    }\n\n    for (i = 0; i < passwordlength; i++) {\n        passwd.value += pwchars.charAt(Math.abs(randomWords[i]) % pwchars.length);\n    }\n\n    var $jQueryPasswordForm = $(passwordForm);\n\n    passwordForm.elements.pma_pw.value = passwd.value;\n    passwordForm.elements.pma_pw2.value = passwd.value;\n    var meterObj = $jQueryPasswordForm.find('meter[name=\"pw_meter\"]').first();\n    var meterObjLabel = $jQueryPasswordForm.find('span[name=\"pw_strength\"]').first();\n    Functions.checkPasswordStrength(passwd.value, meterObj, meterObjLabel);\n    return true;\n};\n\n/**\n * for PhpMyAdmin\\Display\\ChangePassword and /user-password\n */\nFunctions.displayPasswordGenerateButton = function () {\n    var generatePwdRow = $('<tr></tr>').addClass('align-middle');\n    $('<td></td>').html(window.Messages.strGeneratePassword).appendTo(generatePwdRow);\n    var pwdCell = $('<td colspan=\"2\"></td>').addClass('row').appendTo(generatePwdRow);\n\n    pwdCell.append('<div class=\"d-flex align-items-center col-4\"></div>');\n\n    var pwdButton = $('<input>')\n        .attr({ type: 'button', id: 'button_generate_password', value: window.Messages.strGenerate })\n        .addClass('btn btn-secondary button')\n        .on('click', function () {\n            Functions.suggestPassword(this.form);\n        });\n    var pwdTextbox = $('<input>')\n        .attr({ type: 'text', name: 'generated_pw', id: 'generated_pw' })\n        .addClass('col-6');\n\n    pwdCell.find('div').eq(0).append(pwdButton);\n    pwdCell.append(pwdTextbox);\n\n    if (document.getElementById('button_generate_password') === null) {\n        $('#tr_element_before_generate_password').parent().append(generatePwdRow);\n    }\n\n    var generatePwdDiv = $('<div></div>').addClass('item');\n    $('<label></label>').attr({ for: 'button_generate_password' })\n        .html(window.Messages.strGeneratePassword + ':')\n        .appendTo(generatePwdDiv);\n    var optionsSpan = $('<span></span>').addClass('options')\n        .appendTo(generatePwdDiv);\n    pwdButton.clone(true).appendTo(optionsSpan);\n    pwdTextbox.clone(true).appendTo(generatePwdDiv);\n\n    if (document.getElementById('button_generate_password') === null) {\n        $('#div_element_before_generate_password').parent().append(generatePwdDiv);\n    }\n};\n\n/**\n * Displays a confirmation box before submitting a \"DROP/DELETE/ALTER\" query.\n * This function is called while clicking links\n *\n * @param {object} theLink     the link\n * @param {object} theSqlQuery the sql query to submit\n *\n * @return {boolean} whether to run the query or not\n */\nFunctions.confirmLink = function (theLink, theSqlQuery) {\n    // Confirmation is not required in the configuration file\n    // or browser is Opera (crappy js implementation)\n    if (window.Messages.strDoYouReally === '' || typeof (window.opera) !== 'undefined') {\n        return true;\n    }\n\n    var isConfirmed = confirm(window.sprintf(window.Messages.strDoYouReally, theSqlQuery));\n    if (isConfirmed) {\n        if (typeof (theLink.href) !== 'undefined') {\n            theLink.href += CommonParams.get('arg_separator') + 'is_js_confirmed=1';\n        } else if (typeof (theLink.form) !== 'undefined') {\n            theLink.form.action += '?is_js_confirmed=1';\n        }\n    }\n\n    return isConfirmed;\n};\n\n/**\n * Confirms a \"DROP/DELETE/ALTER\" query before\n * submitting it if required.\n * This function is called by the 'Functions.checkSqlQuery()' js function.\n *\n * @param {object} theForm1  the form\n * @param {string} sqlQuery1 the sql query string\n *\n * @return {boolean} whether to run the query or not\n *\n * @see Functions.checkSqlQuery()\n */\nFunctions.confirmQuery = function (theForm1, sqlQuery1) {\n    // Confirmation is not required in the configuration file\n    if (window.Messages.strDoYouReally === '') {\n        return true;\n    }\n\n    // Confirms a \"DROP/DELETE/ALTER/TRUNCATE\" statement\n    //\n    // TODO: find a way (if possible) to use the parser-analyser\n    // for this kind of verification\n    // For now, I just added a ^ to check for the statement at\n    // beginning of expression\n\n    var doConfirmRegExp0 = new RegExp('^\\\\s*DROP\\\\s+(IF EXISTS\\\\s+)?(TABLE|PROCEDURE)\\\\s', 'i');\n    var doConfirmRegExp1 = new RegExp('^\\\\s*ALTER\\\\s+TABLE\\\\s+((`[^`]+`)|([A-Za-z0-9_$]+))\\\\s+DROP\\\\s', 'i');\n    var doConfirmRegExp2 = new RegExp('^\\\\s*DELETE\\\\s+FROM\\\\s', 'i');\n    var doConfirmRegExp3 = new RegExp('^\\\\s*TRUNCATE\\\\s', 'i');\n    var doConfirmRegExp4 = new RegExp('^(?=.*UPDATE\\\\b)^((?!WHERE).)*$', 'i');\n\n    if (doConfirmRegExp0.test(sqlQuery1) ||\n        doConfirmRegExp1.test(sqlQuery1) ||\n        doConfirmRegExp2.test(sqlQuery1) ||\n        doConfirmRegExp3.test(sqlQuery1) ||\n        doConfirmRegExp4.test(sqlQuery1)) {\n        var message;\n        if (sqlQuery1.length > 100) {\n            message = sqlQuery1.substring(0, 100) + '\\n    ...';\n        } else {\n            message = sqlQuery1;\n        }\n        var isConfirmed = confirm(window.sprintf(window.Messages.strDoYouReally, message));\n        // statement is confirmed -> update the\n        // \"is_js_confirmed\" form field so the confirm test won't be\n        // run on the server side and allows to submit the form\n        if (isConfirmed) {\n            theForm1.elements.is_js_confirmed.value = 1;\n            return true;\n        } else {\n            // statement is rejected -> do not submit the form\n            window.focus();\n            return false;\n        } // end if (handle confirm box result)\n    } // end if (display confirm box)\n\n    return true;\n};\n\n/**\n * Displays an error message if the user submitted the sql query form with no\n * sql query, else checks for \"DROP/DELETE/ALTER\" statements\n *\n * @param {object} theForm the form\n *\n * @return {boolean} always false\n *\n * @see Functions.confirmQuery()\n */\nFunctions.checkSqlQuery = function (theForm) {\n    // get the textarea element containing the query\n    var sqlQuery;\n    if (window.codeMirrorEditor) {\n        window.codeMirrorEditor.save();\n        sqlQuery = window.codeMirrorEditor.getValue();\n    } else {\n        sqlQuery = theForm.elements.sql_query.value;\n    }\n    var spaceRegExp = new RegExp('\\\\s+');\n    if (typeof (theForm.elements.sql_file) !== 'undefined' &&\n        theForm.elements.sql_file.value.replace(spaceRegExp, '') !== '') {\n        return true;\n    }\n    if (typeof (theForm.elements.id_bookmark) !== 'undefined' &&\n        (theForm.elements.id_bookmark.value !== null || theForm.elements.id_bookmark.value !== '') &&\n        theForm.elements.id_bookmark.selectedIndex !== 0) {\n        return true;\n    }\n    var result = false;\n    // Checks for \"DROP/DELETE/ALTER\" statements\n    if (sqlQuery.replace(spaceRegExp, '') !== '') {\n        result = Functions.confirmQuery(theForm, sqlQuery);\n    } else {\n        alert(window.Messages.strFormEmpty);\n    }\n\n    if (window.codeMirrorEditor) {\n        window.codeMirrorEditor.focus();\n    } else if (codeMirrorInlineEditor) {\n        codeMirrorInlineEditor.focus();\n    }\n    return result;\n};\n\n/**\n * Check if a form's element is empty.\n * An element containing only spaces is also considered empty\n *\n * @param {object} theForm      the form\n * @param {string} theFieldName the name of the form field to put the focus on\n *\n * @return {boolean} whether the form field is empty or not\n */\nFunctions.emptyCheckTheField = function (theForm, theFieldName) {\n    var theField = theForm.elements[theFieldName];\n    var spaceRegExp = new RegExp('\\\\s+');\n    return theField.value.replace(spaceRegExp, '') === '';\n};\n\n/**\n * Ensures a value submitted in a form is numeric and is in a range\n *\n * @param {object} theForm the form\n * @param {string} theFieldName the name of the form field to check\n * @param {any} message\n * @param {number} minimum the minimum authorized value\n * @param {number} maximum the maximum authorized value\n *\n * @return {boolean}  whether a valid number has been submitted or not\n */\nFunctions.checkFormElementInRange = function (theForm, theFieldName, message, minimum, maximum) {\n    var theField = theForm.elements[theFieldName];\n    var val = parseInt(theField.value, 10);\n    var min = 0;\n    var max = Number.MAX_VALUE;\n\n    if (typeof (minimum) !== 'undefined') {\n        min = minimum;\n    }\n    if (typeof (maximum) !== 'undefined' && maximum !== null) {\n        max = maximum;\n    }\n\n    if (isNaN(val)) {\n        theField.select();\n        alert(window.Messages.strEnterValidNumber);\n        theField.focus();\n        return false;\n    } else if (val < min || val > max) {\n        theField.select();\n        alert(window.sprintf(message, val));\n        theField.focus();\n        return false;\n    } else {\n        theField.value = val;\n    }\n    return true;\n};\n\nFunctions.checkTableEditForm = function (theForm, fieldsCnt) {\n    // TODO: avoid sending a message if user just wants to add a line\n    // on the form but has not completed at least one field name\n\n    var atLeastOneField = 0;\n    var i;\n    var elm;\n    var elm2;\n    var elm3;\n    var val;\n    var id;\n\n    for (i = 0; i < fieldsCnt; i++) {\n        id = '#field_' + i + '_2';\n        elm = $(id);\n        val = elm.val();\n        if (val === 'VARCHAR' || val === 'CHAR' || val === 'BIT' || val === 'VARBINARY' || val === 'BINARY') {\n            elm2 = $('#field_' + i + '_3');\n            val = parseInt(elm2.val(), 10);\n            elm3 = $('#field_' + i + '_1');\n            if (isNaN(val) && elm3.val() !== '') {\n                elm2.select();\n                alert(window.Messages.strEnterValidLength);\n                elm2.focus();\n                return false;\n            }\n        }\n\n        if (atLeastOneField === 0) {\n            id = 'field_' + i + '_1';\n            if (! Functions.emptyCheckTheField(theForm, id)) {\n                atLeastOneField = 1;\n            }\n        }\n    }\n    if (atLeastOneField === 0) {\n        var theField = theForm.elements.field_0_1;\n        alert(window.Messages.strFormEmpty);\n        theField.focus();\n        return false;\n    }\n\n    // at least this section is under jQuery\n    var $input = $('input.textfield[name=\\'table\\']');\n    if ($input.val() === '') {\n        alert(window.Messages.strFormEmpty);\n        $input.trigger('focus');\n        return false;\n    }\n\n    return true;\n};\n\n/**\n * True if last click is to check a row.\n * @type {boolean}\n */\nlet lastClickChecked = false;\n\n/**\n * Zero-based index of last clicked row. Used to handle the shift + click event in the code above.\n * @type {number}\n */\nlet lastClickedRow = -1;\n\n/**\n * Zero-based index of last shift clicked row.\n * @type {number}\n */\nlet lastShiftClickedRow = -1;\n\n/** @type {number} */\nlet idleSecondsCounter = 0;\n/** @type {number} */\nlet incInterval;\n/** @type {number} */\nlet updateTimeout;\n\nFunctions.teardownIdleEvent = function () {\n    clearTimeout(updateTimeout);\n    clearInterval(incInterval);\n    $(document).off('mousemove');\n};\n\nFunctions.onloadIdleEvent = function () {\n    document.onclick = function () {\n        idleSecondsCounter = 0;\n    };\n    $(document).on('mousemove', function () {\n        idleSecondsCounter = 0;\n    });\n    document.onkeypress = function () {\n        idleSecondsCounter = 0;\n    };\n\n    function guid () {\n        function s4 () {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        }\n\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n            s4() + '-' + s4() + s4() + s4();\n    }\n\n    function SetIdleTime () {\n        idleSecondsCounter++;\n    }\n\n    function UpdateIdleTime () {\n        var href = 'index.php?route=/';\n        var guid = 'default';\n        if (Config.isStorageSupported('sessionStorage')) {\n            guid = window.sessionStorage.guid;\n        }\n        var params = {\n            'ajax_request': true,\n            'server': CommonParams.get('server'),\n            'db': CommonParams.get('db'),\n            'guid': guid,\n            'access_time': idleSecondsCounter,\n            'check_timeout': 1\n        };\n        $.ajax({\n            type: 'POST',\n            url: href,\n            data: params,\n            success: function (data) {\n                if (data.success) {\n                    if (CommonParams.get('LoginCookieValidity') - idleSecondsCounter < 0) {\n                        /* There is other active window, let's reset counter */\n                        idleSecondsCounter = 0;\n                    }\n                    var remaining = Math.min(\n                        /* Remaining login validity */\n                        CommonParams.get('LoginCookieValidity') - idleSecondsCounter,\n                        /* Remaining time till session GC */\n                        CommonParams.get('session_gc_maxlifetime')\n                    );\n                    var interval = 1000;\n                    if (remaining > 5) {\n                        // max value for setInterval() function\n                        interval = Math.min((remaining - 1) * 1000, Math.pow(2, 31) - 1);\n                    }\n                    updateTimeout = window.setTimeout(UpdateIdleTime, interval);\n                } else { // timeout occurred\n                    clearInterval(incInterval);\n                    if (Config.isStorageSupported('sessionStorage')) {\n                        window.sessionStorage.clear();\n                    }\n                    // append the login form on the page, disable all the forms which were not disabled already, close all the open jqueryui modal boxes\n                    if (! $('#modalOverlay').length) {\n                        $('fieldset').not(':disabled').attr('disabled', 'disabled').addClass('disabled_for_expiration');\n                        $('body').append(data.error);\n                        $('.ui-dialog').each(function () {\n                            $('#' + $(this).attr('aria-describedby')).dialog('close');\n                        });\n                        $('#input_username').trigger('focus');\n                    } else {\n                        CommonParams.set('token', data.new_token);\n                        $('input[name=token]').val(data.new_token);\n                    }\n                    idleSecondsCounter = 0;\n                    Functions.handleRedirectAndReload(data);\n                }\n            }\n        });\n    }\n\n    if (CommonParams.get('logged_in')) {\n        incInterval = window.setInterval(SetIdleTime, 1000);\n        var sessionTimeout = Math.min(\n            CommonParams.get('LoginCookieValidity'),\n            CommonParams.get('session_gc_maxlifetime')\n        );\n        if (Config.isStorageSupported('sessionStorage')) {\n            window.sessionStorage.setItem('guid', guid());\n        }\n        var interval = (sessionTimeout - 5) * 1000;\n        if (interval > Math.pow(2, 31) - 1) { // max value for setInterval() function\n            interval = Math.pow(2, 31) - 1;\n        }\n        updateTimeout = window.setTimeout(UpdateIdleTime, interval);\n    }\n};\n\n/**\n * @return {function}\n */\nFunctions.getCheckAllCheckboxEventHandler = function () {\n    return function (e) {\n        var $this = $(this);\n        var $tr = $this.closest('tr');\n        var $table = $this.closest('table');\n\n        if (! e.shiftKey || lastClickedRow === -1) {\n            // usual click\n\n            var $checkbox = $tr.find(':checkbox.checkall');\n            var checked = $this.prop('checked');\n            $checkbox.prop('checked', checked).trigger('change');\n            if (checked) {\n                $tr.addClass('marked table-active');\n            } else {\n                $tr.removeClass('marked table-active');\n            }\n            lastClickChecked = checked;\n\n            // remember the last clicked row\n            lastClickedRow = lastClickChecked ? $table.find('tbody tr:not(.noclick)').index($tr) : -1;\n            lastShiftClickedRow = -1;\n        } else {\n            // handle the shift click\n            Functions.clearSelection();\n            var start;\n            var end;\n\n            // clear last shift click result\n            if (lastShiftClickedRow >= 0) {\n                if (lastShiftClickedRow >= lastClickedRow) {\n                    start = lastClickedRow;\n                    end = lastShiftClickedRow;\n                } else {\n                    start = lastShiftClickedRow;\n                    end = lastClickedRow;\n                }\n                $tr.parent().find('tr:not(.noclick)')\n                    .slice(start, end + 1)\n                    .removeClass('marked table-active')\n                    .find(':checkbox')\n                    .prop('checked', false)\n                    .trigger('change');\n            }\n\n            // handle new shift click\n            var currRow = $table.find('tbody tr:not(.noclick)').index($tr);\n            if (currRow >= lastClickedRow) {\n                start = lastClickedRow;\n                end = currRow;\n            } else {\n                start = currRow;\n                end = lastClickedRow;\n            }\n            $tr.parent().find('tr:not(.noclick)')\n                .slice(start, end + 1)\n                .addClass('marked table-active')\n                .find(':checkbox')\n                .prop('checked', true)\n                .trigger('change');\n\n            // remember the last shift clicked row\n            lastShiftClickedRow = currRow;\n        }\n    };\n};\n\n/**\n * Checks/unchecks all options of a <select> element\n *\n * @param {string} theForm   the form name\n * @param {string} theSelect the element name\n * @param {boolean} doCheck  whether to check or to uncheck options\n *\n * @return {boolean} always true\n */\nFunctions.setSelectOptions = function (theForm, theSelect, doCheck) {\n    $('form[name=\\'' + theForm + '\\'] select[name=\\'' + theSelect + '\\']').find('option').prop('selected', doCheck);\n    return true;\n};\n\n/**\n * Updates the input fields for the parameters based on the query\n */\nFunctions.updateQueryParameters = function () {\n    if ($('#parameterized').is(':checked')) {\n        var query = window.codeMirrorEditor ? window.codeMirrorEditor.getValue() : $('#sqlquery').val();\n\n        var allParameters = query.match(/:[a-zA-Z0-9_]+/g);\n        var parameters = [];\n        // get unique parameters\n        if (allParameters) {\n            $.each(allParameters, function (i, parameter) {\n                if ($.inArray(parameter, parameters) === -1) {\n                    parameters.push(parameter);\n                }\n            });\n        } else {\n            $('#parametersDiv').text(window.Messages.strNoParam);\n            return;\n        }\n\n        var $temp = $('<div></div>');\n        $temp.append($('#parametersDiv').children());\n        $('#parametersDiv').empty();\n\n        $.each(parameters, function (i, parameter) {\n            var paramName = parameter.substring(1);\n            var $param = $temp.find('#paramSpan_' + paramName);\n            if (! $param.length) {\n                $param = $('<span class=\"parameter\" id=\"paramSpan_' + paramName + '\"></span>');\n                $('<label for=\"param_' + paramName + '\"></label>').text(parameter).appendTo($param);\n                $('<input type=\"text\" name=\"parameters[' + parameter + ']\" id=\"param_' + paramName + '\">').appendTo($param);\n            }\n            $('#parametersDiv').append($param);\n        });\n    } else {\n        $('#parametersDiv').empty();\n    }\n};\n\n/**\n * Get checkbox for foreign key checks\n *\n * @return {string}\n */\nFunctions.getForeignKeyCheckboxLoader = function () {\n    var html = '';\n    html += '<div class=\"mt-1 mb-2\">';\n    html += '<div class=\"load-default-fk-check-value\">';\n    html += Functions.getImage('ajax_clock_small');\n    html += '</div>';\n    html += '</div>';\n    return html;\n};\n\nFunctions.loadForeignKeyCheckbox = function () {\n    // Load default foreign key check value\n    var params = {\n        'ajax_request': true,\n        'server': CommonParams.get('server'),\n    };\n    $.get('index.php?route=/sql/get-default-fk-check-value', params, function (data) {\n        var html = '<input type=\"hidden\" name=\"fk_checks\" value=\"0\">' +\n            '<input type=\"checkbox\" name=\"fk_checks\" id=\"fk_checks\"' +\n            (data.default_fk_check_value ? ' checked=\"checked\"' : '') + '>' +\n            '<label for=\"fk_checks\">' + window.Messages.strForeignKeyCheck + '</label>';\n        $('.load-default-fk-check-value').replaceWith(html);\n    });\n};\n\nFunctions.getJsConfirmCommonParam = function (elem, parameters) {\n    var $elem = $(elem);\n    var params = parameters;\n    var sep = CommonParams.get('arg_separator');\n    if (params) {\n        // Strip possible leading ?\n        if (params.startsWith('?')) {\n            params = params.substring(1);\n        }\n        params += sep;\n    } else {\n        params = '';\n    }\n    params += 'is_js_confirmed=1' + sep + 'ajax_request=true' + sep + 'fk_checks=' + ($elem.find('#fk_checks').is(':checked') ? 1 : 0);\n    return params;\n};\n\nFunctions.teardownSqlQueryEditEvents = () => {\n    $(document).off('click', 'a.inline_edit_sql');\n    $(document).off('click', 'input#sql_query_edit_save');\n    $(document).off('click', 'input#sql_query_edit_discard');\n    if (window.codeMirrorEditor) {\n        window.codeMirrorEditor.off('blur');\n    } else {\n        $(document).off('blur', '#sqlquery');\n    }\n    $(document).off('change', '#parameterized');\n    $('#sqlquery').off('keydown');\n    $('#sql_query_edit').off('keydown');\n\n    if (codeMirrorInlineEditor) {\n        // Copy the sql query to the text area to preserve it.\n        $('#sql_query_edit').text(codeMirrorInlineEditor.getValue());\n        $(codeMirrorInlineEditor.getWrapperElement()).off('keydown');\n        codeMirrorInlineEditor.toTextArea();\n        codeMirrorInlineEditor = false;\n    }\n    if (window.codeMirrorEditor) {\n        $(window.codeMirrorEditor.getWrapperElement()).off('keydown');\n    }\n};\n\nFunctions.onloadSqlQueryEditEvents = function () {\n    // If we are coming back to the page by clicking forward button\n    // of the browser, bind the code mirror to inline query editor.\n    Functions.bindCodeMirrorToInlineEditor();\n    $(document).on('click', 'a.inline_edit_sql', function () {\n        if ($('#sql_query_edit').length) {\n            // An inline query editor is already open,\n            // we don't want another copy of it\n            return false;\n        }\n\n        var $form = $(this).prev('form');\n        var sqlQuery = $form.find('input[name=\\'sql_query\\']').val().trim();\n        var $innerSql = $(this).parent().prev().find('code.sql');\n\n        var newContent = '<textarea name=\"sql_query_edit\" id=\"sql_query_edit\">' + Functions.escapeHtml(sqlQuery) + '</textarea>\\n';\n        newContent += Functions.getForeignKeyCheckboxLoader();\n        newContent += '<input type=\"submit\" id=\"sql_query_edit_save\" class=\"btn btn-secondary button btnSave\" value=\"' + window.Messages.strGo + '\">\\n';\n        newContent += '<input type=\"button\" id=\"sql_query_edit_discard\" class=\"btn btn-secondary button btnDiscard\" value=\"' + window.Messages.strCancel + '\">\\n';\n        var $editorArea = $('div#inline_editor');\n        if ($editorArea.length === 0) {\n            $editorArea = $('<div id=\"inline_editor_outer\"></div>');\n            $editorArea.insertBefore($innerSql);\n        }\n        $editorArea.html(newContent);\n        Functions.loadForeignKeyCheckbox();\n        $innerSql.hide();\n\n        Functions.bindCodeMirrorToInlineEditor();\n        return false;\n    });\n\n    $(document).on('click', 'input#sql_query_edit_save', function () {\n        // hide already existing success message\n        var sqlQuery;\n        if (codeMirrorInlineEditor) {\n            codeMirrorInlineEditor.save();\n            sqlQuery = codeMirrorInlineEditor.getValue();\n        } else {\n            sqlQuery = $(this).parent().find('#sql_query_edit').val();\n        }\n        var fkCheck = $(this).parent().find('#fk_checks').is(':checked');\n\n        var $form = $('a.inline_edit_sql').prev('form');\n        var $fakeForm = $('<form>', { action: 'index.php?route=/import', method: 'post' })\n            .append($form.find('input[name=server], input[name=db], input[name=table], input[name=token]').clone())\n            .append($('<input>', { type: 'hidden', name: 'show_query', value: 1 }))\n            .append($('<input>', { type: 'hidden', name: 'is_js_confirmed', value: 0 }))\n            .append($('<input>', { type: 'hidden', name: 'sql_query', value: sqlQuery }))\n            .append($('<input>', { type: 'hidden', name: 'fk_checks', value: fkCheck ? 1 : 0 }));\n        if (! Functions.checkSqlQuery($fakeForm[0])) {\n            return false;\n        }\n        $('.alert-success').hide();\n        $fakeForm.appendTo($('body')).trigger('submit');\n    });\n\n    $(document).on('click', 'input#sql_query_edit_discard', function () {\n        var $divEditor = $('div#inline_editor_outer');\n        $divEditor.siblings('code.sql').show();\n        $divEditor.remove();\n    });\n\n    $(document).on('change', '#parameterized', Functions.updateQueryParameters);\n\n    var $inputUsername = $('#input_username');\n    if ($inputUsername) {\n        if ($inputUsername.val() === '') {\n            $inputUsername.trigger('focus');\n        } else {\n            $('#input_password').trigger('focus');\n        }\n    }\n};\n\n/**\n * \"inputRead\" event handler for CodeMirror SQL query editors for autocompletion\n * @param instance\n */\nFunctions.codeMirrorAutoCompleteOnInputRead = function (instance) {\n    if (! sqlAutoCompleteInProgress\n        && (! instance.options.hintOptions.tables || ! sqlAutoComplete)) {\n        if (! sqlAutoComplete) {\n            // Reset after teardown\n            instance.options.hintOptions.tables = false;\n            instance.options.hintOptions.defaultTable = '';\n\n            sqlAutoCompleteInProgress = true;\n\n            var params = {\n                'ajax_request': true,\n                'server': CommonParams.get('server'),\n                'db': CommonParams.get('db'),\n                'no_debug': true\n            };\n\n            var columnHintRender = function (elem, self, data) {\n                $('<div class=\"autocomplete-column-name\">')\n                    .text(data.columnName)\n                    .appendTo(elem);\n                $('<div class=\"autocomplete-column-hint\">')\n                    .text(data.columnHint)\n                    .appendTo(elem);\n            };\n\n            $.ajax({\n                type: 'POST',\n                url: 'index.php?route=/database/sql/autocomplete',\n                data: params,\n                success: function (data) {\n                    if (data.success) {\n                        var tables = data.tables;\n                        sqlAutoCompleteDefaultTable = CommonParams.get('table');\n                        sqlAutoComplete = [];\n                        for (var table in tables) {\n                            if (tables.hasOwnProperty(table)) {\n                                var columns = tables[table];\n                                table = {\n                                    text: table,\n                                    columns: []\n                                };\n                                for (var column in columns) {\n                                    if (columns.hasOwnProperty(column)) {\n                                        var displayText = columns[column].Type;\n                                        if (columns[column].Key === 'PRI') {\n                                            displayText += ' | Primary';\n                                        } else if (columns[column].Key === 'UNI') {\n                                            displayText += ' | Unique';\n                                        }\n                                        table.columns.push({\n                                            text: column,\n                                            displayText: column + ' | ' + displayText,\n                                            columnName: column,\n                                            columnHint: displayText,\n                                            render: columnHintRender\n                                        });\n                                    }\n                                }\n                            }\n                            sqlAutoComplete.push(table);\n                        }\n                        instance.options.hintOptions.tables = sqlAutoComplete;\n                        instance.options.hintOptions.defaultTable = sqlAutoCompleteDefaultTable;\n                    }\n                },\n                complete: function () {\n                    sqlAutoCompleteInProgress = false;\n                }\n            });\n        } else {\n            instance.options.hintOptions.tables = sqlAutoComplete;\n            instance.options.hintOptions.defaultTable = sqlAutoCompleteDefaultTable;\n        }\n    }\n    if (instance.state.completionActive) {\n        return;\n    }\n    var cur = instance.getCursor();\n    var token = instance.getTokenAt(cur);\n    var string = '';\n    if (token.string.match(/^[.`\\w@]\\w*$/)) {\n        string = token.string;\n    }\n    if (string.length > 0) {\n        window.CodeMirror.commands.autocomplete(instance);\n    }\n};\n\nFunctions.removeAutocompleteInfo = () => {\n    sqlAutoComplete = false;\n    sqlAutoCompleteDefaultTable = '';\n};\n\n/**\n * Binds the CodeMirror to the text area used to inline edit a query.\n */\nFunctions.bindCodeMirrorToInlineEditor = function () {\n    var $inlineEditor = $('#sql_query_edit');\n    if ($inlineEditor.length > 0) {\n        if (typeof window.CodeMirror !== 'undefined') {\n            var height = $inlineEditor.css('height');\n            codeMirrorInlineEditor = Functions.getSqlEditor($inlineEditor);\n            codeMirrorInlineEditor.getWrapperElement().style.height = height;\n            codeMirrorInlineEditor.refresh();\n            codeMirrorInlineEditor.focus();\n            $(codeMirrorInlineEditor.getWrapperElement())\n                .on('keydown', Functions.catchKeypressesFromSqlInlineEdit);\n        } else {\n            $inlineEditor\n                .trigger('focus')\n                .on('keydown', Functions.catchKeypressesFromSqlInlineEdit);\n        }\n    }\n};\n\nFunctions.catchKeypressesFromSqlInlineEdit = function (event) {\n    // ctrl-enter is 10 in chrome and ie, but 13 in ff\n    if ((event.ctrlKey || event.metaKey) && (event.keyCode === 13 || event.keyCode === 10)) {\n        $('#sql_query_edit_save').trigger('click');\n    }\n};\n\n/**\n * Adds doc link to single highlighted SQL element\n *\n * @param $elm\n * @param params\n */\nFunctions.documentationAdd = function ($elm, params) {\n    if (typeof mysqlDocTemplate === 'undefined') {\n        return;\n    }\n\n    var url = window.sprintf(\n        decodeURIComponent(mysqlDocTemplate),\n        params[0]\n    );\n    if (params.length > 1) {\n        // The # needs to be escaped to be part of the destination URL\n        url += encodeURIComponent('#') + params[1];\n    }\n    var content = $elm.text();\n    $elm.text('');\n    $elm.append('<a target=\"mysql_doc\" class=\"cm-sql-doc\" href=\"' + url + '\">' + content + '</a>');\n};\n\n/**\n * Generates doc links for keywords inside highlighted SQL\n *\n * @param idx\n * @param elm\n */\nFunctions.documentationKeyword = function (idx, elm) {\n    var $elm = $(elm);\n    /* Skip already processed ones */\n    if ($elm.find('a').length > 0) {\n        return;\n    }\n    var keyword = $elm.text().toUpperCase();\n    var $next = $elm.next('.cm-keyword');\n    if ($next) {\n        var nextKeyword = $next.text().toUpperCase();\n        var full = keyword + ' ' + nextKeyword;\n\n        var $next2 = $next.next('.cm-keyword');\n        if ($next2) {\n            var next2Keyword = $next2.text().toUpperCase();\n            var full2 = full + ' ' + next2Keyword;\n            if (full2 in mysqlDocKeyword) {\n                Functions.documentationAdd($elm, mysqlDocKeyword[full2]);\n                Functions.documentationAdd($next, mysqlDocKeyword[full2]);\n                Functions.documentationAdd($next2, mysqlDocKeyword[full2]);\n                return;\n            }\n        }\n        if (full in mysqlDocKeyword) {\n            Functions.documentationAdd($elm, mysqlDocKeyword[full]);\n            Functions.documentationAdd($next, mysqlDocKeyword[full]);\n            return;\n        }\n    }\n    if (keyword in mysqlDocKeyword) {\n        Functions.documentationAdd($elm, mysqlDocKeyword[keyword]);\n    }\n};\n\n/**\n * Generates doc links for builtins inside highlighted SQL\n *\n * @param idx\n * @param elm\n */\nFunctions.documentationBuiltin = function (idx, elm) {\n    var $elm = $(elm);\n    var builtin = $elm.text().toUpperCase();\n    if (builtin in mysqlDocBuiltin) {\n        Functions.documentationAdd($elm, mysqlDocBuiltin[builtin]);\n    }\n};\n\n/**\n * Higlights SQL using CodeMirror.\n *\n * @param $base\n */\nFunctions.highlightSql = function ($base) {\n    var $elm = $base.find('code.sql');\n    $elm.each(function () {\n        var $sql = $(this);\n        var $pre = $sql.find('pre');\n        /* We only care about visible elements to avoid double processing */\n        if ($pre.is(':visible')) {\n            var $highlight = $('<div class=\"sql-highlight cm-s-default\"></div>');\n            $sql.append($highlight);\n            if (typeof window.CodeMirror !== 'undefined') {\n                window.CodeMirror.runMode($sql.text(), 'text/x-mysql', $highlight[0]);\n                $pre.hide();\n                $highlight.find('.cm-keyword').each(Functions.documentationKeyword);\n                $highlight.find('.cm-builtin').each(Functions.documentationBuiltin);\n            }\n        }\n    });\n};\n\n/**\n * Updates an element containing code.\n *\n * @param {JQuery} $base     base element which contains the raw and the\n *                           highlighted code.\n *\n * @param {string} htmlValue code in HTML format, displayed if code cannot be\n *                           highlighted\n *\n * @param {string} rawValue  raw code, used as a parameter for highlighter\n *\n * @return {boolean}        whether content was updated or not\n */\nFunctions.updateCode = function ($base, htmlValue, rawValue) {\n    var $code = $base.find('code');\n    if ($code.length === 0) {\n        return false;\n    }\n\n    // Determines the type of the content and appropriate CodeMirror mode.\n    var type = '';\n    var mode = '';\n    if ($code.hasClass('json')) {\n        type = 'json';\n        mode = 'application/json';\n    } else if ($code.hasClass('sql')) {\n        type = 'sql';\n        mode = 'text/x-mysql';\n    } else if ($code.hasClass('xml')) {\n        type = 'xml';\n        mode = 'application/xml';\n    } else {\n        return false;\n    }\n\n    // Element used to display unhighlighted code.\n    var $notHighlighted = $('<pre>' + htmlValue + '</pre>');\n\n    // Tries to highlight code using CodeMirror.\n    if (typeof window.CodeMirror !== 'undefined') {\n        var $highlighted = $('<div class=\"' + type + '-highlight cm-s-default\"></div>');\n        window.CodeMirror.runMode(rawValue, mode, $highlighted[0]);\n        $notHighlighted.hide();\n        $code.html('').append($notHighlighted, $highlighted[0]);\n    } else {\n        $code.html('').append($notHighlighted);\n    }\n\n    return true;\n};\n\n/**\n * Show a message on the top of the page for an Ajax request\n *\n * Sample usage:\n *\n * 1) var $msg = Functions.ajaxShowMessage();\n * This will show a message that reads \"Loading...\". Such a message will not\n * disappear automatically and cannot be dismissed by the user. To remove this\n * message either the Functions.ajaxRemoveMessage($msg) function must be called or\n * another message must be show with Functions.ajaxShowMessage() function.\n *\n * 2) var $msg = Functions.ajaxShowMessage(window.Messages.strProcessingRequest);\n * This is a special case. The behaviour is same as above,\n * just with a different message\n *\n * 3) var $msg = Functions.ajaxShowMessage('The operation was successful');\n * This will show a message that will disappear automatically and it can also\n * be dismissed by the user.\n *\n * 4) var $msg = Functions.ajaxShowMessage('Some error', false);\n * This will show a message that will not disappear automatically, but it\n * can be dismissed by the user after they have finished reading it.\n *\n * @param {string|null} message string containing the message to be shown.\n *                              optional, defaults to 'Loading...'\n * @param {any} timeout         number of milliseconds for the message to be visible\n *                              optional, defaults to 5000. If set to 'false', the\n *                              notification will never disappear\n * @param {string|null} type    string to dictate the type of message shown.\n *                              optional, defaults to normal notification.\n *                              If set to 'error', the notification will show message\n *                              with red background.\n *                              If set to 'success', the notification will show with\n *                              a green background.\n * @return {JQuery<Element>}   jQuery Element that holds the message div\n *                              this object can be passed to Functions.ajaxRemoveMessage()\n *                              to remove the notification\n */\nFunctions.ajaxShowMessage = function (message = null, timeout = null, type = null) {\n    var msg = message;\n    var newTimeOut = timeout;\n    /**\n     * @var self_closing Whether the notification will automatically disappear\n     */\n    var selfClosing = true;\n    /**\n     * @var dismissable Whether the user will be able to remove\n     *                  the notification by clicking on it\n     */\n    var dismissable = true;\n    // Handle the case when a empty data.message is passed.\n    // We don't want the empty message\n    if (msg === '') {\n        return true;\n    } else if (! msg) {\n        // If the message is undefined, show the default\n        msg = window.Messages.strLoading;\n        dismissable = false;\n        selfClosing = false;\n    } else if (msg === window.Messages.strProcessingRequest) {\n        // This is another case where the message should not disappear\n        dismissable = false;\n        selfClosing = false;\n    }\n    // Figure out whether (or after how long) to remove the notification\n    if (newTimeOut === undefined || newTimeOut === null) {\n        newTimeOut = 5000;\n    } else if (newTimeOut === false) {\n        selfClosing = false;\n    }\n    // Determine type of message, add styling as required\n    if (type === 'error') {\n        msg = '<div class=\"alert alert-danger\" role=\"alert\">' + msg + '</div>';\n    } else if (type === 'success') {\n        msg = '<div class=\"alert alert-success\" role=\"alert\">' + msg + '</div>';\n    }\n    // Create a parent element for the AJAX messages, if necessary\n    if ($('#loading_parent').length === 0) {\n        $('<div id=\"loading_parent\"></div>')\n            .prependTo('#page_content');\n    }\n    // Update message count to create distinct message elements every time\n    ajaxMessageCount++;\n    // Remove all old messages, if any\n    $('span.ajax_notification[id^=ajax_message_num]').remove();\n    /**\n     * @var $retval    a jQuery object containing the reference\n     *                 to the created AJAX message\n     */\n    var $retval = $(\n        '<span class=\"ajax_notification\" id=\"ajax_message_num_' +\n        ajaxMessageCount +\n        '\"></span>'\n    )\n        .hide()\n        .appendTo('#loading_parent')\n        .html(msg)\n        .show();\n    // If the notification is self-closing we should create a callback to remove it\n    if (selfClosing) {\n        $retval\n            .delay(newTimeOut)\n            .fadeOut('medium', function () {\n                if ($(this).is(':data(tooltip)')) {\n                    $(this).uiTooltip('destroy');\n                }\n                // Remove the notification\n                $(this).remove();\n            });\n    }\n    // If the notification is dismissable we need to add the relevant class to it\n    // and add a tooltip so that the users know that it can be removed\n    if (dismissable) {\n        $retval.addClass('dismissable').css('cursor', 'pointer');\n        /**\n         * Add a tooltip to the notification to let the user know that they\n         * can dismiss the ajax notification by clicking on it.\n         */\n        Functions.tooltip(\n            $retval,\n            'span',\n            window.Messages.strDismiss\n        );\n    }\n    // Hide spinner if this is not a loading message\n    if (msg !== window.Messages.strLoading) {\n        $retval.css('background-image', 'none');\n    }\n    Functions.highlightSql($retval);\n\n    return $retval;\n};\n\n/**\n * Removes the message shown for an Ajax operation when it's completed\n *\n * @param {JQuery} $thisMessageBox Element that holds the notification\n *\n * @return {void}\n */\nFunctions.ajaxRemoveMessage = function ($thisMessageBox) {\n    if ($thisMessageBox !== undefined && $thisMessageBox instanceof $) {\n        $thisMessageBox\n            .stop(true, true)\n            .fadeOut('medium');\n        if ($thisMessageBox.is(':data(tooltip)')) {\n            $thisMessageBox.uiTooltip('destroy');\n        } else {\n            $thisMessageBox.remove();\n        }\n    }\n};\n\n/**\n * Requests SQL for previewing before executing.\n *\n * @param {JQuery<HTMLElement>} $form Form containing query data\n *\n * @return {void}\n */\nFunctions.previewSql = function ($form) {\n    var formUrl = $form.attr('action');\n    var sep = CommonParams.get('arg_separator');\n    var formData = $form.serialize() +\n        sep + 'do_save_data=1' +\n        sep + 'preview_sql=1' +\n        sep + 'ajax_request=1';\n    var $messageBox = Functions.ajaxShowMessage();\n    $.ajax({\n        type: 'POST',\n        url: formUrl,\n        data: formData,\n        success: function (response) {\n            Functions.ajaxRemoveMessage($messageBox);\n            if (response.success) {\n                $('#previewSqlModal').modal('show');\n                $('#previewSqlModal').find('.modal-body').first().html(response.sql_data);\n                $('#previewSqlModalLabel').first().html(window.Messages.strPreviewSQL);\n                $('#previewSqlModal').on('shown.bs.modal', function () {\n                    Functions.highlightSql($('#previewSqlModal'));\n                });\n            } else {\n                Functions.ajaxShowMessage(response.message);\n            }\n        },\n        error: function () {\n            Functions.ajaxShowMessage(window.Messages.strErrorProcessingRequest);\n        }\n    });\n};\n\n/**\n * Callback called when submit/\"OK\" is clicked on sql preview/confirm modal\n *\n * @callback onSubmitCallback\n * @param {string} url The url\n */\n\n/**\n *\n * @param {string}           sqlData  Sql query to preview\n * @param {string}           url      Url to be sent to callback\n * @param {onSubmitCallback} callback On submit callback function\n *\n * @return {void}\n */\nFunctions.confirmPreviewSql = function (sqlData, url, callback) {\n    $('#previewSqlConfirmModal').modal('show');\n    $('#previewSqlConfirmModalLabel').first().html(window.Messages.strPreviewSQL);\n    $('#previewSqlConfirmCode').first().text(sqlData);\n    $('#previewSqlConfirmModal').on('shown.bs.modal', function () {\n        Functions.highlightSql($('#previewSqlConfirmModal'));\n    });\n    $('#previewSQLConfirmOkButton').on('click', function () {\n        callback(url);\n        $('#previewSqlConfirmModal').modal('hide');\n    });\n};\n\n/**\n * check for reserved keyword column name\n *\n * @param {JQuery} $form Form\n *\n * @return {boolean}\n */\nFunctions.checkReservedWordColumns = function ($form) {\n    var isConfirmed = true;\n    $.ajax({\n        type: 'POST',\n        url: 'index.php?route=/table/structure/reserved-word-check',\n        data: $form.serialize(),\n        success: function (data) {\n            if (typeof data.success !== 'undefined' && data.success === true) {\n                isConfirmed = confirm(data.message);\n            }\n        },\n        async: false\n    });\n    return isConfirmed;\n};\n\n/**\n * @return {function}\n */\nFunctions.dismissNotifications = () => function () {\n    /**\n     * Allows the user to dismiss a notification\n     * created with Functions.ajaxShowMessage()\n     */\n    var holdStarter = null;\n    $(document).on('mousedown', 'span.ajax_notification.dismissable', function () {\n        holdStarter = setTimeout(function () {\n            holdStarter = null;\n        }, 250);\n    });\n\n    $(document).on('mouseup', 'span.ajax_notification.dismissable', function (event) {\n        if (holdStarter && event.which === 1) {\n            clearTimeout(holdStarter);\n            Functions.ajaxRemoveMessage($(this));\n        }\n    });\n    /**\n     * The below two functions hide the \"Dismiss notification\" tooltip when a user\n     * is hovering a link or button that is inside an ajax message\n     */\n    $(document).on('mouseover', 'span.ajax_notification a, span.ajax_notification button, span.ajax_notification input', function () {\n        if ($(this).parents('span.ajax_notification').is(':data(tooltip)')) {\n            $(this).parents('span.ajax_notification').uiTooltip('disable');\n        }\n    });\n    $(document).on('mouseout', 'span.ajax_notification a, span.ajax_notification button, span.ajax_notification input', function () {\n        if ($(this).parents('span.ajax_notification').is(':data(tooltip)')) {\n            $(this).parents('span.ajax_notification').uiTooltip('enable');\n        }\n    });\n\n    /**\n     * Copy text to clipboard\n     *\n     * @param {string | number | string[]} text to copy to clipboard\n     *\n     * @return {boolean}\n     */\n    Functions.copyToClipboard = function (text) {\n        var $temp = $('<input>');\n        $temp.css({\n            'position': 'fixed',\n            'width': '2em',\n            'border': 0,\n            'top': 0,\n            'left': 0,\n            'padding': 0,\n            'background': 'transparent'\n        });\n        $('body').append($temp);\n        $temp.val(text).trigger('select');\n        try {\n            var res = document.execCommand('copy');\n            $temp.remove();\n            return res;\n        } catch (e) {\n            $temp.remove();\n            return false;\n        }\n    };\n\n    $(document).on('click', 'a.copyQueryBtn', function (event) {\n        event.preventDefault();\n        var res = Functions.copyToClipboard($(this).attr('data-text'));\n        if (res) {\n            $(this).after('<span id=\\'copyStatus\\'> (' + window.Messages.strCopyQueryButtonSuccess + ')</span>');\n        } else {\n            $(this).after('<span id=\\'copyStatus\\'> (' + window.Messages.strCopyQueryButtonFailure + ')</span>');\n        }\n        setTimeout(function () {\n            $('#copyStatus').remove();\n        }, 2000);\n    });\n};\n\n/**\n * Hides/shows the \"Open in ENUM/SET editor\" message, depending on the data type of the column currently selected\n *\n * @param selectElement\n */\nFunctions.showNoticeForEnum = function (selectElement) {\n    var enumNoticeId = selectElement.attr('id').split('_')[1];\n    enumNoticeId += '_' + (parseInt(selectElement.attr('id').split('_')[2], 10) + 1);\n    var selectedType = selectElement.val();\n    if (selectedType === 'ENUM' || selectedType === 'SET') {\n        $('p#enum_notice_' + enumNoticeId).show();\n    } else {\n        $('p#enum_notice_' + enumNoticeId).hide();\n    }\n};\n\n/**\n * Hides/shows a warning message when LENGTH is used with inappropriate integer type\n */\nFunctions.showWarningForIntTypes = function () {\n    if ($('div#length_not_allowed').length) {\n        var lengthRestrictions = $('select.column_type option').map(function () {\n            return $(this).filter(':selected').attr('data-length-restricted');\n        }).get();\n\n        var restricationFound = lengthRestrictions.some(restriction => Number(restriction) === 1);\n\n        if (restricationFound) {\n            $('div#length_not_allowed').show();\n        } else {\n            $('div#length_not_allowed').hide();\n        }\n    }\n};\n\n/**\n * Creates a Profiling Chart. Used in sql.js\n * and in server/status/monitor.js\n *\n * @param target\n * @param data\n *\n * @return {object}\n */\nFunctions.createProfilingChart = function (target, data) {\n    // create the chart\n    var factory = new JQPlotChartFactory();\n    var chart = factory.createChart(ChartType.PIE, target);\n\n    // create the data table and add columns\n    var dataTable = new DataTable();\n    dataTable.addColumn(ColumnType.STRING, '');\n    dataTable.addColumn(ColumnType.NUMBER, '');\n    dataTable.setData(data);\n\n    var windowWidth = $(window).width();\n    var location = 's';\n    if (windowWidth > 768) {\n        location = 'se';\n    }\n\n    // draw the chart and return the chart object\n    chart.draw(dataTable, {\n        seriesDefaults: {\n            rendererOptions: {\n                showDataLabels: true\n            }\n        },\n        highlighter: {\n            tooltipLocation: 'se',\n            sizeAdjust: 0,\n            tooltipAxes: 'pieref',\n            formatString: '%s, %.9Ps'\n        },\n        legend: {\n            show: true,\n            location: location,\n            rendererOptions: {\n                numberColumns: 2\n            }\n        },\n        // from https://web.archive.org/web/20190321233412/http://tango.freedesktop.org/Tango_Icon_Theme_Guidelines\n        seriesColors: [\n            '#fce94f',\n            '#fcaf3e',\n            '#e9b96e',\n            '#8ae234',\n            '#729fcf',\n            '#ad7fa8',\n            '#ef2929',\n            '#888a85',\n            '#c4a000',\n            '#ce5c00',\n            '#8f5902',\n            '#4e9a06',\n            '#204a87',\n            '#5c3566',\n            '#a40000',\n            '#babdb6',\n            '#2e3436'\n        ]\n    });\n    return chart;\n};\n\n/**\n * Formats a profiling duration nicely (in us and ms time).\n * Used in server/status/monitor.js\n *\n * @param {number} number   Number to be formatted, should be in the range of microsecond to second\n * @param {number} accuracy Accuracy, how many numbers right to the comma should be\n * @return {string}        The formatted number\n */\nFunctions.prettyProfilingNum = function (number, accuracy) {\n    var num = number;\n    var acc = accuracy;\n    if (! acc) {\n        acc = 2;\n    }\n    acc = Math.pow(10, acc);\n    if (num * 1000 < 0.1) {\n        num = Math.round(acc * (num * 1000 * 1000)) / acc + '';\n    } else if (num < 0.1) {\n        num = Math.round(acc * (num * 1000)) / acc + 'm';\n    } else {\n        num = Math.round(acc * num) / acc;\n    }\n\n    return num + 's';\n};\n\n/**\n * Formats a SQL Query nicely with newlines and indentation. Depends on Codemirror and MySQL Mode!\n *\n * @param {string} string Query to be formatted\n * @return {string}      The formatted query\n */\nFunctions.sqlPrettyPrint = function (string) {\n    if (typeof window.CodeMirror === 'undefined') {\n        return string;\n    }\n\n    var mode = window.CodeMirror.getMode({}, 'text/x-mysql');\n    var stream = new window.CodeMirror.StringStream(string);\n    var state = mode.startState();\n    var token;\n    var tokens = [];\n    var output = '';\n    var tabs = function (cnt) {\n        var ret = '';\n        for (var i = 0; i < 4 * cnt; i++) {\n            ret += ' ';\n        }\n        return ret;\n    };\n\n    // \"root-level\" statements\n    var statements = {\n        'select': ['select', 'from', 'on', 'where', 'having', 'limit', 'order by', 'group by'],\n        'update': ['update', 'set', 'where'],\n        'insert into': ['insert into', 'values']\n    };\n    // don't put spaces before these tokens\n    var spaceExceptionsBefore = { ';': true, ',': true, '.': true, '(': true };\n    // don't put spaces after these tokens\n    var spaceExceptionsAfter = { '.': true };\n\n    // Populate tokens array\n    while (! stream.eol()) {\n        stream.start = stream.pos;\n        token = mode.token(stream, state);\n        if (token !== null) {\n            tokens.push([token, stream.current().toLowerCase()]);\n        }\n    }\n\n    var currentStatement = tokens[0][1];\n\n    if (! statements[currentStatement]) {\n        return string;\n    }\n    // Holds all currently opened code blocks (statement, function or generic)\n    var blockStack = [];\n    // If a new code block is found, newBlock contains its type for one iteration and vice versa for endBlock\n    var newBlock;\n    var endBlock;\n    // How much to indent in the current line\n    var indentLevel = 0;\n    // Holds the \"root-level\" statements\n    var statementPart;\n    var lastStatementPart = statements[currentStatement][0];\n\n    blockStack.unshift('statement');\n\n    // Iterate through every token and format accordingly\n    for (var i = 0; i < tokens.length; i++) {\n        // New block => push to stack\n        if (tokens[i][1] === '(') {\n            if (i < tokens.length - 1 && tokens[i + 1][0] === 'statement-verb') {\n                blockStack.unshift(newBlock = 'statement');\n            } else if (i > 0 && tokens[i - 1][0] === 'builtin') {\n                blockStack.unshift(newBlock = 'function');\n            } else {\n                blockStack.unshift(newBlock = 'generic');\n            }\n        } else {\n            newBlock = null;\n        }\n\n        // Block end => pop from stack\n        if (tokens[i][1] === ')') {\n            endBlock = blockStack[0];\n            blockStack.shift();\n        } else {\n            endBlock = null;\n        }\n\n        // A subquery is starting\n        if (i > 0 && newBlock === 'statement') {\n            indentLevel++;\n            output += '\\n' + tabs(indentLevel) + tokens[i][1] + ' ' + tokens[i + 1][1].toUpperCase() + '\\n' + tabs(indentLevel + 1);\n            currentStatement = tokens[i + 1][1];\n            i++;\n            continue;\n        }\n\n        // A subquery is ending\n        if (endBlock === 'statement' && indentLevel > 0) {\n            output += '\\n' + tabs(indentLevel);\n            indentLevel--;\n        }\n\n        // One less indentation for statement parts (from, where, order by, etc.) and a newline\n        statementPart = statements[currentStatement].indexOf(tokens[i][1]);\n        if (statementPart !== -1) {\n            if (i > 0) {\n                output += '\\n';\n            }\n            output += tabs(indentLevel) + tokens[i][1].toUpperCase();\n            output += '\\n' + tabs(indentLevel + 1);\n            lastStatementPart = tokens[i][1];\n            // Normal indentation and spaces for everything else\n        } else {\n            if (! spaceExceptionsBefore[tokens[i][1]] &&\n                ! (i > 0 && spaceExceptionsAfter[tokens[i - 1][1]]) &&\n                output.charAt(output.length - 1) !== ' ') {\n                output += ' ';\n            }\n            if (tokens[i][0] === 'keyword') {\n                output += tokens[i][1].toUpperCase();\n            } else {\n                output += tokens[i][1];\n            }\n        }\n\n        // split columns in select and 'update set' clauses, but only inside statements blocks\n        if ((lastStatementPart === 'select' || lastStatementPart === 'where' || lastStatementPart === 'set') &&\n            tokens[i][1] === ',' && blockStack[0] === 'statement') {\n            output += '\\n' + tabs(indentLevel + 1);\n        }\n\n        // split conditions in where clauses, but only inside statements blocks\n        if (lastStatementPart === 'where' &&\n            (tokens[i][1] === 'and' || tokens[i][1] === 'or' || tokens[i][1] === 'xor')) {\n            if (blockStack[0] === 'statement') {\n                output += '\\n' + tabs(indentLevel + 1);\n            }\n            // Todo: Also split and or blocks in newlines & indentation++\n            // if (blockStack[0] === 'generic')\n            //   output += ...\n        }\n    }\n    return output;\n};\n\n/**\n * jQuery function that uses jQueryUI's dialogs to confirm with user. Does not\n * return a jQuery object yet and hence cannot be chained\n *\n * @param {string}   question\n * @param {string}   url          URL to be passed to the callbackFn to make\n *                                an Ajax call to\n * @param {Function} callbackFn   callback to execute after user clicks on OK\n * @param {Function} openCallback optional callback to run when dialog is shown\n *\n * @return {bool}\n */\nFunctions.confirm = function (question, url, callbackFn, openCallback) {\n    var confirmState = CommonParams.get('confirm');\n    if (! confirmState) {\n        // user does not want to confirm\n        if (typeof callbackFn === 'function') {\n            callbackFn.call(this, url);\n            return true;\n        }\n    }\n    if (window.Messages.strDoYouReally === '') {\n        return true;\n    }\n\n    $('#functionConfirmModal').modal('show');\n    $('#functionConfirmModal').find('.modal-body').first().html(question);\n    $('#functionConfirmOkButton').off('click');// Un-register previous modals\n    $('#functionConfirmOkButton').on('click', function () {\n        if (typeof callbackFn === 'function') {\n            callbackFn.call(this, url);\n        }\n    });\n    if (typeof openCallback === 'function') {\n        openCallback();\n    }\n};\n$.fn.confirm = Functions.confirm;\n\n/**\n * jQuery function to sort a table's body after a new row has been appended to it.\n *\n * @param {string} textSelector string to select the sortKey's text\n *\n * @return {JQuery<HTMLElement>} for chaining purposes\n */\nFunctions.sortTable = function (textSelector) {\n    return this.each(function () {\n        /**\n         * @var table_body  Object referring to the table's <tbody> element\n         */\n        var tableBody = $(this);\n        /**\n         * @var rows    Object referring to the collection of rows in {@link tableBody}\n         */\n        var rows = $(this).find('tr').get();\n\n        // get the text of the field that we will sort by\n        $.each(rows, function (index, row) {\n            row.sortKey = $(row).find(textSelector).text().toLowerCase().trim();\n        });\n\n        // get the sorted order\n        rows.sort(function (a, b) {\n            if (a.sortKey < b.sortKey) {\n                return -1;\n            }\n            if (a.sortKey > b.sortKey) {\n                return 1;\n            }\n            return 0;\n        });\n\n        // pull out each row from the table and then append it according to it's order\n        $.each(rows, function (index, row) {\n            $(tableBody).append(row);\n            row.sortKey = null;\n        });\n    });\n};\n$.fn.sortTable = Functions.sortTable;\n\n/**\n * @return {void}\n */\nFunctions.teardownCreateTableEvents = () => {\n    $(document).off('submit', 'form.create_table_form.ajax');\n    $(document).off('click', 'form.create_table_form.ajax input[name=submit_num_fields]');\n    $(document).off('keyup', 'form.create_table_form.ajax input');\n    $(document).off('change', 'input[name=partition_count],input[name=subpartition_count],select[name=partition_by]');\n};\n\n/**\n * Used on /database/operations, /database/structure and /database/tracking\n * @return {void}\n */\nFunctions.onloadCreateTableEvents = function () {\n    /**\n     * Attach event handler for submission of create table form (save)\n     */\n    $(document).on('submit', 'form.create_table_form.ajax', function (event) {\n        event.preventDefault();\n\n        /**\n         * @var    the_form    object referring to the create table form\n         */\n        var $form = $(this);\n\n        /*\n         * First validate the form; if there is a problem, avoid submitting it\n         *\n         * Functions.checkTableEditForm() needs a pure element and not a jQuery object,\n         * this is why we pass $form[0] as a parameter (the jQuery object\n         * is actually an array of DOM elements)\n         */\n\n        if (Functions.checkTableEditForm($form[0], $form.find('input[name=orig_num_fields]').val())) {\n            Functions.prepareForAjaxRequest($form);\n            if (Functions.checkReservedWordColumns($form)) {\n                Functions.ajaxShowMessage(window.Messages.strProcessingRequest);\n                // User wants to submit the form\n                $.post($form.attr('action'), $form.serialize() + CommonParams.get('arg_separator') + 'do_save_data=1', function (data) {\n                    if (typeof data !== 'undefined' && data.success === true) {\n                        $('#properties_message')\n                            .removeClass('alert-danger')\n                            .html('');\n                        Functions.ajaxShowMessage(data.message);\n                        // Only if the create table dialog (distinct panel) exists\n                        var $createTableDialog = $('#create_table_dialog');\n                        if ($createTableDialog.length > 0) {\n                            $createTableDialog.dialog('close').remove();\n                        }\n                        $('#tableslistcontainer').before(data.formatted_sql);\n\n                        /**\n                         * @var tables_table    Object referring to the <tbody> element that holds the list of tables\n                         */\n                        var tablesTable = $('#tablesForm').find('tbody').not('#tbl_summary_row');\n                        // this is the first table created in this db\n                        if (tablesTable.length === 0) {\n                            CommonActions.refreshMain(\n                                CommonParams.get('opendb_url')\n                            );\n                        } else {\n                            /**\n                             * @var curr_last_row   Object referring to the last <tr> element in {@link tablesTable}\n                             */\n                            var currLastRow = $(tablesTable).find('tr').last();\n                            /**\n                             * @var curr_last_row_index_string   String containing the index of {@link currLastRow}\n                             */\n                            var currLastRowIndexString = $(currLastRow).find('input:checkbox').attr('id').match(/\\d+/)[0];\n                            /**\n                             * @var curr_last_row_index Index of {@link currLastRow}\n                             */\n                            var currLastRowIndex = parseFloat(currLastRowIndexString);\n                            /**\n                             * @var new_last_row_index   Index of the new row to be appended to {@link tablesTable}\n                             */\n                            var newLastRowIndex = currLastRowIndex + 1;\n                            /**\n                             * @var new_last_row_id String containing the id of the row to be appended to {@link tablesTable}\n                             */\n                            var newLastRowId = 'checkbox_tbl_' + newLastRowIndex;\n\n                            data.newTableString = data.newTableString.replace(/checkbox_tbl_/, newLastRowId);\n                            // append to table\n                            $(data.newTableString)\n                                .appendTo(tablesTable);\n\n                            // Sort the table\n                            $(tablesTable).sortTable('th');\n\n                            // Adjust summary row\n                            DatabaseStructure.adjustTotals();\n                        }\n\n                        // Refresh navigation as a new table has been added\n                        Navigation.reload();\n                        // Redirect to table structure page on creation of new table\n                        var argsep = CommonParams.get('arg_separator');\n                        var params12 = 'ajax_request=true' + argsep + 'ajax_page_request=true';\n                        var tableStructureUrl = 'index.php?route=/table/structure' + argsep + 'server=' + data.params.server +\n                            argsep + 'db=' + data.params.db + argsep + 'token=' + data.params.token +\n                            argsep + 'goto=' + encodeURIComponent('index.php?route=/database/structure') + argsep + 'table=' + data.params.table + '';\n                        $.get(tableStructureUrl, params12, AJAX.responseHandler);\n                    } else {\n                        Functions.ajaxShowMessage(\n                            '<div class=\"alert alert-danger\" role=\"alert\">' + data.error + '</div>',\n                            false\n                        );\n                    }\n                }); // end $.post()\n            }\n        }\n    }); // end create table form (save)\n\n    /**\n     * Submits the intermediate changes in the table creation form\n     * to refresh the UI accordingly\n     *\n     * @param actionParam\n     */\n    function submitChangesInCreateTableForm (actionParam) {\n        /**\n         * @var    the_form    object referring to the create table form\n         */\n        var $form = $('form.create_table_form.ajax');\n\n        var $msgbox = Functions.ajaxShowMessage(window.Messages.strProcessingRequest);\n        Functions.prepareForAjaxRequest($form);\n\n        // User wants to add more fields to the table\n        $.post($form.attr('action'), $form.serialize() + '&' + actionParam, function (data) {\n            if (typeof data !== 'undefined' && data.success) {\n                var $pageContent = $('#page_content');\n                $pageContent.html(data.message);\n                Functions.highlightSql($pageContent);\n                Functions.verifyColumnsProperties();\n                Functions.hideShowConnection($('.create_table_form select[name=tbl_storage_engine]'));\n                Functions.ajaxRemoveMessage($msgbox);\n            } else {\n                Functions.ajaxShowMessage(data.error);\n            }\n        }); // end $.post()\n    }\n\n    /**\n     * Attach event handler for create table form (add fields)\n     */\n    $(document).on('click', 'form.create_table_form.ajax input[name=submit_num_fields]', function (event) {\n        event.preventDefault();\n        submitChangesInCreateTableForm('submit_num_fields=1');\n    }); // end create table form (add fields)\n\n    $(document).on('keydown', 'form.create_table_form.ajax input[name=added_fields]', function (event) {\n        if (event.keyCode === 13) {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n            $(this)\n                .closest('form')\n                .find('input[name=submit_num_fields]')\n                .trigger('click');\n        }\n    });\n\n    /**\n     * Attach event handler to manage changes in number of partitions and subpartitions\n     */\n    $(document).on('change', 'input[name=partition_count],input[name=subpartition_count],select[name=partition_by]', function () {\n        var $this = $(this);\n        var $form = $this.parents('form');\n        if ($form.is('.create_table_form.ajax')) {\n            submitChangesInCreateTableForm('submit_partition_change=1');\n        } else {\n            $form.trigger('submit');\n        }\n    });\n\n    $(document).on('change', 'input[value=AUTO_INCREMENT]', function () {\n        if (this.checked) {\n            var col = /\\d/.exec($(this).attr('name'));\n            col = col[0];\n            var $selectFieldKey = $('select[name=\"field_key[' + col + ']\"]');\n            if ($selectFieldKey.val() === 'none_' + col) {\n                $selectFieldKey.val('primary_' + col).trigger('change', [false]);\n            }\n        }\n    });\n    $('body')\n        .off('click', 'input.preview_sql')\n        .on('click', 'input.preview_sql', function () {\n            var $form = $(this).closest('form');\n            Functions.previewSql($form);\n        });\n};\n\n/**\n * Validates the password field in a form\n *\n * @see    window.Messages.strPasswordEmpty\n * @see    window.Messages.strPasswordNotSame\n * @param {object} $theForm The form to be validated\n * @return {boolean}\n */\nFunctions.checkPassword = function ($theForm) {\n    // Did the user select 'no password'?\n    if ($theForm.find('#nopass_1').is(':checked')) {\n        return true;\n    } else {\n        var $pred = $theForm.find('#select_pred_password');\n        if ($pred.length && ($pred.val() === 'none' || $pred.val() === 'keep')) {\n            return true;\n        }\n    }\n\n    var $password = $theForm.find('input[name=pma_pw]');\n    var $passwordRepeat = $theForm.find('input[name=pma_pw2]');\n    var alertMessage = false;\n\n    if ($password.val() === '') {\n        alertMessage = window.Messages.strPasswordEmpty;\n    } else if ($password.val() !== $passwordRepeat.val()) {\n        alertMessage = window.Messages.strPasswordNotSame;\n    }\n\n    if (alertMessage) {\n        alert(alertMessage);\n        $password.val('');\n        $passwordRepeat.val('');\n        $password.trigger('focus');\n        return false;\n    }\n    return true;\n};\n\n/**\n * @return {void}\n */\nFunctions.onloadChangePasswordEvents = function () {\n    /* Handler for hostname type */\n    $(document).on('change', '#select_pred_hostname', function () {\n        var hostname = $('#pma_hostname');\n        if (this.value === 'any') {\n            hostname.val('%');\n        } else if (this.value === 'localhost') {\n            hostname.val('localhost');\n        } else if (this.value === 'thishost' && $(this).data('thishost')) {\n            hostname.val($(this).data('thishost'));\n        } else if (this.value === 'hosttable') {\n            hostname.val('').prop('required', false);\n        } else if (this.value === 'userdefined') {\n            hostname.trigger('focus').select().prop('required', true);\n        }\n    });\n\n    /* Handler for editing hostname */\n    $(document).on('change', '#pma_hostname', function () {\n        $('#select_pred_hostname').val('userdefined');\n        $('#pma_hostname').prop('required', true);\n    });\n\n    /* Handler for username type */\n    $(document).on('change', '#select_pred_username', function () {\n        if (this.value === 'any') {\n            $('#pma_username').val('').prop('required', false);\n            $('#user_exists_warning').css('display', 'none');\n        } else if (this.value === 'userdefined') {\n            $('#pma_username').trigger('focus').trigger('select').prop('required', true);\n        }\n    });\n\n    /* Handler for editing username */\n    $(document).on('change', '#pma_username', function () {\n        $('#select_pred_username').val('userdefined');\n        $('#pma_username').prop('required', true);\n    });\n\n    /* Handler for password type */\n    $(document).on('change', '#select_pred_password', function () {\n        if (this.value === 'none') {\n            $('#text_pma_pw2').prop('required', false).val('');\n            $('#text_pma_pw').prop('required', false).val('');\n        } else if (this.value === 'userdefined') {\n            $('#text_pma_pw2').prop('required', true);\n            $('#text_pma_pw').prop('required', true).trigger('focus').trigger('select');\n        } else {\n            $('#text_pma_pw2').prop('required', false);\n            $('#text_pma_pw').prop('required', false);\n        }\n    });\n\n    /* Handler for editing password */\n    $(document).on('change', '#text_pma_pw,#text_pma_pw2', function () {\n        $('#select_pred_password').val('userdefined');\n        $('#text_pma_pw2').prop('required', true);\n        $('#text_pma_pw').prop('required', true);\n    });\n\n    /**\n     * Unbind all event handlers before tearing down a page\n     */\n    $(document).off('click', '#change_password_anchor.ajax');\n\n    /**\n     * Attach Ajax event handler on the change password anchor\n     */\n\n    $(document).on('click', '#change_password_anchor.ajax', function (event) {\n        event.preventDefault();\n\n        var $msgbox = Functions.ajaxShowMessage();\n\n        $('#changePasswordGoButton').on('click', function () {\n            event.preventDefault();\n\n            /**\n             * @var $the_form    Object referring to the change password form\n             */\n            var $theForm = $('#change_password_form');\n\n            if (! Functions.checkPassword($theForm)) {\n                return false;\n            }\n\n            /**\n             * @var {string} thisValue String containing the value of the submit button.\n             * Need to append this for the change password form on Server Privileges\n             * page to work\n             */\n            var thisValue = $(this).val();\n\n            var $msgbox = Functions.ajaxShowMessage(window.Messages.strProcessingRequest);\n            $theForm.append('<input type=\"hidden\" name=\"ajax_request\" value=\"true\">');\n\n            $.post($theForm.attr('action'), $theForm.serialize() + CommonParams.get('arg_separator') + 'change_pw=' + thisValue, function (data) {\n                if (typeof data === 'undefined' || data.success !== true) {\n                    Functions.ajaxShowMessage(data.error, false);\n                    return;\n                }\n\n                var $pageContent = $('#page_content');\n                $pageContent.prepend(data.message);\n                Functions.highlightSql($pageContent);\n                $('#change_password_dialog').hide().remove();\n                $('#edit_user_dialog').dialog('close').remove();\n                Functions.ajaxRemoveMessage($msgbox);\n            }); // end $.post()\n            $('#changePasswordModal').modal('hide');\n        });\n\n        $.get($(this).attr('href'), { 'ajax_request': true }, function (data) {\n            if (typeof data === 'undefined' || ! data.success) {\n                Functions.ajaxShowMessage(data.error, false);\n                return;\n            }\n\n            if (data.scripts) {\n                AJAX.scriptHandler.load(data.scripts);\n            }\n\n            // for this dialog, we remove the fieldset wrapping due to double headings\n            $('#changePasswordModal').modal('show');\n            $('#changePasswordModal').find('.modal-body').first().html(data.message);\n            $('fieldset#fieldset_change_password')\n                .find('legend').remove().end()\n                .find('table.table').unwrap().addClass('m-3')\n                .find('input#text_pma_pw').trigger('focus');\n            $('#fieldset_change_password_footer').hide();\n            Functions.ajaxRemoveMessage($msgbox);\n            Functions.displayPasswordGenerateButton();\n            $('#change_password_form').on('submit', function (e) {\n                e.preventDefault();\n                $(this)\n                    .closest('.ui-dialog')\n                    .find('.ui-dialog-buttonpane .ui-button')\n                    .first()\n                    .trigger('click');\n            });\n        }); // end $.get()\n    });\n};\n\n/**\n * @return {void}\n */\nFunctions.teardownEnumSetEditorMessage = () => {\n    $(document).off('change', 'select.column_type');\n    $(document).off('change', 'select.default_type');\n    $(document).off('change', 'select.virtuality');\n    $(document).off('change', 'input.allow_null');\n    $(document).off('change', '.create_table_form select[name=tbl_storage_engine]');\n};\n\n/**\n * Toggle the hiding/showing of the \"Open in ENUM/SET editor\" message when\n * the page loads and when the selected data type changes\n * @return {void}\n */\nFunctions.onloadEnumSetEditorMessage = function () {\n    // is called here for normal page loads and also when opening\n    // the Create table dialog\n    Functions.verifyColumnsProperties();\n    //\n    // needs on() to work also in the Create Table dialog\n    $(document).on('change', 'select.column_type', function () {\n        Functions.showNoticeForEnum($(this));\n        Functions.showWarningForIntTypes();\n    });\n    $(document).on('change', 'select.default_type', function () {\n        Functions.hideShowDefaultValue($(this));\n    });\n    $(document).on('change', 'select.virtuality', function () {\n        Functions.hideShowExpression($(this));\n    });\n    $(document).on('change', 'input.allow_null', function () {\n        Functions.validateDefaultValue($(this));\n    });\n    $(document).on('change', '.create_table_form select[name=tbl_storage_engine]', function () {\n        Functions.hideShowConnection($(this));\n    });\n};\n\n/**\n * If the chosen storage engine is FEDERATED show connection field. Hide otherwise\n *\n * @param $engineSelector storage engine selector\n */\nFunctions.hideShowConnection = function ($engineSelector) {\n    var $connection = $('.create_table_form input[name=connection]');\n    var $labelTh = $('.create_table_form #storage-engine-connection');\n    if ($engineSelector.val() !== 'FEDERATED') {\n        $connection\n            .prop('disabled', true)\n            .parent('td').hide();\n        $labelTh.hide();\n    } else {\n        $connection\n            .prop('disabled', false)\n            .parent('td').show();\n        $labelTh.show();\n    }\n};\n\n/**\n * If the column does not allow NULL values, makes sure that default is not NULL\n *\n * @param $nullCheckbox\n */\nFunctions.validateDefaultValue = function ($nullCheckbox) {\n    if (! $nullCheckbox.prop('checked')) {\n        var $default = $nullCheckbox.closest('tr').find('.default_type');\n        if ($default.val() === 'NULL') {\n            $default.val('NONE');\n        }\n    }\n};\n\n/**\n * function to populate the input fields on picking a column from central list\n *\n * @param {string} inputId input id of the name field for the column to be populated\n * @param {number} offset of the selected column in central list of columns\n */\nFunctions.autoPopulate = function (inputId, offset) {\n    var db = CommonParams.get('db');\n    var table = CommonParams.get('table');\n    var newInputId = inputId.substring(0, inputId.length - 1);\n    $('#' + newInputId + '1').val(window.centralColumnList[db + '_' + table][offset].col_name);\n    var colType = window.centralColumnList[db + '_' + table][offset].col_type.toUpperCase();\n    $('#' + newInputId + '2').val(colType);\n    var $input3 = $('#' + newInputId + '3');\n    $input3.val(window.centralColumnList[db + '_' + table][offset].col_length);\n    if (colType === 'ENUM' || colType === 'SET') {\n        $input3.next().show();\n    } else {\n        $input3.next().hide();\n    }\n    var colDefault = window.centralColumnList[db + '_' + table][offset].col_default.toUpperCase();\n    var $input4 = $('#' + newInputId + '4');\n    if (colDefault === 'NULL' || colDefault === 'CURRENT_TIMESTAMP' || colDefault === 'CURRENT_TIMESTAMP()') {\n        if (colDefault === 'CURRENT_TIMESTAMP()') {\n            colDefault = 'CURRENT_TIMESTAMP';\n        }\n        $input4.val(colDefault);\n        $input4.siblings('.default_value').hide();\n    } if (colDefault === '') {\n        $input4.val('NONE');\n        $input4.siblings('.default_value').hide();\n    } else {\n        $input4.val('USER_DEFINED');\n        $input4.siblings('.default_value').show();\n        $input4.siblings('.default_value').val(window.centralColumnList[db + '_' + table][offset].col_default);\n    }\n    $('#' + newInputId + '5').val(window.centralColumnList[db + '_' + table][offset].col_collation);\n    var $input6 = $('#' + newInputId + '6');\n    $input6.val(window.centralColumnList[db + '_' + table][offset].col_attribute);\n    if (window.centralColumnList[db + '_' + table][offset].col_extra === 'on update CURRENT_TIMESTAMP') {\n        $input6.val(window.centralColumnList[db + '_' + table][offset].col_extra);\n    }\n    if (window.centralColumnList[db + '_' + table][offset].col_extra.toUpperCase() === 'AUTO_INCREMENT') {\n        $('#' + newInputId + '9').prop('checked', true).trigger('change');\n    } else {\n        $('#' + newInputId + '9').prop('checked', false);\n    }\n    if (window.centralColumnList[db + '_' + table][offset].col_isNull !== '0') {\n        $('#' + newInputId + '7').prop('checked', true);\n    } else {\n        $('#' + newInputId + '7').prop('checked', false);\n    }\n};\n\n/**\n * @return {void}\n */\nFunctions.teardownEnumSetEditor = () => {\n    $(document).off('click', 'a.open_enum_editor');\n    $(document).off('click', 'input.add_value');\n    $(document).off('click', '#enum_editor td.drop');\n    $(document).off('click', 'a.central_columns_dialog');\n};\n\n/**\n * Opens the ENUM/SET editor and controls its functions\n * @return {void}\n */\nFunctions.onloadEnumSetEditor = function () {\n    $(document).on('click', 'a.open_enum_editor', function () {\n        // Get the name of the column that is being edited\n        var colname = $(this).closest('tr').find('input').first().val();\n        var title;\n        var i;\n        // And use it to make up a title for the page\n        if (colname.length < 1) {\n            title = window.Messages.enum_newColumnVals;\n        } else {\n            title = window.Messages.enum_columnVals.replace(\n                /%s/,\n                '\"' + Functions.escapeHtml(decodeURIComponent(colname)) + '\"'\n            );\n        }\n        // Get the values as a string\n        var inputstring = $(this)\n            .closest('td')\n            .find('input')\n            .val();\n        // Escape html entities\n        inputstring = $('<div></div>')\n            .text(inputstring)\n            .html();\n        // Parse the values, escaping quotes and\n        // slashes on the fly, into an array\n        var values = [];\n        var inString = false;\n        var curr;\n        var next;\n        var buffer = '';\n        for (i = 0; i < inputstring.length; i++) {\n            curr = inputstring.charAt(i);\n            next = i === inputstring.length ? '' : inputstring.charAt(i + 1);\n            if (! inString && curr === '\\'') {\n                inString = true;\n            } else if (inString && curr === '\\\\' && next === '\\\\') {\n                buffer += '&#92;';\n                i++;\n            } else if (inString && next === '\\'' && (curr === '\\'' || curr === '\\\\')) {\n                buffer += '&#39;';\n                i++;\n            } else if (inString && curr === '\\'') {\n                inString = false;\n                values.push(buffer);\n                buffer = '';\n            } else if (inString) {\n                buffer += curr;\n            }\n        }\n        if (buffer.length > 0) {\n            // The leftovers in the buffer are the last value (if any)\n            values.push(buffer);\n        }\n        var fields = '';\n        // If there are no values, maybe the user is about to make a\n        // new list so we add a few for them to get started with.\n        if (values.length === 0) {\n            values.push('', '', '', '');\n        }\n        // Add the parsed values to the editor\n        var dropIcon = Functions.getImage('b_drop');\n        for (i = 0; i < values.length; i++) {\n            fields += '<tr><td>' +\n                '<input type=\\'text\\' value=\\'' + values[i] + '\\'>' +\n                '</td><td class=\\'drop\\'>' +\n                dropIcon +\n                '</td></tr>';\n        }\n        /**\n         * @var dialog HTML code for the ENUM/SET dialog\n         */\n        var dialog = '<div id=\\'enum_editor\\'>' +\n            '<fieldset class=\"pma-fieldset\">' +\n            '<legend>' + title + '</legend>' +\n            '<p>' + Functions.getImage('s_notice') +\n            window.Messages.enum_hint + '</p>' +\n            '<table class=\"table table-borderless values\">' + fields + '</table>' +\n            '</fieldset><fieldset class=\"pma-fieldset tblFooters\">' +\n            '<table class=\"table table-borderless add\"><tr><td>' +\n            '<div class=\\'slider\\'></div>' +\n            '</td><td>' +\n            '<form><div><input type=\\'submit\\' class=\\'add_value btn btn-primary\\' value=\\'' +\n            window.sprintf(window.Messages.enum_addValue, 1) +\n            '\\'></div></form>' +\n            '</td></tr></table>' +\n            '<input type=\\'hidden\\' value=\\'' + // So we know which column's data is being edited\n            $(this).closest('td').find('input').attr('id') +\n            '\\'>' +\n            '</fieldset>' +\n            '</div>';\n        $('#enumEditorGoButton').on('click', function () {\n            // When the submit button is clicked,\n            // put the data back into the original form\n            var valueArray = [];\n            $('#enumEditorModal').find('.values input').each(function (index, elm) {\n                var val = elm.value.replace(/\\\\/g, '\\\\\\\\').replace(/'/g, '\\'\\'');\n                valueArray.push('\\'' + val + '\\'');\n            });\n            // get the Length/Values text field where this value belongs\n            var valuesId = $('#enumEditorModal').find('input[type=\\'hidden\\']').val();\n            $('input#' + valuesId).val(valueArray.join(','));\n        });\n        // Show the dialog\n        var width = parseInt(\n            (parseInt($('html').css('font-size'), 10) / 13) * 340,\n            10\n        );\n        if (! width) {\n            width = 340;\n        }\n        $('#enumEditorModal').modal('show');\n        $('#enumEditorModal').find('.modal-body').first().html(dialog);\n        // slider for choosing how many fields to add\n        $('#enumEditorModal').find('.slider').slider({\n            animate: true,\n            range: 'min',\n            value: 1,\n            min: 1,\n            max: 9,\n            slide: function (event, ui) {\n                $(this).closest('table').find('input[type=submit]').val(\n                    window.sprintf(window.Messages.enum_addValue, ui.value)\n                );\n            }\n        });\n        // Focus the slider, otherwise it looks nearly transparent\n        $('a.ui-slider-handle').addClass('ui-state-focus');\n        return false;\n    });\n\n    $(document).on('click', 'a.central_columns_dialog', function () {\n        var href = 'index.php?route=/database/central-columns';\n        var db = CommonParams.get('db');\n        var table = CommonParams.get('table');\n        var maxRows = $(this).data('maxrows');\n        var pick = $(this).data('pick');\n        if (pick !== false) {\n            pick = true;\n        }\n        var params = {\n            'ajax_request': true,\n            'server': CommonParams.get('server'),\n            'db': CommonParams.get('db'),\n            'cur_table': CommonParams.get('table'),\n            'getColumnList': true\n        };\n        var colid = $(this).closest('td').find('input').attr('id');\n        var fields = '';\n        if (! (db + '_' + table in window.centralColumnList)) {\n            window.centralColumnList.push(db + '_' + table);\n            $.ajax({\n                type: 'POST',\n                url: href,\n                data: params,\n                success: function (data) {\n                    window.centralColumnList[db + '_' + table] = data.message;\n                },\n                async: false\n            });\n        }\n        var i = 0;\n        var listSize = window.centralColumnList[db + '_' + table].length;\n        var min = (listSize <= maxRows) ? listSize : maxRows;\n        for (i = 0; i < min; i++) {\n            fields += '<tr><td><div><span class=\"fw-bold\">' +\n                Functions.escapeHtml(window.centralColumnList[db + '_' + table][i].col_name) +\n                '</span><br><span class=\"color_gray\">' + window.centralColumnList[db + '_' + table][i].col_type;\n\n            if (window.centralColumnList[db + '_' + table][i].col_attribute !== '') {\n                fields += '(' + Functions.escapeHtml(window.centralColumnList[db + '_' + table][i].col_attribute) + ') ';\n            }\n            if (window.centralColumnList[db + '_' + table][i].col_length !== '') {\n                fields += '(' + Functions.escapeHtml(window.centralColumnList[db + '_' + table][i].col_length) + ') ';\n            }\n            fields += Functions.escapeHtml(window.centralColumnList[db + '_' + table][i].col_extra) + '</span>' +\n                '</div></td>';\n            if (pick) {\n                fields += '<td><input class=\"btn btn-secondary pick w-100\" type=\"submit\" value=\"' +\n                    window.Messages.pickColumn + '\" onclick=\"Functions.autoPopulate(\\'' + colid + '\\',' + i + ')\"></td>';\n            }\n            fields += '</tr>';\n        }\n        var resultPointer = i;\n        var searchIn = '<input type=\"text\" class=\"filter_rows\" placeholder=\"' + window.Messages.searchList + '\">';\n        if (fields === '') {\n            fields = window.sprintf(window.Messages.strEmptyCentralList, '\\'' + Functions.escapeHtml(db) + '\\'');\n            searchIn = '';\n        }\n        var seeMore = '';\n        if (listSize > maxRows) {\n            seeMore = '<fieldset class=\"pma-fieldset tblFooters text-center fw-bold\">' +\n                '<a href=\\'#\\' id=\\'seeMore\\'>' + window.Messages.seeMore + '</a></fieldset>';\n        }\n        var centralColumnsDialog = '<div class=\\'max_height_400\\'>' +\n            '<fieldset class=\"pma-fieldset\">' +\n            searchIn +\n            '<table id=\"col_list\" class=\"table table-borderless values\">' + fields + '</table>' +\n            '</fieldset>' +\n            seeMore +\n            '</div>';\n\n        var width = parseInt(\n            (parseInt($('html').css('font-size'), 10) / 13) * 500,\n            10\n        );\n        if (! width) {\n            width = 500;\n        }\n        var buttonOptions = {};\n        var $centralColumnsDialog = $(centralColumnsDialog).dialog({\n            classes: {\n                'ui-dialog-titlebar-close': 'btn-close'\n            },\n            minWidth: width,\n            maxHeight: 450,\n            modal: true,\n            title: window.Messages.pickColumnTitle,\n            buttons: buttonOptions,\n            open: function () {\n                $('#col_list').on('click', '.pick', function () {\n                    $centralColumnsDialog.remove();\n                });\n                $('.filter_rows').on('keyup', function () {\n                    $.uiTableFilter($('#col_list'), $(this).val());\n                });\n                $('#seeMore').on('click', function () {\n                    fields = '';\n                    min = (listSize <= maxRows + resultPointer) ? listSize : maxRows + resultPointer;\n                    for (i = resultPointer; i < min; i++) {\n                        fields += '<tr><td><div><span class=\"fw-bold\">' +\n                            window.centralColumnList[db + '_' + table][i].col_name +\n                            '</span><br><span class=\"color_gray\">' +\n                            window.centralColumnList[db + '_' + table][i].col_type;\n\n                        if (window.centralColumnList[db + '_' + table][i].col_attribute !== '') {\n                            fields += '(' + window.centralColumnList[db + '_' + table][i].col_attribute + ') ';\n                        }\n                        if (window.centralColumnList[db + '_' + table][i].col_length !== '') {\n                            fields += '(' + window.centralColumnList[db + '_' + table][i].col_length + ') ';\n                        }\n                        fields += window.centralColumnList[db + '_' + table][i].col_extra + '</span>' +\n                            '</div></td>';\n                        if (pick) {\n                            fields += '<td><input class=\"btn btn-secondary pick w-100\" type=\"submit\" value=\"' +\n                                window.Messages.pickColumn + '\" onclick=\"Functions.autoPopulate(\\'' + colid + '\\',' + i + ')\"></td>';\n                        }\n                        fields += '</tr>';\n                    }\n                    $('#col_list').append(fields);\n                    resultPointer = i;\n                    if (resultPointer === listSize) {\n                        $('#seeMore').hide();\n                    }\n                    return false;\n                });\n                $(this).closest('.ui-dialog').find('.ui-dialog-buttonpane button').first().trigger('focus');\n            },\n            close: function () {\n                $('#col_list').off('click', '.pick');\n                $('.filter_rows').off('keyup');\n                $(this).remove();\n            }\n        });\n        return false;\n    });\n\n    // When \"add a new value\" is clicked, append an empty text field\n    $(document).on('click', 'input.add_value', function (e) {\n        e.preventDefault();\n        var numNewRows = $('#enumEditorModal').find('div.slider').slider('value');\n        while (numNewRows--) {\n            $('#enumEditorModal').find('.values')\n                .append(\n                    '<tr class=\\'hide\\'><td>' +\n                    '<input type=\\'text\\'>' +\n                    '</td><td class=\\'drop\\'>' +\n                    Functions.getImage('b_drop') +\n                    '</td></tr>'\n                )\n                .find('tr').last()\n                .show('fast');\n        }\n    });\n\n    // Removes the specified row from the enum editor\n    $(document).on('click', '#enum_editor td.drop', function () {\n        $(this).closest('tr').hide('fast', function () {\n            $(this).remove();\n        });\n    });\n};\n\n/**\n * Ensures indexes names are valid according to their type and, for a primary\n * key, lock index name to 'PRIMARY'\n * @param {string} formId Variable which parses the form name as\n *                        the input\n * @return {boolean} false if there is no index form, true else\n */\nFunctions.checkIndexName = function (formId) {\n    if ($('#' + formId).length === 0) {\n        return false;\n    }\n\n    // Gets the elements pointers\n    var $theIdxName = $('#input_index_name');\n    var $theIdxChoice = $('#select_index_choice');\n\n    // Index is a primary key\n    if ($theIdxChoice.find('option:selected').val() === 'PRIMARY') {\n        $theIdxName.val('PRIMARY');\n        $theIdxName.prop('disabled', true);\n    } else {\n        if ($theIdxName.val() === 'PRIMARY') {\n            $theIdxName.val('');\n        }\n        $theIdxName.prop('disabled', false);\n    }\n\n    return true;\n};\n\n/**\n * Handler for adding more columns to an index in the editor\n * @return {function}\n */\nFunctions.getAddIndexEventHandler = function () {\n    return function (event) {\n        event.preventDefault();\n        var hadAddButtonHidden = $(this).closest('fieldset').find('.add_fields').hasClass('hide');\n        if (hadAddButtonHidden === false) {\n            var rowsToAdd = $(this)\n                .closest('fieldset')\n                .find('.slider')\n                .slider('value');\n\n            var tempEmptyVal = function () {\n                $(this).val('');\n            };\n\n            var tempSetFocus = function () {\n                if ($(this).find('option:selected').val() === '') {\n                    return true;\n                }\n                $(this).closest('tr').find('input').trigger('focus');\n            };\n\n            while (rowsToAdd--) {\n                var $indexColumns = $('#index_columns');\n                var $newrow = $indexColumns\n                    .find('tbody > tr').first()\n                    .clone()\n                    .appendTo(\n                        $indexColumns.find('tbody')\n                    );\n                $newrow.find(':input').each(tempEmptyVal);\n                // focus index size input on column picked\n                $newrow.find('select').on('change', tempSetFocus);\n            }\n        }\n    };\n};\n\nFunctions.indexDialogModal = function (routeUrl, url, title, callbackSuccess, callbackFailure) {\n    /* Remove the hidden dialogs if there are*/\n    var modal = $('#indexDialogModal');\n\n    const indexDialogPreviewModal = document.getElementById('indexDialogPreviewModal');\n    indexDialogPreviewModal.addEventListener('shown.bs.modal', () => {\n        const modalBody = indexDialogPreviewModal.querySelector('.modal-body');\n        const $form = $('#index_frm');\n        const formUrl = $form.attr('action');\n        const sep = CommonParams.get('arg_separator');\n        const formData = $form.serialize() +\n            sep + 'do_save_data=1' +\n            sep + 'preview_sql=1' +\n            sep + 'ajax_request=1';\n        $.post({\n            url: formUrl,\n            data: formData,\n            success: response => {\n                if (! response.success) {\n                    modalBody.innerHTML = '<div class=\"alert alert-danger\" role=\"alert\">' + window.Messages.strErrorProcessingRequest + '</div>';\n                    return;\n                }\n\n                modalBody.innerHTML = response.sql_data;\n                Functions.highlightSql($('#indexDialogPreviewModal'));\n            },\n            error: () => {\n                modalBody.innerHTML = '<div class=\"alert alert-danger\" role=\"alert\">' + window.Messages.strErrorProcessingRequest + '</div>';\n            }\n        });\n    });\n    indexDialogPreviewModal.addEventListener('hidden.bs.modal', () => {\n        indexDialogPreviewModal.querySelector('.modal-body').innerHTML = '<div class=\"spinner-border\" role=\"status\">' +\n            '<span class=\"visually-hidden\">' + window.Messages.strLoading + '</span></div>';\n    });\n\n    // Remove previous click listeners from other modal openings (issue: #17892)\n    $('#indexDialogModalGoButton').off('click');\n    $('#indexDialogModalGoButton').on('click', function () {\n        /**\n         * @var the_form object referring to the export form\n         */\n        var $form = $('#index_frm');\n        Functions.ajaxShowMessage(window.Messages.strProcessingRequest);\n        Functions.prepareForAjaxRequest($form);\n        // User wants to submit the form\n        $.post($form.attr('action'), $form.serialize() + CommonParams.get('arg_separator') + 'do_save_data=1', function (data) {\n            var $sqlqueryresults = $('.sqlqueryresults');\n            if ($sqlqueryresults.length !== 0) {\n                $sqlqueryresults.remove();\n            }\n            if (typeof data !== 'undefined' && data.success === true) {\n                Functions.ajaxShowMessage(data.message);\n                Functions.highlightSql($('.result_query'));\n                $('.result_query .alert').remove();\n                /* Reload the field form*/\n                $('#table_index').remove();\n                $('<div id=\\'temp_div\\'><div>')\n                    .append(data.index_table)\n                    .find('#table_index')\n                    .insertAfter('#index_header');\n                var $editIndexDialog = $('#indexDialogModal');\n                if ($editIndexDialog.length > 0) {\n                    $editIndexDialog.modal('hide');\n                }\n                $('div.no_indexes_defined').hide();\n                if (callbackSuccess) {\n                    callbackSuccess(data);\n                }\n                Navigation.reload();\n            } else {\n                var $tempDiv = $('<div id=\\'temp_div\\'><div>').append(data.error);\n                var $error;\n                if ($tempDiv.find('.error code').length !== 0) {\n                    $error = $tempDiv.find('.error code').addClass('error');\n                } else {\n                    $error = $tempDiv;\n                }\n                if (callbackFailure) {\n                    callbackFailure();\n                }\n                Functions.ajaxShowMessage($error, false);\n            }\n        }); // end $.post()\n    });\n\n    var $msgbox = Functions.ajaxShowMessage();\n    $.post(routeUrl, url, function (data) {\n        if (typeof data !== 'undefined' && data.success === false) {\n            // in the case of an error, show the error message returned.\n            Functions.ajaxShowMessage(data.error, false);\n        } else {\n            Functions.ajaxRemoveMessage($msgbox);\n            // Show dialog if the request was successful\n            modal.modal('show');\n            modal.find('.modal-body').first().html(data.message);\n            $('#indexDialogModalLabel').first().text(title);\n            Functions.verifyColumnsProperties();\n            modal.find('.tblFooters').remove();\n            Functions.showIndexEditDialog(modal);\n        }\n    }); // end $.get()\n};\n\nFunctions.indexEditorDialog = function (url, title, callbackSuccess, callbackFailure) {\n    Functions.indexDialogModal('index.php?route=/table/indexes', url, title, callbackSuccess, callbackFailure);\n};\n\nFunctions.indexRenameDialog = function (url, title, callbackSuccess, callbackFailure) {\n    Functions.indexDialogModal('index.php?route=/table/indexes/rename', url, title, callbackSuccess, callbackFailure);\n};\n\nFunctions.showIndexEditDialog = function ($outer) {\n    Indexes.checkIndexType();\n    Functions.checkIndexName('index_frm');\n    var $indexColumns = $('#index_columns');\n    $indexColumns.find('td').each(function () {\n        $(this).css('width', $(this).width() + 'px');\n    });\n    $indexColumns.find('tbody').sortable({\n        axis: 'y',\n        containment: $indexColumns.find('tbody'),\n        tolerance: 'pointer'\n    });\n    Functions.showHints($outer);\n    // Add a slider for selecting how many columns to add to the index\n    $outer.find('.slider').slider({\n        animate: true,\n        value: 1,\n        min: 1,\n        max: 16,\n        slide: function (event, ui) {\n            $(this).closest('fieldset').find('input[type=submit]').val(\n                window.sprintf(window.Messages.strAddToIndex, ui.value)\n            );\n        }\n    });\n    $('div.add_fields').removeClass('hide');\n    // focus index size input on column picked\n    $outer.find('table#index_columns select').on('change', function () {\n        if ($(this).find('option:selected').val() === '') {\n            return true;\n        }\n        $(this).closest('tr').find('input').trigger('focus');\n    });\n    // Focus the slider, otherwise it looks nearly transparent\n    $('a.ui-slider-handle').addClass('ui-state-focus');\n    // set focus on index name input, if empty\n    var input = $outer.find('input#input_index_name');\n    if (! input.val()) {\n        input.trigger('focus');\n    }\n};\n\n/**\n * Function to display tooltips that were\n * generated on the PHP side by PhpMyAdmin\\Util::showHint()\n *\n * @param {object} $div a div jquery object which specifies the\n *                    domain for searching for tooltips. If we\n *                    omit this parameter the function searches\n *                    in the whole body\n **/\nFunctions.showHints = function ($div) {\n    var $newDiv = $div;\n    if ($newDiv === undefined || ! ($newDiv instanceof $) || $newDiv.length === 0) {\n        $newDiv = $('body');\n    }\n    $newDiv.find('.pma_hint').each(function () {\n        Functions.tooltip(\n            $(this).children('img'),\n            'img',\n            $(this).children('span').html()\n        );\n    });\n};\n\nFunctions.mainMenuResizerCallback = function () {\n    // 5 px margin for jumping menu in Chrome\n    // eslint-disable-next-line compat/compat\n    return $(document.body).width() - 5;\n};\n\n/**\n * @return {function}\n */\nFunctions.initializeMenuResizer = () => function () {\n    // Initialise the menu resize plugin\n    $('#topmenu').menuResizer(Functions.mainMenuResizerCallback);\n    // register resize event\n    $(window).on('resize', function () {\n        $('#topmenu').menuResizer('resize');\n    });\n};\n\n/**\n * var  toggleButton  This is a function that creates a toggle\n *                    sliding button given a jQuery reference\n *                    to the correct DOM element\n *\n * @param $obj\n */\nFunctions.toggleButton = function ($obj) {\n    // In rtl mode the toggle switch is flipped horizontally\n    // so we need to take that into account\n    var right;\n    if ($('span.text_direction', $obj).text() === 'ltr') {\n        right = 'right';\n    } else {\n        right = 'left';\n    }\n    /**\n     * @var  h  Height of the button, used to scale the\n     *          background image and position the layers\n     */\n    var h = $obj.height();\n    $('img', $obj).height(h);\n    $('table', $obj).css('bottom', h - 1);\n    /**\n     * @var  on   Width of the \"ON\" part of the toggle switch\n     * @var  off  Width of the \"OFF\" part of the toggle switch\n     */\n    var on = $('td.toggleOn', $obj).width();\n    var off = $('td.toggleOff', $obj).width();\n    // Make the \"ON\" and \"OFF\" parts of the switch the same size\n    // + 2 pixels to avoid overflowed\n    $('td.toggleOn > div', $obj).width(Math.max(on, off) + 2);\n    $('td.toggleOff > div', $obj).width(Math.max(on, off) + 2);\n    /**\n     *  @var  w  Width of the central part of the switch\n     */\n    var w = parseInt(($('img', $obj).height() / 16) * 22, 10);\n    // Resize the central part of the switch on the top\n    // layer to match the background\n    $($obj).find('table td').eq(1).children('div').width(w);\n    /**\n     * @var  imgw    Width of the background image\n     * @var  tblw    Width of the foreground layer\n     * @var  offset  By how many pixels to move the background\n     *               image, so that it matches the top layer\n     */\n    var imgw = $('img', $obj).width();\n    var tblw = $('table', $obj).width();\n    var offset = parseInt(((imgw - tblw) / 2), 10);\n    // Move the background to match the layout of the top layer\n    $obj.find('img').css(right, offset);\n    /**\n     * @var  offw    Outer width of the \"ON\" part of the toggle switch\n     * @var  btnw    Outer width of the central part of the switch\n     */\n    var offw = $('td.toggleOff', $obj).outerWidth();\n    var btnw = $($obj).find('table td').eq(1).outerWidth();\n    // Resize the main div so that exactly one side of\n    // the switch plus the central part fit into it.\n    $obj.width(offw + btnw + 2);\n    /**\n     * @var  move  How many pixels to move the\n     *             switch by when toggling\n     */\n    var move = $('td.toggleOff', $obj).outerWidth();\n    // If the switch is initialized to the\n    // OFF state we need to move it now.\n    if ($('div.toggle-container', $obj).hasClass('off')) {\n        if (right === 'right') {\n            $('div.toggle-container', $obj).animate({ 'left': '-=' + move + 'px' }, 0);\n        } else {\n            $('div.toggle-container', $obj).animate({ 'left': '+=' + move + 'px' }, 0);\n        }\n    }\n    // Attach an 'onclick' event to the switch\n    $('div.toggle-container', $obj).on('click', function () {\n        if ($(this).hasClass('isActive')) {\n            return false;\n        } else {\n            $(this).addClass('isActive');\n        }\n        var $msg = Functions.ajaxShowMessage();\n        var $container = $(this);\n        var callback = $('span.callback', this).text();\n        var operator;\n        var url;\n        var removeClass;\n        var addClass;\n        // Perform the actual toggle\n        if ($(this).hasClass('on')) {\n            if (right === 'right') {\n                operator = '-=';\n            } else {\n                operator = '+=';\n            }\n            url = $(this).find('td.toggleOff > span').text();\n            removeClass = 'on';\n            addClass = 'off';\n        } else {\n            if (right === 'right') {\n                operator = '+=';\n            } else {\n                operator = '-=';\n            }\n            url = $(this).find('td.toggleOn > span').text();\n            removeClass = 'off';\n            addClass = 'on';\n        }\n\n        var parts = url.split('?');\n        $.post(parts[0], parts[1] + '&ajax_request=true', function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                Functions.ajaxRemoveMessage($msg);\n                $container\n                    .removeClass(removeClass)\n                    .addClass(addClass)\n                    .animate({ 'left': operator + move + 'px' }, function () {\n                        $container.removeClass('isActive');\n                    });\n                // eslint-disable-next-line no-eval\n                eval(callback);\n            } else {\n                Functions.ajaxShowMessage(data.error, false);\n                $container.removeClass('isActive');\n            }\n        });\n    });\n};\n\n/**\n * @return {void}\n */\nFunctions.initializeToggleButtons = function () {\n    $('div.toggleAjax').each(function () {\n        var $button = $(this).show();\n        $button.find('img').each(function () {\n            if (this.complete) {\n                Functions.toggleButton($button);\n            } else {\n                $(this).on('load', function () {\n                    Functions.toggleButton($button);\n                });\n            }\n        });\n    });\n};\n\n/**\n * Auto submit page selector\n * @return {function}\n */\nFunctions.getPageSelectorEventHandler = function () {\n    return function (event) {\n        event.stopPropagation();\n        // Check where to load the new content\n        if ($(this).closest('#pma_navigation').length === 0) {\n            // For the main page we don't need to do anything,\n            $(this).closest('form').trigger('submit');\n        } else {\n            // but for the navigation we need to manually replace the content\n            Navigation.treePagination($(this));\n        }\n    };\n};\n\n/**\n * @return {void}\n */\nFunctions.teardownRecentFavoriteTables = () => {\n    $('#update_recent_tables').off('ready');\n    $('#sync_favorite_tables').off('ready');\n};\n\n/**\n * @return {void}\n */\nFunctions.onloadRecentFavoriteTables = () => {\n    var $updateRecentTables = $('#update_recent_tables');\n    if ($updateRecentTables.length) {\n        $.get(\n            $updateRecentTables.attr('href'),\n            { 'no_debug': true },\n            function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    $('#pma_recent_list').html(data.list);\n                }\n            }\n        );\n    }\n\n    // Sync favorite tables from localStorage to pmadb.\n    if ($('#sync_favorite_tables').length) {\n        $.ajax({\n            url: $('#sync_favorite_tables').attr('href'),\n            cache: false,\n            type: 'POST',\n            data: {\n                'favoriteTables': (Config.isStorageSupported('localStorage') && typeof window.localStorage.favoriteTables !== 'undefined')\n                    ? window.localStorage.favoriteTables\n                    : '',\n                'server': CommonParams.get('server'),\n                'no_debug': true\n            },\n            success: function (data) {\n                // Update localStorage.\n                if (Config.isStorageSupported('localStorage')) {\n                    window.localStorage.favoriteTables = data.favoriteTables;\n                }\n                $('#pma_favorite_list').html(data.list);\n            }\n        });\n    }\n};\n\n/**\n * Creates a message inside an object with a sliding effect\n *\n * @param {string} msg    A string containing the text to display\n * @param {JQuery} $object   a jQuery object containing the reference\n *                 to the element where to put the message\n *                 This is optional, if no element is\n *                 provided, one will be created below the\n *                 navigation links at the top of the page\n *\n * @return {boolean} True on success, false on failure\n */\nFunctions.slidingMessage = function (msg, $object) {\n    var $obj = $object;\n    if (msg === undefined || msg.length === 0) {\n        // Don't show an empty message\n        return false;\n    }\n    if ($obj === undefined || ! ($obj instanceof $) || $obj.length === 0) {\n        // If the second argument was not supplied,\n        // we might have to create a new DOM node.\n        if ($('#PMA_slidingMessage').length === 0) {\n            $('#page_content').prepend(\n                '<span id=\"PMA_slidingMessage\" ' +\n                'class=\"d-inline-block\"></span>'\n            );\n        }\n        $obj = $('#PMA_slidingMessage');\n    }\n    if ($obj.has('div').length > 0) {\n        // If there already is a message inside the\n        // target object, we must get rid of it\n        $obj\n            .find('div')\n            .first()\n            .fadeOut(function () {\n                $obj\n                    .children()\n                    .remove();\n                $obj\n                    .append('<div>' + msg + '</div>');\n                // highlight any sql before taking height;\n                Functions.highlightSql($obj);\n                $obj.find('div')\n                    .first()\n                    .hide();\n                $obj\n                    .animate({\n                        height: $obj.find('div').first().height()\n                    })\n                    .find('div')\n                    .first()\n                    .fadeIn();\n            });\n    } else {\n        // Object does not already have a message\n        // inside it, so we simply slide it down\n        $obj.width('100%')\n            .html('<div>' + msg + '</div>');\n        // highlight any sql before taking height;\n        Functions.highlightSql($obj);\n        var h = $obj\n            .find('div')\n            .first()\n            .hide()\n            .height();\n        $obj\n            .find('div')\n            .first()\n            .css('height', 0)\n            .show()\n            .animate({\n                height: h\n            }, function () {\n                // Set the height of the parent\n                // to the height of the child\n                $obj\n                    .height(\n                        $obj\n                            .find('div')\n                            .first()\n                            .height()\n                    );\n            });\n    }\n    return true;\n};\n\n/**\n * Attach CodeMirror editor to SQL edit area.\n * @return {void}\n */\nFunctions.onloadCodeMirrorEditor = () => {\n    var $elm = $('#sqlquery');\n    if ($elm.siblings().filter('.CodeMirror').length > 0) {\n        return;\n    }\n    if ($elm.length > 0) {\n        if (typeof window.CodeMirror !== 'undefined') {\n            window.codeMirrorEditor = Functions.getSqlEditor($elm);\n            window.codeMirrorEditor.focus();\n            window.codeMirrorEditor.on('blur', Functions.updateQueryParameters);\n        } else {\n            // without codemirror\n            $elm.trigger('focus').on('blur', Functions.updateQueryParameters);\n        }\n    }\n    Functions.highlightSql($('body'));\n};\n\n/**\n * @return {void}\n */\nFunctions.teardownCodeMirrorEditor = () => {\n    if (window.codeMirrorEditor) {\n        $('#sqlquery').text(window.codeMirrorEditor.getValue());\n        window.codeMirrorEditor.toTextArea();\n        window.codeMirrorEditor = false;\n    }\n};\n\n/**\n * @return {void}\n */\nFunctions.onloadLockPage = function () {\n    // initializes all lock-page elements lock-id and\n    // val-hash data property\n    $('#page_content form.lock-page textarea, ' +\n        '#page_content form.lock-page input[type=\"text\"], ' +\n        '#page_content form.lock-page input[type=\"number\"], ' +\n        '#page_content form.lock-page select').each(function (i) {\n        $(this).data('lock-id', i);\n        // val-hash is the hash of default value of the field\n        // so that it can be compared with new value hash\n        // to check whether field was modified or not.\n        $(this).data('val-hash', AJAX.hash($(this).val()));\n    });\n\n    // initializes lock-page elements (input types checkbox and radio buttons)\n    // lock-id and val-hash data property\n    $('#page_content form.lock-page input[type=\"checkbox\"], ' +\n        '#page_content form.lock-page input[type=\"radio\"]').each(function (i) {\n        $(this).data('lock-id', i);\n        $(this).data('val-hash', AJAX.hash($(this).is(':checked')));\n    });\n};\n\n/**\n * jQuery plugin to correctly filter input fields by value, needed\n * because some nasty values may break selector syntax\n */\n(function ($) {\n    $.fn.filterByValue = function (value) {\n        return this.filter(function () {\n            return $(this).val() === value;\n        });\n    };\n}($));\n\n/**\n * Return value of a cell in a table.\n *\n * @param {string} td\n * @return {string}\n */\nFunctions.getCellValue = function (td) {\n    var $td = $(td);\n    if ($td.is('.null')) {\n        return '';\n    } else if ((! $td.is('.to_be_saved')\n            || $td.is('.set'))\n        && $td.data('original_data')\n    ) {\n        return $td.data('original_data');\n    } else {\n        return $td.text();\n    }\n};\n\n/**\n * Automatic form submission on change.\n * @return {function}\n */\nFunctions.getAutoSubmitEventHandler = function () {\n    return function () {\n        $(this).closest('form').trigger('submit');\n    };\n};\n\n/**\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\n */\nconst PrintPage = {\n    handleEvent: () => {\n        window.print();\n    }\n};\n\nFunctions.teardownCreateView = () => {\n    $(document).off('click', 'a.create_view.ajax');\n    $(document).off('keydown', '#createViewModal input, #createViewModal select');\n    $(document).off('change', '#fkc_checkbox');\n};\n\nFunctions.onloadCreateView = function () {\n    $('.logout').on('click', function () {\n        var form = $(\n            '<form method=\"POST\" action=\"' + $(this).attr('href') + '\" class=\"disableAjax\">' +\n            '<input type=\"hidden\" name=\"token\" value=\"' + Functions.escapeHtml(CommonParams.get('token')) + '\">' +\n            '</form>'\n        );\n        $('body').append(form);\n        form.submit();\n        sessionStorage.clear();\n        return false;\n    });\n    /**\n     * Ajaxification for the \"Create View\" action\n     */\n    $(document).on('click', 'a.create_view.ajax', function (e) {\n        e.preventDefault();\n        Functions.createViewModal($(this));\n    });\n    /**\n     * Attach Ajax event handlers for input fields in the editor\n     * and used to submit the Ajax request when the ENTER key is pressed.\n     */\n    if ($('#createViewModal').length !== 0) {\n        $(document).on('keydown', '#createViewModal input, #createViewModal select', function (e) {\n            if (e.which === 13) { // 13 is the ENTER key\n                e.preventDefault();\n\n                // with preventing default, selection by <select> tag\n                // was also prevented in IE\n                $(this).trigger('blur');\n\n                $(this).closest('.ui-dialog').find('.ui-button').first().trigger('click');\n            }\n        }); // end $(document).on()\n    }\n\n    if ($('textarea[name=\"view[as]\"]').length !== 0) {\n        window.codeMirrorEditor = Functions.getSqlEditor($('textarea[name=\"view[as]\"]'));\n    }\n};\n\nFunctions.createViewModal = function ($this) {\n    var $msg = Functions.ajaxShowMessage();\n    var sep = CommonParams.get('arg_separator');\n    var params = Functions.getJsConfirmCommonParam(this, $this.getPostData());\n    params += sep + 'ajax_dialog=1';\n    $.post($this.attr('href'), params, function (data) {\n        if (typeof data !== 'undefined' && data.success === true) {\n            Functions.ajaxRemoveMessage($msg);\n            $('#createViewModalGoButton').on('click', function () {\n                if (typeof window.CodeMirror !== 'undefined') {\n                    window.codeMirrorEditor.save();\n                }\n                $msg = Functions.ajaxShowMessage();\n                $.post('index.php?route=/view/create', $('#createViewModal').find('form').serialize(), function (data) {\n                    Functions.ajaxRemoveMessage($msg);\n                    if (typeof data !== 'undefined' && data.success === true) {\n                        $('#createViewModal').modal('hide');\n                        $('.result_query').html(data.message);\n                        Navigation.reload();\n                    } else {\n                        Functions.ajaxShowMessage(data.error);\n                    }\n                });\n            });\n            $('#createViewModal').find('.modal-body').first().html(data.message);\n            // Attach syntax highlighted editor\n            $('#createViewModal').on('shown.bs.modal', function () {\n                window.codeMirrorEditor = Functions.getSqlEditor($('#createViewModal').find('textarea'));\n                $('input:visible[type=text]', $('#createViewModal')).first().trigger('focus');\n                $('#createViewModal').off('shown.bs.modal');\n            });\n            $('#createViewModal').modal('show');\n        } else {\n            Functions.ajaxShowMessage(data.error);\n        }\n    });\n};\n\n/**\n * Makes the breadcrumbs and the menu bar float at the top of the viewport.\n * @return {function}\n */\nFunctions.floatingMenuBar = () => function () {\n    if ($('#floating_menubar').length && $('#PMA_disable_floating_menubar').length === 0) {\n        var left = $('html').attr('dir') === 'ltr' ? 'left' : 'right';\n        $('#floating_menubar')\n            .css('margin-' + left, $('#pma_navigation').width() + $('#pma_navigation_resizer').width())\n            .css(left, 0)\n            .css({\n                'position': 'fixed',\n                'top': 0,\n                'width': '100%',\n                'z-index': 99\n            })\n            .append($('#server-breadcrumb'))\n            .append($('#topmenucontainer'));\n        // Allow the DOM to render, then adjust the padding on the body\n        setTimeout(function () {\n            $('body').css(\n                'padding-top',\n                $('#floating_menubar').outerHeight(true)\n            );\n            $('#topmenu').menuResizer('resize');\n        }, 4);\n    }\n};\n\n/**\n * Scrolls the page to the top if clicking the server-breadcrumb bar\n * @return {function}\n */\nFunctions.breadcrumbScrollToTop = () => function () {\n    $(document).on('click', '#server-breadcrumb, #goto_pagetop', function (event) {\n        event.preventDefault();\n        $('html, body').animate({ scrollTop: 0 }, 'fast');\n    });\n};\n\nconst checkboxesSel = 'input.checkall:checkbox:enabled';\nFunctions.checkboxesSel = checkboxesSel;\n\n/**\n * Watches checkboxes in a form to set the checkall box accordingly\n */\nFunctions.checkboxesChanged = function () {\n    var $form = $(this.form);\n    // total number of checkboxes in current form\n    var totalBoxes = $form.find(checkboxesSel).length;\n    // number of checkboxes checked in current form\n    var checkedBoxes = $form.find(checkboxesSel + ':checked').length;\n    var $checkall = $form.find('input.checkall_box');\n    if (totalBoxes === checkedBoxes) {\n        $checkall.prop({ checked: true, indeterminate: false });\n    } else if (checkedBoxes > 0) {\n        $checkall.prop({ checked: true, indeterminate: true });\n    } else {\n        $checkall.prop({ checked: false, indeterminate: false });\n    }\n};\n\n/**\n * @return {function}\n */\nFunctions.getCheckAllBoxEventHandler = () => function () {\n    var isChecked = $(this).is(':checked');\n    $(this.form).find(checkboxesSel).not('.row-hidden').prop('checked', isChecked)\n        .parents('tr').toggleClass('marked table-active', isChecked);\n};\n\n/**\n * @return {function}\n */\nFunctions.getCheckAllFilterEventHandler = () => function () {\n    var $this = $(this);\n    var selector = $this.data('checkall-selector');\n    $('input.checkall_box').prop('checked', false);\n    $this.parents('form').find(checkboxesSel).filter(selector).prop('checked', true).trigger('change')\n        .parents('tr').toggleClass('marked', true);\n    return false;\n};\n\n/**\n * Watches checkboxes in a sub form to set the sub checkall box accordingly\n */\nFunctions.subCheckboxesChanged = function () {\n    var $form = $(this).parent().parent();\n    // total number of checkboxes in current sub form\n    var totalBoxes = $form.find(checkboxesSel).length;\n    // number of checkboxes checked in current sub form\n    var checkedBoxes = $form.find(checkboxesSel + ':checked').length;\n    var $checkall = $form.find('input.sub_checkall_box');\n    if (totalBoxes === checkedBoxes) {\n        $checkall.prop({ checked: true, indeterminate: false });\n    } else if (checkedBoxes > 0) {\n        $checkall.prop({ checked: true, indeterminate: true });\n    } else {\n        $checkall.prop({ checked: false, indeterminate: false });\n    }\n};\n\n/**\n * @return {function}\n */\nFunctions.getSubCheckAllBoxEventHandler = () => function () {\n    var isChecked = $(this).is(':checked');\n    var $form = $(this).parent().parent();\n    $form.find(checkboxesSel).prop('checked', isChecked)\n        .parents('tr').toggleClass('marked', isChecked);\n};\n\n/**\n * Rows filtering\n *\n * - rows to filter are identified by data-filter-row attribute\n *   which contains uppercase string to filter\n * - it is simple substring case insensitive search\n * - optionally number of matching rows is written to element with\n *   id filter-rows-count\n * @return {function}\n */\nFunctions.getFilterTextEventHandler = () => function () {\n    var filterInput = $(this).val().toUpperCase().replace(/ /g, '_');\n    var count = 0;\n    $('[data-filter-row]').each(function () {\n        var $row = $(this);\n        /* Can not use data() here as it does magic conversion to int for numeric values */\n        if ($row.attr('data-filter-row').indexOf(filterInput) > -1) {\n            count += 1;\n            $row.show();\n            $row.find('input.checkall').removeClass('row-hidden');\n        } else {\n            $row.hide();\n            $row.find('input.checkall').addClass('row-hidden').prop('checked', false);\n            $row.removeClass('marked');\n        }\n    });\n    setTimeout(function () {\n        $(checkboxesSel).trigger('change');\n    }, 300);\n    $('#filter-rows-count').html(count);\n};\n\nFunctions.onloadFilterText = () => {\n    /* Trigger filtering of the list based on incoming database name */\n    var $filter = $('#filterText');\n    if ($filter.val()) {\n        $filter.trigger('keyup').trigger('select');\n    }\n};\n\n/**\n * Formats a byte number to human-readable form\n *\n * @param bytesToFormat the bytes to format\n * @param subDecimals optional subdecimals the number of digits after the point\n * @param pointChar optional pointchar the char to use as decimal point\n *\n * @return {string}\n */\nFunctions.formatBytes = function (bytesToFormat, subDecimals, pointChar) {\n    var bytes = bytesToFormat;\n    var decimals = subDecimals;\n    var point = pointChar;\n    if (! decimals) {\n        decimals = 0;\n    }\n    if (! point) {\n        point = '.';\n    }\n    var units = ['B', 'KiB', 'MiB', 'GiB'];\n    for (var i = 0; bytes > 1024 && i < units.length; i++) {\n        bytes /= 1024;\n    }\n    var factor = Math.pow(10, decimals);\n    bytes = Math.round(bytes * factor) / factor;\n    bytes = bytes.toString().split('.').join(point);\n    return bytes + ' ' + units[i];\n};\n\nFunctions.onloadLoginForm = () => {\n    /**\n     * Reveal the login form to users with JS enabled\n     * and focus the appropriate input field\n     */\n    var $loginform = $('#loginform');\n    if ($loginform.length) {\n        $loginform.find('.js-show').show();\n        if ($('#input_username').val()) {\n            $('#input_password').trigger('focus');\n        } else {\n            $('#input_username').trigger('focus');\n        }\n    }\n    var $httpsWarning = $('#js-https-mismatch');\n    if ($httpsWarning.length) {\n        if ((window.location.protocol === 'https:') !== CommonParams.get('is_https')) {\n            $httpsWarning.show();\n        }\n    }\n};\n\n/**\n * Formats timestamp for display\n *\n * @param {string} date\n * @param {bool} seconds\n * @return {string}\n */\nFunctions.formatDateTime = function (date, seconds) {\n    var result = $.datepicker.formatDate('yy-mm-dd', date);\n    var timefmt = 'HH:mm';\n    if (seconds) {\n        timefmt = 'HH:mm:ss';\n    }\n    return result + ' ' + $.datepicker.formatTime(\n        timefmt, {\n            hour: date.getHours(),\n            minute: date.getMinutes(),\n            second: date.getSeconds()\n        }\n    );\n};\n\n/**\n * Check than forms have less fields than max allowed by PHP.\n * @return {boolean}\n */\nFunctions.checkNumberOfFields = function () {\n    if (typeof maxInputVars === 'undefined') {\n        return false;\n    }\n    if (false === maxInputVars) {\n        return false;\n    }\n    $('form').each(function () {\n        var nbInputs = $(this).find(':input').length;\n        if (nbInputs > maxInputVars) {\n            var warning = window.sprintf(window.Messages.strTooManyInputs, maxInputVars);\n            Functions.ajaxShowMessage(warning);\n            return false;\n        }\n        return true;\n    });\n\n    return true;\n};\n\n/**\n * Ignore the displayed php errors.\n * Simply removes the displayed errors.\n *\n * @param clearPrevErrors whether to clear errors stored\n *             in $_SESSION['prev_errors'] at server\n *\n */\nFunctions.ignorePhpErrors = function (clearPrevErrors) {\n    var clearPrevious = clearPrevErrors;\n    if (typeof (clearPrevious) === 'undefined' ||\n        clearPrevious === null\n    ) {\n        clearPrevious = false;\n    }\n    // send AJAX request to /error-report with send_error_report=0, exception_type=php & token.\n    // It clears the prev_errors stored in session.\n    if (clearPrevious) {\n        var $pmaReportErrorsForm = $('#pma_report_errors_form');\n        $pmaReportErrorsForm.find('input[name=\"send_error_report\"]').val(0); // change send_error_report to '0'\n        $pmaReportErrorsForm.trigger('submit');\n    }\n\n    // remove displayed errors\n    var $pmaErrors = $('#pma_errors');\n    $pmaErrors.fadeOut('slow');\n    $pmaErrors.remove();\n};\n\n/**\n * Toggle the Datetimepicker UI if the date value entered\n * by the user in the 'text box' is not going to be accepted\n * by the Datetimepicker plugin (but is accepted by MySQL)\n *\n * @param $td\n * @param $inputField\n */\nFunctions.toggleDatepickerIfInvalid = function ($td, $inputField) {\n    // Regex allowed by the Datetimepicker UI\n    var dtexpDate = new RegExp(['^([0-9]{4})',\n        '-(((01|03|05|07|08|10|12)-((0[1-9])|([1-2][0-9])|(3[0-1])))|((02|04|06|09|11)',\n        '-((0[1-9])|([1-2][0-9])|30)))$'].join(''));\n    var dtexpTime = new RegExp(['^(([0-1][0-9])|(2[0-3]))',\n        ':((0[0-9])|([1-5][0-9]))',\n        ':((0[0-9])|([1-5][0-9]))(.[0-9]{1,6}){0,1}$'].join(''));\n\n    // If key-ed in Time or Date values are unsupported by the UI, close it\n    if ($td.attr('data-type') === 'date' && ! dtexpDate.test($inputField.val())) {\n        $inputField.datepicker('hide');\n    } else if ($td.attr('data-type') === 'time' && ! dtexpTime.test($inputField.val())) {\n        $inputField.datepicker('hide');\n    } else {\n        $inputField.datepicker('show');\n    }\n};\n\n/**\n * Function to submit the login form after validation is done.\n * NOTE: do NOT use a module or it will break the callback, issue #15435\n */\nwindow.recaptchaCallback = function () {\n    $('#login_form').trigger('submit');\n};\n\n/**\n * Handle 'Ctrl/Alt + Enter' form submits\n * @return {function}\n */\nFunctions.getKeyboardFormSubmitEventHandler = function () {\n    return function (e) {\n        if ((e.ctrlKey && e.which === 13) || (e.altKey && e.which === 13)) {\n            var $form = $(this).closest('form');\n\n            // There could be multiple submit buttons on the same form,\n            // we assume all of them behave identical and just click one.\n            if (! $form.find('input[type=\"submit\"]').first() ||\n                ! $form.find('input[type=\"submit\"]').first().trigger('click')\n            ) {\n                $form.trigger('submit');\n            }\n        }\n    };\n};\n\n/**\n * Display warning regarding SSL when sha256_password method is selected\n * Used in /user-password (Change Password link on index.php)\n * @return {function}\n */\nFunctions.getSslPasswordEventHandler = function () {\n    return function () {\n        if (this.value === 'sha256_password') {\n            $('#ssl_reqd_warning_cp').show();\n        } else {\n            $('#ssl_reqd_warning_cp').hide();\n        }\n    };\n};\n\nFunctions.teardownSortLinkMouseEvent = () => {\n    $(document).off('mouseover', '.sortlink');\n    $(document).off('mouseout', '.sortlink');\n};\n\nFunctions.onloadSortLinkMouseEvent = function () {\n    // Bind event handlers for toggling sort icons\n    $(document).on('mouseover', '.sortlink', function () {\n        $(this).find('.soimg').toggle();\n    });\n    $(document).on('mouseout', '.sortlink', function () {\n        $(this).find('.soimg').toggle();\n    });\n};\n\n/**\n * Returns an HTML IMG tag for a particular image from a theme,\n * which may be an actual file or an icon from a sprite\n *\n * @param {string} image      The name of the file to get\n * @param {string} alternate  Used to set 'alt' and 'title' attributes of the image\n * @param {object} attributes An associative array of other attributes\n *\n * @return {object} The requested image, this object has two methods:\n *                  .toString()        - Returns the IMG tag for the requested image\n *                  .attr(name)        - Returns a particular attribute of the IMG\n *                                       tag given it's name\n *                  .attr(name, value) - Sets a particular attribute of the IMG\n *                                       tag to the given value\n */\nFunctions.getImage = function (image, alternate, attributes) {\n    var alt = alternate;\n    var attr = attributes;\n    // custom image object, it will eventually be returned by this functions\n    var retval = {\n        data: {\n            // this is private\n            alt: '',\n            title: '',\n            src: 'themes/dot.gif',\n        },\n        attr: function (name, value) {\n            if (value === undefined) {\n                if (this.data[name] === undefined) {\n                    return '';\n                } else {\n                    return this.data[name];\n                }\n            } else {\n                this.data[name] = value;\n            }\n        },\n        toString: function () {\n            var retval = '<' + 'img';\n            for (var i in this.data) {\n                retval += ' ' + i + '=\"' + this.data[i] + '\"';\n            }\n            retval += ' /' + '>';\n            return retval;\n        }\n    };\n    // initialise missing parameters\n    if (attr === undefined) {\n        attr = {};\n    }\n    if (alt === undefined) {\n        alt = '';\n    }\n    // set alt\n    if (attr.alt !== undefined) {\n        retval.attr('alt', Functions.escapeHtml(attr.alt));\n    } else {\n        retval.attr('alt', Functions.escapeHtml(alt));\n    }\n    // set title\n    if (attr.title !== undefined) {\n        retval.attr('title', Functions.escapeHtml(attr.title));\n    } else {\n        retval.attr('title', Functions.escapeHtml(alt));\n    }\n    // set css classes\n    retval.attr('class', 'icon ic_' + image);\n    // set all other attributes\n    for (var i in attr) {\n        if (i === 'src') {\n            // do not allow to override the 'src' attribute\n            continue;\n        }\n\n        retval.attr(i, attr[i]);\n    }\n\n    return retval;\n};\n\n/**\n * Sets a configuration value.\n *\n * A configuration value may be set in both browser's local storage and\n * remotely in server's configuration table.\n *\n * NOTE: Depending on server's configuration, the configuration table may be or\n * not persistent.\n *\n * @param {string}     key         Configuration key.\n * @param {object}     value       Configuration value.\n */\nFunctions.configSet = function (key, value) {\n    // Updating value in local storage.\n    var serialized = JSON.stringify(value);\n    localStorage.setItem(key, serialized);\n\n    $.ajax({\n        url: 'index.php?route=/config/set',\n        type: 'POST',\n        dataType: 'json',\n        data: {\n            'ajax_request': true,\n            key: key,\n            server: CommonParams.get('server'),\n            value: serialized,\n        },\n        success: function (data) {\n            if (data.success !== true) {\n                // Try to find a message to display\n                if (data.error || data.message || false) {\n                    Functions.ajaxShowMessage(data.error || data.message);\n                }\n            }\n        }\n    });\n};\n\n/**\n * Gets a configuration value. A configuration value will be searched in\n * browser's local storage first and if not found, a call to the server will be\n * made.\n *\n * If value should not be cached and the up-to-date configuration value from\n * right from the server is required, the third parameter should be `false`.\n *\n * @param {string}     key             Configuration key.\n * @param {boolean}    cached          Configuration type.\n * @param {Function}   successCallback The callback to call after the value is successfully received\n * @param {Function}   failureCallback The callback to call when the value can not be received\n *\n * @return {void}\n */\nFunctions.configGet = function (key, cached, successCallback, failureCallback) {\n    var isCached = (typeof cached !== 'undefined') ? cached : true;\n    var value = localStorage.getItem(key);\n    if (isCached && value !== undefined && value !== null) {\n        return JSON.parse(value);\n    }\n\n    // Result not found in local storage or ignored.\n    // Hitting the server.\n    $.ajax({\n        url: 'index.php?route=/config/get',\n        type: 'POST',\n        dataType: 'json',\n        data: {\n            'ajax_request': true,\n            server: CommonParams.get('server'),\n            key: key\n        },\n        success: function (data) {\n            if (data.success !== true) {\n                // Try to find a message to display\n                if (data.error || data.message || false) {\n                    Functions.ajaxShowMessage(data.error || data.message);\n                }\n\n                // Call the callback if it is defined\n                if (typeof failureCallback === 'function') {\n                    failureCallback();\n                }\n\n                // return here, exit non success mode\n                return;\n            }\n\n            // Updating value in local storage.\n            localStorage.setItem(key, JSON.stringify(data.value));\n            // Call the callback if it is defined\n            if (typeof successCallback === 'function') {\n                // Feed it the value previously saved like on async mode\n                successCallback(JSON.parse(localStorage.getItem(key)));\n            }\n        }\n    });\n};\n\n/**\n * Return POST data as stored by Generator::linkOrButton\n *\n * @return {string}\n */\nFunctions.getPostData = function () {\n    var dataPost = this.attr('data-post');\n    // Strip possible leading ?\n    if (dataPost !== undefined && dataPost.startsWith('?')) {\n        dataPost = dataPost.substring(1);\n    }\n    return dataPost;\n};\n$.fn.getPostData = Functions.getPostData;\n\n/**\n * @return {function}\n */\nFunctions.off = function () {\n    return function () {\n        Functions.teardownIdleEvent();\n        $(document).off('click', 'input:checkbox.checkall');\n        Functions.teardownSqlQueryEditEvents();\n        Functions.removeAutocompleteInfo();\n        Functions.teardownCreateTableEvents();\n        Functions.teardownEnumSetEditorMessage();\n        Functions.teardownEnumSetEditor();\n        $(document).off('click', '#index_frm input[type=submit]');\n        $('div.toggle-container').off('click');\n        $(document).off('change', 'select.pageselector');\n        Functions.teardownRecentFavoriteTables();\n        Functions.teardownCodeMirrorEditor();\n        $(document).off('change', '.autosubmit');\n        document.querySelectorAll('.jsPrintButton').forEach(item => {\n            item.removeEventListener('click', PrintPage);\n        });\n        Functions.teardownCreateView();\n        $(document).off('keydown', 'form input, form textarea, form select');\n        $(document).off('change', 'input[type=radio][name=\"pw_hash\"]');\n        Functions.teardownSortLinkMouseEvent();\n    };\n};\n\n/**\n * @return {function}\n */\nFunctions.on = function () {\n    return function () {\n        Functions.onloadIdleEvent();\n        $(document).on('click', 'input:checkbox.checkall', Functions.getCheckAllCheckboxEventHandler());\n        Functions.addDateTimePicker();\n\n        /**\n         * Add attribute to text boxes for iOS devices (based on bugID: 3508912)\n         */\n        if (navigator.userAgent.match(/(iphone|ipod|ipad)/i)) {\n            $('input[type=text]').attr('autocapitalize', 'off').attr('autocorrect', 'off');\n        }\n\n        Functions.onloadSqlQueryEditEvents();\n        Functions.onloadCreateTableEvents();\n        Functions.onloadChangePasswordEvents();\n        Functions.onloadEnumSetEditorMessage();\n        Functions.onloadEnumSetEditor();\n        $(document).on('click', '#index_frm input[type=submit]', Functions.getAddIndexEventHandler());\n        Functions.showHints();\n        Functions.initializeToggleButtons();\n        $(document).on('change', 'select.pageselector', Functions.getPageSelectorEventHandler());\n        Functions.onloadRecentFavoriteTables();\n        Functions.onloadCodeMirrorEditor();\n        Functions.onloadLockPage();\n        $(document).on('change', '.autosubmit', Functions.getAutoSubmitEventHandler());\n        document.querySelectorAll('.jsPrintButton').forEach(item => {\n            item.addEventListener('click', PrintPage);\n        });\n        Functions.onloadCreateView();\n        $(document).on('change', checkboxesSel, Functions.checkboxesChanged);\n        $(document).on('change', 'input.checkall_box', Functions.getCheckAllBoxEventHandler());\n        $(document).on('click', '.checkall-filter', Functions.getCheckAllFilterEventHandler());\n        $(document).on('change', checkboxesSel + ', input.checkall_box:checkbox:enabled', Functions.subCheckboxesChanged);\n        $(document).on('change', 'input.sub_checkall_box', Functions.getSubCheckAllBoxEventHandler());\n        $(document).on('keyup', '#filterText', Functions.getFilterTextEventHandler());\n        Functions.onloadFilterText();\n        Functions.onloadLoginForm();\n        $('form input, form textarea, form select').on('keydown', Functions.getKeyboardFormSubmitEventHandler());\n        $(document).on('change', 'select#select_authentication_plugin_cp', Functions.getSslPasswordEventHandler());\n        Functions.onloadSortLinkMouseEvent();\n    };\n};\n\nexport { Functions };\n","import $ from 'jquery';\nimport { Functions } from './functions.js';\nimport { CommonParams } from './common.js';\nimport { Config } from './config.js';\n\n/**\n * function used in or for navigation panel\n *\n * @package phpMyAdmin-Navigation\n */\nconst Navigation = {};\n\n/**\n * updates the tree state in sessionStorage\n *\n * @return {void}\n */\nNavigation.treeStateUpdate = function () {\n    // update if session storage is supported\n    if (Config.isStorageSupported('sessionStorage')) {\n        var storage = window.sessionStorage;\n        // try catch necessary here to detect whether\n        // content to be stored exceeds storage capacity\n        try {\n            storage.setItem('navTreePaths', JSON.stringify(Navigation.traverseForPaths()));\n            storage.setItem('server', CommonParams.get('server'));\n            storage.setItem('token', CommonParams.get('token'));\n        } catch (error) {\n            // storage capacity exceeded & old navigation tree\n            // state is no more valid, so remove it\n            storage.removeItem('navTreePaths');\n            storage.removeItem('server');\n            storage.removeItem('token');\n        }\n    }\n};\n\n/**\n * updates the filter state in sessionStorage\n *\n * @param {string} filterName\n * @param {string} filterValue\n *\n * @return {void}\n */\nNavigation.filterStateUpdate = function (filterName, filterValue) {\n    if (Config.isStorageSupported('sessionStorage')) {\n        var storage = window.sessionStorage;\n        try {\n            var currentFilter = $.extend({}, JSON.parse(storage.getItem('navTreeSearchFilters')));\n            var filter = {};\n            filter[filterName] = filterValue;\n            currentFilter = $.extend(currentFilter, filter);\n            storage.setItem('navTreeSearchFilters', JSON.stringify(currentFilter));\n        } catch (error) {\n            storage.removeItem('navTreeSearchFilters');\n        }\n    }\n};\n\n/**\n * restores the filter state on navigation reload\n *\n * @return {void}\n */\nNavigation.filterStateRestore = function () {\n    if (Config.isStorageSupported('sessionStorage')\n        && typeof window.sessionStorage.navTreeSearchFilters !== 'undefined'\n    ) {\n        var searchClauses = JSON.parse(window.sessionStorage.navTreeSearchFilters);\n        if (Object.keys(searchClauses).length < 1) {\n            return;\n        }\n        // restore database filter if present and not empty\n        if (searchClauses.hasOwnProperty('dbFilter')\n            && searchClauses.dbFilter.length\n        ) {\n            var $obj = $('#pma_navigation_tree');\n            if (! $obj.data('fastFilter')) {\n                $obj.data(\n                    'fastFilter',\n                    new Navigation.FastFilter.Filter($obj, '')\n                );\n            }\n            $obj.find('li.fast_filter.db_fast_filter input.searchClause')\n                .val(searchClauses.dbFilter)\n                .trigger('keyup');\n        }\n        // find all table filters present in the tree\n        var $tableFilters = $('#pma_navigation_tree li.database')\n            .children('div.list_container')\n            .find('li.fast_filter input.searchClause');\n        // restore table filters\n        $tableFilters.each(function () {\n            $obj = $(this).closest('div.list_container');\n            // aPath associated with this filter\n            var filterName = $(this).siblings('input[name=aPath]').val();\n            // if this table's filter has a state stored in storage\n            if (searchClauses.hasOwnProperty(filterName)\n                && searchClauses[filterName].length\n            ) {\n                // clear state if item is not visible,\n                // happens when table filter becomes invisible\n                // as db filter has already been applied\n                if (! $obj.is(':visible')) {\n                    Navigation.filterStateUpdate(filterName, '');\n                    return true;\n                }\n                if (! $obj.data('fastFilter')) {\n                    $obj.data(\n                        'fastFilter',\n                        new Navigation.FastFilter.Filter($obj, '')\n                    );\n                }\n                $(this).val(searchClauses[filterName])\n                    .trigger('keyup');\n            }\n        });\n    }\n};\n\n/**\n * Loads child items of a node and executes a given callback\n *\n * @param isNode\n * @param $expandElem expander\n * @param callback    callback function\n *\n * @return {void}\n */\nNavigation.loadChildNodes = function (isNode, $expandElem, callback) {\n    var $destination = null;\n    var params = null;\n\n    if (isNode) {\n        if (!$expandElem.hasClass('expander')) {\n            return;\n        }\n        $destination = $expandElem.closest('li');\n        var pos2Name = $expandElem.find('span.pos2_nav');\n        var pathsNav = $expandElem.find('span.paths_nav');\n        params = {\n            'server': CommonParams.get('server'),\n            'aPath': pathsNav.attr('data-apath'),\n            'vPath': pathsNav.attr('data-vpath'),\n            'pos': pathsNav.attr('data-pos'),\n            'pos2_name': pos2Name.attr('data-name'),\n            'pos2_value': pos2Name.attr('data-value'),\n            'searchClause': '',\n            'searchClause2': ''\n        };\n        if ($expandElem.closest('ul').hasClass('search_results')) {\n            params.searchClause = Navigation.FastFilter.getSearchClause();\n            params.searchClause2 = Navigation.FastFilter.getSearchClause2($expandElem);\n        }\n    } else {\n        $destination = $('#pma_navigation_tree_content');\n        params = {\n            'server': CommonParams.get('server'),\n            'aPath': $expandElem.attr('data-apath'),\n            'vPath': $expandElem.attr('data-vpath'),\n            'pos': $expandElem.attr('data-pos'),\n            'pos2_name': '',\n            'pos2_value': '',\n            'searchClause': '',\n            'searchClause2': ''\n        };\n    }\n\n    $.post('index.php?route=/navigation&ajax_request=1', params, function (data) {\n        if (typeof data !== 'undefined' && data.success === true) {\n            $destination.find('div.list_container').remove(); // FIXME: Hack, there shouldn't be a list container there\n            if (isNode) {\n                $destination.append(data.message);\n                $expandElem.addClass('loaded');\n            } else {\n                $destination.html(data.message);\n                $destination.children()\n                    .first()\n                    .css({\n                        border: '0px',\n                        margin: '0em',\n                        padding : '0em'\n                    })\n                    .slideDown('slow');\n            }\n            if (data.errors) {\n                var $errors = $(data.errors);\n                if ($errors.children().length > 0) {\n                    $('#pma_errors').replaceWith(data.errors);\n                }\n            }\n            if (callback && typeof callback === 'function') {\n                callback(data);\n            }\n        } else if (typeof data !== 'undefined' && data.redirect_flag === '1') {\n            if (window.location.href.indexOf('?') === -1) {\n                window.location.href += '?session_expired=1';\n            } else {\n                window.location.href += CommonParams.get('arg_separator') + 'session_expired=1';\n            }\n            window.location.reload();\n        } else {\n            var $throbber = $expandElem.find('img.throbber');\n            $throbber.hide();\n            var $icon = $expandElem.find('img.ic_b_plus');\n            $icon.show();\n            Functions.ajaxShowMessage(data.error, false);\n        }\n    });\n};\n\n/**\n * Collapses a node in navigation tree.\n *\n * @param $expandElem expander\n *\n * @return {void}\n */\nNavigation.collapseTreeNode = function ($expandElem) {\n    var $children = $expandElem.closest('li').children('div.list_container');\n    var $icon = $expandElem.find('img');\n    if ($expandElem.hasClass('loaded')) {\n        if ($icon.is('.ic_b_minus')) {\n            $icon.removeClass('ic_b_minus').addClass('ic_b_plus');\n            $children.slideUp('fast');\n        }\n    }\n    $expandElem.trigger('blur');\n    $children.promise().done(Navigation.treeStateUpdate);\n};\n\n/**\n * Traverse the navigation tree backwards to generate all the actual\n * and virtual paths, as well as the positions in the pagination at\n * various levels, if necessary.\n *\n * @return {object}\n */\nNavigation.traverseForPaths = function () {\n    var params = {\n        pos: $('#pma_navigation_tree').find('div.dbselector select').val()\n    };\n    if ($('#navi_db_select').length) {\n        return params;\n    }\n    var count = 0;\n    $('#pma_navigation_tree').find('a.expander:visible').each(function () {\n        if ($(this).find('img').is('.ic_b_minus') &&\n            $(this).closest('li').find('div.list_container .ic_b_minus').length === 0\n        ) {\n            var pathsNav = $(this).find('span.paths_nav');\n            params['n' + count + '_aPath'] = pathsNav.attr('data-apath');\n            params['n' + count + '_vPath'] = pathsNav.attr('data-vpath');\n\n            var pos2Nav = $(this).find('span.pos2_nav');\n\n            if (pos2Nav.length === 0) {\n                pos2Nav = $(this)\n                    .parent()\n                    .parent()\n                    .find('span.pos2_nav').last();\n            }\n\n            params['n' + count + '_pos2_name'] = pos2Nav.attr('data-name');\n            params['n' + count + '_pos2_value'] = pos2Nav.attr('data-value');\n\n            var pos3Nav = $(this).find('span.pos3_nav');\n\n            params['n' + count + '_pos3_name'] = pos3Nav.attr('data-name');\n            params['n' + count + '_pos3_value'] = pos3Nav.attr('data-value');\n            count++;\n        }\n    });\n    return params;\n};\n\n/**\n * @return {function}\n */\nNavigation.onload = () => function () {\n    if (! $('#pma_navigation').length) {\n        // Don't bother running any code if the navigation is not even on the page\n        return;\n    }\n\n    // Do not let the page reload on submitting the fast filter\n    $(document).on('submit', '.fast_filter', function (event) {\n        event.preventDefault();\n    });\n\n    // Fire up the resize handlers\n    new Navigation.ResizeHandler();\n\n    /**\n     * opens/closes (hides/shows) tree elements\n     * loads data via ajax\n     */\n    $(document).on('click', '#pma_navigation_tree a.expander', function (event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        var $icon = $(this).find('img');\n        if ($icon.is('.ic_b_plus')) {\n            Navigation.expandTreeNode($(this));\n        } else {\n            Navigation.collapseTreeNode($(this));\n        }\n    });\n\n    /**\n     * Register event handler for click on the reload\n     * navigation icon at the top of the panel\n     */\n    $(document).on('click', '#pma_navigation_reload', function (event) {\n        event.preventDefault();\n\n        // Find the loading symbol and show it\n        var $iconThrobberSrc = $('#pma_navigation').find('.throbber');\n        $iconThrobberSrc.show();\n        // TODO Why is a loading symbol both hidden, and invisible?\n        $iconThrobberSrc.css('visibility', '');\n\n        // Callback to be used to hide the loading symbol when done reloading\n        function hideNav () {\n            $iconThrobberSrc.hide();\n        }\n\n        // Reload the navigation\n        Navigation.reload(hideNav);\n    });\n\n    $(document).on('change', '#navi_db_select', function () {\n        if (! $(this).val()) {\n            CommonParams.set('db', '');\n            Navigation.reload();\n        }\n        $(this).closest('form').trigger('submit');\n    });\n\n    /**\n     * Register event handler for click on the collapse all\n     * navigation icon at the top of the navigation tree\n     */\n    $(document).on('click', '#pma_navigation_collapse', function (event) {\n        event.preventDefault();\n        $('#pma_navigation_tree').find('a.expander').each(function () {\n            var $icon = $(this).find('img');\n            if ($icon.is('.ic_b_minus')) {\n                $(this).trigger('click');\n            }\n        });\n    });\n\n    /**\n     * Register event handler to toggle\n     * the 'link with main panel' icon on mouseenter.\n     */\n    $(document).on('mouseenter', '#pma_navigation_sync', function (event) {\n        event.preventDefault();\n        var synced = $('#pma_navigation_tree').hasClass('synced');\n        var $img = $('#pma_navigation_sync').children('img');\n        if (synced) {\n            $img.removeClass('ic_s_link').addClass('ic_s_unlink');\n        } else {\n            $img.removeClass('ic_s_unlink').addClass('ic_s_link');\n        }\n    });\n\n    /**\n     * Register event handler to toggle\n     * the 'link with main panel' icon on mouseout.\n     */\n    $(document).on('mouseout', '#pma_navigation_sync', function (event) {\n        event.preventDefault();\n        var synced = $('#pma_navigation_tree').hasClass('synced');\n        var $img = $('#pma_navigation_sync').children('img');\n        if (synced) {\n            $img.removeClass('ic_s_unlink').addClass('ic_s_link');\n        } else {\n            $img.removeClass('ic_s_link').addClass('ic_s_unlink');\n        }\n    });\n\n    /**\n     * Register event handler to toggle\n     * the linking with main panel behavior\n     */\n    $(document).on('click', '#pma_navigation_sync', function (event) {\n        event.preventDefault();\n        var synced = $('#pma_navigation_tree').hasClass('synced');\n        var $img = $('#pma_navigation_sync').children('img');\n        if (synced) {\n            $img\n                .removeClass('ic_s_unlink')\n                .addClass('ic_s_link')\n                .attr('alt', window.Messages.linkWithMain)\n                .attr('title', window.Messages.linkWithMain);\n            $('#pma_navigation_tree')\n                .removeClass('synced')\n                .find('li.selected')\n                .removeClass('selected');\n        } else {\n            $img\n                .removeClass('ic_s_link')\n                .addClass('ic_s_unlink')\n                .attr('alt', window.Messages.unlinkWithMain)\n                .attr('title', window.Messages.unlinkWithMain);\n            $('#pma_navigation_tree').addClass('synced');\n            Navigation.showCurrent();\n        }\n    });\n\n    /**\n     * Bind all \"fast filter\" events\n     */\n    $('#pma_navigation_tree').on('click', 'li.fast_filter button.searchClauseClear', Navigation.FastFilter.events.clear);\n    $('#pma_navigation_tree').on('focus', 'li.fast_filter input.searchClause', Navigation.FastFilter.events.focus);\n    $('#pma_navigation_tree').on('blur', 'li.fast_filter input.searchClause', Navigation.FastFilter.events.blur);\n    $('#pma_navigation_tree').on('keyup', 'li.fast_filter input.searchClause', Navigation.FastFilter.events.keyup);\n\n    /**\n     * Ajax handler for pagination\n     */\n    $('#pma_navigation_tree').on('click', 'div.pageselector a.ajax', function (event) {\n        event.preventDefault();\n        Navigation.treePagination($(this));\n    });\n\n    /**\n     * Node highlighting\n     */\n    $('#pma_navigation_tree.highlight').on(\n        'mouseover',\n        'li:not(.fast_filter)',\n        function () {\n            if ($('li:visible', this).length === 0) {\n                $(this).addClass('activePointer');\n            }\n        }\n    );\n    $('#pma_navigation_tree.highlight').on(\n        'mouseout',\n        'li:not(.fast_filter)',\n        function () {\n            $(this).removeClass('activePointer');\n        }\n    );\n\n    /** New view */\n    $(document).on('click', 'li.new_view a.ajax', function (event) {\n        event.preventDefault();\n        Functions.createViewModal($(this));\n    });\n\n    /** Hide navigation tree item */\n    $(document).on('click', 'a.hideNavItem.ajax', function (event) {\n        event.preventDefault();\n        var argSep = CommonParams.get('arg_separator');\n        var params = $(this).getPostData();\n        params += argSep + 'ajax_request=true' + argSep + 'server=' + CommonParams.get('server');\n        $.ajax({\n            type: 'POST',\n            data: params,\n            url: $(this).attr('href'),\n            success: function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    Navigation.reload();\n                } else {\n                    Functions.ajaxShowMessage(data.error);\n                }\n            }\n        });\n    });\n\n    /** Display a dialog to choose hidden navigation items to show */\n    $(document).on('click', 'a.showUnhide.ajax', function (event) {\n        event.preventDefault();\n        var $msg = Functions.ajaxShowMessage();\n        var argSep = CommonParams.get('arg_separator');\n        var params = $(this).getPostData();\n        params += argSep + 'ajax_request=true';\n        $.post($(this).attr('href'), params, function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                Functions.ajaxRemoveMessage($msg);\n                $('#unhideNavItemModal').modal('show');\n                $('#unhideNavItemModal').find('.modal-body').first().html(data.message);\n            } else {\n                Functions.ajaxShowMessage(data.error);\n            }\n        });\n    });\n\n    /** Show a hidden navigation tree item */\n    $(document).on('click', 'a.unhideNavItem.ajax', function (event) {\n        event.preventDefault();\n        var $tr = $(this).parents('tr');\n        var $hiddenTableCount = $tr.parents('tbody').children().length;\n        var $hideDialogBox = $tr.closest('div.ui-dialog');\n        var $msg = Functions.ajaxShowMessage();\n        var argSep = CommonParams.get('arg_separator');\n        var params = $(this).getPostData();\n        params += argSep + 'ajax_request=true' + argSep + 'server=' + CommonParams.get('server');\n        $.ajax({\n            type: 'POST',\n            data: params,\n            url: $(this).attr('href'),\n            success: function (data) {\n                Functions.ajaxRemoveMessage($msg);\n                if (typeof data !== 'undefined' && data.success === true) {\n                    $tr.remove();\n                    if ($hiddenTableCount === 1) {\n                        $hideDialogBox.remove();\n                    }\n                    Navigation.reload();\n                } else {\n                    Functions.ajaxShowMessage(data.error);\n                }\n            }\n        });\n    });\n\n    // Add/Remove favorite table using Ajax.\n    $(document).on('click', '.favorite_table_anchor', function (event) {\n        event.preventDefault();\n        var $self = $(this);\n        var anchorId = $self.attr('id');\n        if ($self.data('favtargetn') !== null) {\n            var $dataFavTargets = $('a[data-favtargets=\"' + $self.data('favtargetn') + '\"]');\n            if ($dataFavTargets.length > 0) {\n                $dataFavTargets.trigger('click');\n                return;\n            }\n        }\n\n        var hasLocalStorage = Config.isStorageSupported('localStorage') &&\n            typeof window.localStorage.favoriteTables !== 'undefined';\n        $.ajax({\n            url: $self.attr('href'),\n            cache: false,\n            type: 'POST',\n            data: {\n                'favoriteTables': hasLocalStorage ? window.localStorage.favoriteTables : '',\n                'server': CommonParams.get('server'),\n            },\n            success: function (data) {\n                if (data.changes) {\n                    $('#pma_favorite_list').html(data.list);\n                    $('#' + anchorId).parent().html(data.anchor);\n                    Functions.tooltip(\n                        $('#' + anchorId),\n                        'a',\n                        $('#' + anchorId).attr('title')\n                    );\n                    // Update localStorage.\n                    if (Config.isStorageSupported('localStorage')) {\n                        window.localStorage.favoriteTables = data.favoriteTables;\n                    }\n                } else {\n                    Functions.ajaxShowMessage(data.message);\n                }\n            }\n        });\n    });\n    // Check if session storage is supported\n    if (Config.isStorageSupported('sessionStorage')) {\n        var storage = window.sessionStorage;\n        // remove tree from storage if Navi_panel config form is submitted\n        $(document).on('submit', 'form.config-form', function () {\n            storage.removeItem('navTreePaths');\n        });\n        // Initialize if no previous state is defined\n        if ($('#pma_navigation_tree_content').length &&\n            typeof storage.navTreePaths === 'undefined'\n        ) {\n            Navigation.reload();\n        } else if (CommonParams.get('server') === storage.server &&\n            CommonParams.get('token') === storage.token\n        ) {\n            // Reload the tree to the state before page refresh\n            Navigation.reload(Navigation.filterStateRestore, JSON.parse(storage.navTreePaths));\n        } else {\n            // If the user is different\n            Navigation.treeStateUpdate();\n            Navigation.reload();\n        }\n    }\n};\n\n/**\n * Expands a node in navigation tree.\n *\n * @param $expandElem expander\n * @param callback    callback function\n *\n * @return {void}\n */\nNavigation.expandTreeNode = function ($expandElem, callback) {\n    var $children = $expandElem.closest('li').children('div.list_container');\n    var $icon = $expandElem.find('img');\n    if ($expandElem.hasClass('loaded')) {\n        if ($icon.is('.ic_b_plus')) {\n            $icon.removeClass('ic_b_plus').addClass('ic_b_minus');\n            $children.slideDown('fast');\n        }\n        if (callback && typeof callback === 'function') {\n            callback.call();\n        }\n        $children.promise().done(Navigation.treeStateUpdate);\n    } else {\n        var $throbber = $('#pma_navigation').find('.throbber')\n            .first()\n            .clone()\n            .css({ visibility: 'visible', display: 'block' })\n            .on('click', false);\n        $icon.hide();\n        $throbber.insertBefore($icon);\n\n        Navigation.loadChildNodes(true, $expandElem, function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                var $destination = $expandElem.closest('li');\n                $icon.removeClass('ic_b_plus').addClass('ic_b_minus');\n                $children = $destination.children('div.list_container');\n                $children.slideDown('fast');\n                if ($destination.find('ul > li').length === 1) {\n                    $destination.find('ul > li')\n                        .find('a.expander.container')\n                        .trigger('click');\n                }\n                if (callback && typeof callback === 'function') {\n                    callback.call();\n                }\n                Navigation.showFullName($destination);\n            } else {\n                Functions.ajaxShowMessage(data.error, false);\n            }\n            $icon.show();\n            $throbber.remove();\n            $children.promise().done(Navigation.treeStateUpdate);\n        });\n    }\n    $expandElem.trigger('blur');\n};\n\n/**\n * Auto-scrolls the newly chosen database\n *\n * @param {object} $element    The element to set to view\n * @param {bool}   $forceToTop Whether to force scroll to top\n *\n */\nNavigation.scrollToView = function ($element, $forceToTop) {\n    Navigation.filterStateRestore();\n    var $container = $('#pma_navigation_tree_content');\n    var elemTop = $element.offset().top - $container.offset().top;\n    var textHeight = 20;\n    var scrollPadding = 20; // extra padding from top of bottom when scrolling to view\n    if (elemTop < 0 || $forceToTop) {\n        $container.stop().animate({\n            scrollTop: elemTop + $container.scrollTop() - scrollPadding\n        });\n    } else if (elemTop + textHeight > $container.height()) {\n        $container.stop().animate({\n            scrollTop: elemTop + textHeight - $container.height() + $container.scrollTop() + scrollPadding\n        });\n    }\n};\n\n/**\n * Expand the navigation and highlight the current database or table/view\n *\n * @return {void}\n */\nNavigation.showCurrent = function () {\n    var db = CommonParams.get('db');\n    var table = CommonParams.get('table');\n\n    var autoexpand = $('#pma_navigation_tree').hasClass('autoexpand');\n\n    $('#pma_navigation_tree')\n        .find('li.selected')\n        .removeClass('selected');\n    var $dbItem;\n    if (db) {\n        $dbItem = findLoadedItem(\n            $('#pma_navigation_tree').find('> div'), db, 'database', !table\n        );\n        if ($('#navi_db_select').length &&\n            $('option:selected', $('#navi_db_select')).length\n        ) {\n            if (! Navigation.selectCurrentDatabase()) {\n                return;\n            }\n            // If loaded database in navigation is not same as current one\n            if ($('#pma_navigation_tree_content').find('span.loaded_db').first().text()\n                !== $('#navi_db_select').val()\n            ) {\n                Navigation.loadChildNodes(false, $('option:selected', $('#navi_db_select')), function () {\n                    handleTableOrDb(table, $('#pma_navigation_tree_content'));\n                    var $children = $('#pma_navigation_tree_content').children('div.list_container');\n                    $children.promise().done(Navigation.treeStateUpdate);\n                });\n            } else {\n                handleTableOrDb(table, $('#pma_navigation_tree_content'));\n            }\n        } else if ($dbItem) {\n            fullExpand(table, $dbItem);\n        }\n    } else if ($('#navi_db_select').length && $('#navi_db_select').val()) {\n        $('#navi_db_select').val('').hide().trigger('change');\n    } else if (autoexpand && $('#pma_navigation_tree_content > ul > li.database').length === 1) {\n        // automatically expand the list if there is only single database\n\n        // find the name of the database\n        var dbItemName = '';\n\n        $('#pma_navigation_tree_content > ul > li.database').children('a').each(function () {\n            var name = $(this).text();\n            if (!dbItemName && name.trim()) { // if the name is not empty, it is the desired element\n                dbItemName = name;\n            }\n        });\n\n        $dbItem = findLoadedItem(\n            $('#pma_navigation_tree').find('> div'), dbItemName, 'database', !table\n        );\n\n        fullExpand(table, $dbItem);\n    }\n    Navigation.showFullName($('#pma_navigation_tree'));\n\n    function fullExpand (table, $dbItem) {\n        var $expander = $dbItem.children('div').first().children('a.expander');\n        // if not loaded or loaded but collapsed\n        if (! $expander.hasClass('loaded') ||\n            $expander.find('img').is('.ic_b_plus')\n        ) {\n            Navigation.expandTreeNode($expander, function () {\n                handleTableOrDb(table, $dbItem);\n            });\n        } else {\n            handleTableOrDb(table, $dbItem);\n        }\n    }\n\n    function handleTableOrDb (table, $dbItem) {\n        if (table) {\n            loadAndHighlightTableOrView($dbItem, table);\n        } else {\n            var $container = $dbItem.children('div.list_container');\n            var $tableContainer = $container.children('ul').children('li.tableContainer');\n            if ($tableContainer.length > 0) {\n                var $expander = $tableContainer.children('div').first().children('a.expander');\n                $tableContainer.addClass('selected');\n                Navigation.expandTreeNode($expander, function () {\n                    Navigation.scrollToView($dbItem, true);\n                });\n            } else {\n                Navigation.scrollToView($dbItem, true);\n            }\n        }\n    }\n\n    function findLoadedItem ($container, name, clazz, doSelect) {\n        var ret = false;\n        $container.children('ul').children('li').each(function () {\n            var $li = $(this);\n            // this is a navigation group, recurse\n            if ($li.is('.navGroup')) {\n                var $container = $li.children('div.list_container');\n                var $childRet = findLoadedItem(\n                    $container, name, clazz, doSelect\n                );\n                if ($childRet) {\n                    ret = $childRet;\n                    return false;\n                }\n            } else { // this is a real navigation item\n                // name and class matches\n                if (((clazz && $li.is('.' + clazz)) || ! clazz) &&\n                        $li.children('a').text() === name) {\n                    if (doSelect) {\n                        $li.addClass('selected');\n                    }\n                    // traverse up and expand and parent navigation groups\n                    $li.parents('.navGroup').each(function () {\n                        var $cont = $(this).children('div.list_container');\n                        if (! $cont.is(':visible')) {\n                            $(this)\n                                .children('div').first()\n                                .children('a.expander')\n                                .trigger('click');\n                        }\n                    });\n                    ret = $li;\n                    return false;\n                }\n            }\n        });\n        return ret;\n    }\n\n    function loadAndHighlightTableOrView ($dbItem, itemName) {\n        var $container = $dbItem.children('div.list_container');\n        var $expander;\n        var $whichItem = isItemInContainer($container, itemName, 'li.nav_node_table, li.view');\n        // If item already there in some container\n        if ($whichItem) {\n            // get the relevant container while may also be a subcontainer\n            var $relatedContainer = $whichItem.closest('li.subContainer').length\n                ? $whichItem.closest('li.subContainer')\n                : $dbItem;\n            $whichItem = findLoadedItem(\n                $relatedContainer.children('div.list_container'),\n                itemName, null, true\n            );\n            // Show directly\n            showTableOrView($whichItem, $relatedContainer.children('div').first().children('a.expander'));\n        // else if item not there, try loading once\n        } else {\n            var $subContainers = $dbItem.find('.subContainer');\n            // If there are subContainers i.e. tableContainer or viewContainer\n            if ($subContainers.length > 0) {\n                var $containers = [];\n                $subContainers.each(function (index) {\n                    $containers[index] = $(this);\n                    $expander = $containers[index]\n                        .children('div').first()\n                        .children('a.expander');\n                    if (! $expander.hasClass('loaded')) {\n                        loadAndShowTableOrView($expander, $containers[index], itemName);\n                    }\n                });\n            // else if no subContainers\n            } else {\n                $expander = $dbItem\n                    .children('div').first()\n                    .children('a.expander');\n                if (! $expander.hasClass('loaded')) {\n                    loadAndShowTableOrView($expander, $dbItem, itemName);\n                }\n            }\n        }\n    }\n\n    function loadAndShowTableOrView ($expander, $relatedContainer, itemName) {\n        Navigation.loadChildNodes(true, $expander, function () {\n            var $whichItem = findLoadedItem(\n                $relatedContainer.children('div.list_container'),\n                itemName, null, true\n            );\n            if ($whichItem) {\n                showTableOrView($whichItem, $expander);\n            }\n        });\n    }\n\n    function showTableOrView ($whichItem, $expander) {\n        Navigation.expandTreeNode($expander, function () {\n            if ($whichItem) {\n                Navigation.scrollToView($whichItem, false);\n            }\n        });\n    }\n\n    function isItemInContainer ($container, name, clazz) {\n        var $whichItem = null;\n        var $items = $container.find(clazz);\n        $items.each(function () {\n            if ($(this).children('a').text() === name) {\n                $whichItem = $(this);\n                return false;\n            }\n        });\n        return $whichItem;\n    }\n};\n\n/**\n * Disable navigation panel settings\n *\n * @return {void}\n */\nNavigation.disableSettings = function () {\n    $('#pma_navigation_settings_icon').addClass('hide');\n    $('#pma_navigation_settings').remove();\n};\n\n/**\n * Ensure that navigation panel settings is properly setup.\n * If not, set it up\n *\n * @param {string} selflink\n *\n * @return {void}\n */\nNavigation.ensureSettings = function (selflink) {\n    $('#pma_navigation_settings_icon').removeClass('hide');\n\n    if (!$('#pma_navigation_settings').length) {\n        var params = {\n            getNaviSettings: true,\n            server: CommonParams.get('server'),\n        };\n        $.post('index.php?route=/navigation&ajax_request=1', params, function (data) {\n            if (typeof data !== 'undefined' && data.success) {\n                $('#pma_navi_settings_container').html(data.message);\n                Config.setupRestoreField();\n                Config.setupValidation();\n                $('#pma_navigation_settings').find('form').attr('action', selflink);\n            } else {\n                Functions.ajaxShowMessage(data.error);\n            }\n        });\n    } else {\n        $('#pma_navigation_settings').find('form').attr('action', selflink);\n    }\n};\n\n/**\n * Reloads the whole navigation tree while preserving its state\n *\n * @param {Function} callback the callback function\n * @param {object} paths stored navigation paths\n *\n * @return {void}\n */\nNavigation.reload = function (callback, paths) {\n    var params = {\n        'reload': true,\n        'no_debug': true,\n        'server': CommonParams.get('server'),\n    };\n    var pathsLocal = paths || Navigation.traverseForPaths();\n    $.extend(params, pathsLocal);\n    if ($('#navi_db_select').length) {\n        params.db = CommonParams.get('db');\n        requestNaviReload(params);\n        return;\n    }\n    requestNaviReload(params);\n\n    function requestNaviReload (params) {\n        $.post('index.php?route=/navigation&ajax_request=1', params, function (data) {\n            if (typeof data !== 'undefined' && data.success) {\n                $('#pma_navigation_tree').html(data.message).children('div').show();\n                if ($('#pma_navigation_tree').hasClass('synced')) {\n                    Navigation.selectCurrentDatabase();\n                    Navigation.showCurrent();\n                }\n                // Fire the callback, if any\n                if (typeof callback === 'function') {\n                    callback.call();\n                }\n                Navigation.treeStateUpdate();\n            } else {\n                Functions.ajaxShowMessage(data.error);\n            }\n        });\n    }\n};\n\nNavigation.selectCurrentDatabase = function () {\n    var $naviDbSelect = $('#navi_db_select');\n\n    if (!$naviDbSelect.length) {\n        return false;\n    }\n\n    if (CommonParams.get('db')) { // db selected\n        $naviDbSelect.show();\n    }\n\n    $naviDbSelect.val(CommonParams.get('db'));\n    return $naviDbSelect.val() === CommonParams.get('db');\n};\n\n/**\n * Handles any requests to change the page in a branch of a tree\n *\n * This can be called from link click or select change event handlers\n *\n * @param {object} $this A jQuery object that points to the element that\n * initiated the action of changing the page\n *\n * @return {void}\n */\nNavigation.treePagination = function ($this) {\n    var $msgbox = Functions.ajaxShowMessage();\n    var isDbSelector = $this.closest('div.pageselector').is('.dbselector');\n    var url = 'index.php?route=/navigation';\n    var params = 'ajax_request=true';\n    if ($this[0].tagName === 'A') {\n        params += CommonParams.get('arg_separator') + $this.getPostData();\n    } else { // tagName === 'SELECT'\n        params += CommonParams.get('arg_separator') + $this.closest('form').serialize();\n    }\n    var searchClause = Navigation.FastFilter.getSearchClause();\n    if (searchClause) {\n        params += CommonParams.get('arg_separator') + 'searchClause=' + encodeURIComponent(searchClause);\n    }\n    if (isDbSelector) {\n        params += CommonParams.get('arg_separator') + 'full=true';\n    } else {\n        var searchClause2 = Navigation.FastFilter.getSearchClause2($this);\n        if (searchClause2) {\n            params += CommonParams.get('arg_separator') + 'searchClause2=' + encodeURIComponent(searchClause2);\n        }\n    }\n    $.post(url, params, function (data) {\n        if (typeof data !== 'undefined' && data.success) {\n            Functions.ajaxRemoveMessage($msgbox);\n            var val;\n            if (isDbSelector) {\n                val = Navigation.FastFilter.getSearchClause();\n                $('#pma_navigation_tree')\n                    .html(data.message)\n                    .children('div')\n                    .show();\n                if (val) {\n                    $('#pma_navigation_tree')\n                        .find('li.fast_filter input.searchClause')\n                        .val(val);\n                }\n            } else {\n                var $parent = $this.closest('div.list_container').parent();\n                val = Navigation.FastFilter.getSearchClause2($this);\n                $this.closest('div.list_container').html(\n                    $(data.message).children().show()\n                );\n                if (val) {\n                    $parent.find('li.fast_filter input.searchClause').val(val);\n                }\n                $parent.find('span.pos2_value').first().text(\n                    $parent.find('span.pos2_value').last().text()\n                );\n                $parent.find('span.pos3_value').first().text(\n                    $parent.find('span.pos3_value').last().text()\n                );\n            }\n        } else {\n            Functions.ajaxShowMessage(data.error);\n            Functions.handleRedirectAndReload(data);\n        }\n        Navigation.treeStateUpdate();\n    });\n};\n\n/**\n * ResizeHandler Custom object that manages the resizing of the navigation\n *\n * XXX: Must only be ever instanciated once\n * XXX: Inside event handlers the 'this' object is accessed as 'event.data.resize_handler'\n */\nNavigation.ResizeHandler = function () {\n    /**\n     * @var {number} panelWidth Used by the collapser to know where to go\n     *                      back to when uncollapsing the panel\n     */\n    this.panelWidth = 0;\n    /**\n     * @var {string} left Used to provide support for RTL languages\n     */\n    this.left = $('html').attr('dir') === 'ltr' ? 'left' : 'right';\n    /**\n     * Adjusts the width of the navigation panel to the specified value\n     *\n     * @param {number} position Navigation width in pixels\n     *\n     * @return {void}\n     */\n    this.setWidth = function (position) {\n        var pos = position;\n        if (typeof pos !== 'number') {\n            pos = 240;\n        }\n        var $resizer = $('#pma_navigation_resizer');\n        var resizerWidth = $resizer.width();\n        var $collapser = $('#pma_navigation_collapser');\n        var windowWidth = $(window).width();\n        $('#pma_navigation').width(pos);\n        $('body').css('margin-' + this.left, pos + 'px');\n        // Issue #15127 : Adding fixed positioning to menubar\n        // Issue #15570 : Panels on homescreen go underneath of floating menubar\n        $('#floating_menubar')\n            .css('margin-' + this.left, $('#pma_navigation').width() + $('#pma_navigation_resizer').width())\n            .css(this.left, 0)\n            .css({\n                'position': 'fixed',\n                'top': 0,\n                'width': '100%',\n                'z-index': 99\n            })\n            .append($('#server-breadcrumb'))\n            .append($('#topmenucontainer'));\n        // Allow the DOM to render, then adjust the padding on the body\n        setTimeout(function () {\n            $('body').css(\n                'padding-top',\n                $('#floating_menubar').outerHeight(true)\n            );\n        }, 2);\n        $('#pma_console')\n            .css('margin-' + this.left, (pos + resizerWidth) + 'px');\n        $resizer.css(this.left, pos + 'px');\n        if (pos === 0) {\n            $collapser\n                .css(this.left, pos + resizerWidth)\n                .html(this.getSymbol(pos))\n                .prop('title', window.Messages.strShowPanel);\n        } else if (windowWidth > 768) {\n            $collapser\n                .css(this.left, pos)\n                .html(this.getSymbol(pos))\n                .prop('title', window.Messages.strHidePanel);\n            $('#pma_navigation_resizer').css({ 'width': '3px' });\n        } else {\n            $collapser\n                .css(this.left, windowWidth - 22)\n                .html(this.getSymbol(100))\n                .prop('title', window.Messages.strHidePanel);\n            $('#pma_navigation').width(windowWidth);\n            $('body').css('margin-' + this.left, '0px');\n            $('#pma_navigation_resizer').css({ 'width': '0px' });\n        }\n        setTimeout(function () {\n            $(window).trigger('resize');\n        }, 4);\n    };\n    /**\n     * Returns the horizontal position of the mouse,\n     * relative to the outer side of the navigation panel\n     *\n     * @param {MouseEvent} event\n     *\n     * @return {number} Navigation width in pixels\n     */\n    this.getPos = function (event) {\n        var pos = event.pageX;\n        var windowWidth = $(window).width();\n        var windowScroll = $(window).scrollLeft();\n        pos = pos - windowScroll;\n        if (this.left !== 'left') {\n            pos = windowWidth - event.pageX;\n        }\n        if (pos < 0) {\n            pos = 0;\n        } else if (pos + 100 >= windowWidth) {\n            pos = windowWidth - 100;\n        } else {\n            this.panelWidth = 0;\n        }\n        return pos;\n    };\n    /**\n     * Returns the HTML code for the arrow symbol used in the collapser\n     *\n     * @param {number} width The width of the panel\n     *\n     * @return {string}\n     */\n    this.getSymbol = function (width) {\n        if (this.left === 'left') {\n            if (width === 0) {\n                return '&rarr;';\n            } else {\n                return '&larr;';\n            }\n        } else {\n            if (width === 0) {\n                return '&larr;';\n            } else {\n                return '&rarr;';\n            }\n        }\n    };\n    /**\n     * Event handler for initiating a resize of the panel\n     *\n     * @param {object} event Event data (contains a reference to Navigation.ResizeHandler)\n     *\n     * @return {void}\n     */\n    this.mousedown = function (event) {\n        event.preventDefault();\n        $(document)\n            .on('mousemove', { 'resize_handler': event.data.resize_handler }, event.data.resize_handler.mousemove)\n            .on('mouseup', { 'resize_handler': event.data.resize_handler }, event.data.resize_handler.mouseup);\n        $('body').css('cursor', 'col-resize');\n    };\n    /**\n     * Event handler for terminating a resize of the panel\n     *\n     * @param {object} event Event data (contains a reference to Navigation.ResizeHandler)\n     *\n     * @return {void}\n     */\n    this.mouseup = function (event) {\n        $('body').css('cursor', '');\n        Functions.configSet('NavigationWidth', event.data.resize_handler.getPos(event));\n        $('#topmenu').menuResizer('resize');\n        $(document)\n            .off('mousemove')\n            .off('mouseup');\n    };\n    /**\n     * Event handler for updating the panel during a resize operation\n     *\n     * @param {object} event Event data (contains a reference to Navigation.ResizeHandler)\n     *\n     * @return {void}\n     */\n    this.mousemove = function (event) {\n        event.preventDefault();\n        if (event.data && event.data.resize_handler) {\n            var pos = event.data.resize_handler.getPos(event);\n            event.data.resize_handler.setWidth(pos);\n        }\n    };\n    /**\n     * Event handler for collapsing the panel\n     *\n     * @param {object} event Event data (contains a reference to Navigation.ResizeHandler)\n     *\n     * @return {void}\n     */\n    this.collapse = function (event) {\n        event.preventDefault();\n        var panelWidth = event.data.resize_handler.panelWidth;\n        var width = $('#pma_navigation').width();\n        if (width === 0 && panelWidth === 0) {\n            panelWidth = 240;\n        }\n        Functions.configSet('NavigationWidth', panelWidth);\n        event.data.resize_handler.setWidth(panelWidth);\n        event.data.resize_handler.panelWidth = width;\n    };\n    /**\n     * Event handler for resizing the navigation tree height on window resize\n     *\n     * @return {void}\n     */\n    this.treeResize = function () {\n        var $nav = $('#pma_navigation');\n        var $navTree = $('#pma_navigation_tree');\n        var $navHeader = $('#pma_navigation_header');\n        var $navTreeContent = $('#pma_navigation_tree_content');\n        var height = ($nav.height() - $navHeader.height());\n\n        height = height > 50 ? height : 800; // keep min. height\n        $navTree.height(height);\n        if ($navTreeContent.length > 0) {\n            $navTreeContent.height(height - $navTreeContent.position().top);\n        } else {\n            // TODO: in fast filter search response there is no #pma_navigation_tree_content, needs to be added in php\n            $navTree.css({\n                'overflow-y': 'auto'\n            });\n        }\n        // Set content bottom space because of console\n        $('body').css('margin-bottom', $('#pma_console').height() + 'px');\n    };\n    /**\n     * Init handlers for the tree resizers\n     *\n     * @return {void}\n     */\n    this.treeInit = function () {\n        const isLoadedOnMobile = $(window).width() < 768;\n        // Hide the pma_navigation initially when loaded on mobile\n        if (isLoadedOnMobile) {\n            this.setWidth(0);\n        }\n        // Register the events for the resizer and the collapser\n        $(document).on('mousedown', '#pma_navigation_resizer', { 'resize_handler': this }, this.mousedown);\n        $(document).on('click', '#pma_navigation_collapser', { 'resize_handler': this }, this.collapse);\n\n        // Add the correct arrow symbol to the collapser\n        $('#pma_navigation_collapser').html(this.getSymbol($('#pma_navigation').width()));\n        // Fix navigation tree height\n        $(window).on('resize', this.treeResize);\n        // need to call this now and then, browser might decide\n        // to show/hide horizontal scrollbars depending on page content width\n        setInterval(this.treeResize, 2000);\n        this.treeResize();\n        const callbackSuccessGetConfigValue = (data) => {\n            this.setWidth(data);\n            $('#topmenu').menuResizer('resize');\n        };\n        // Skip mobile\n        if (isLoadedOnMobile === false) {\n            // Make an init using the default found value\n            const initialResizeValue = $('#pma_navigation').data('config-navigation-width');\n            callbackSuccessGetConfigValue(initialResizeValue);\n        }\n        Functions.configGet('NavigationWidth', false, callbackSuccessGetConfigValue);\n    };\n    this.treeInit();\n};\n\n/**\n * @var {object} FastFilter Handles the functionality that allows filtering\n *                          of the items in a branch of the navigation tree\n */\nNavigation.FastFilter = {\n    /**\n     * Construct for the asynchronous fast filter functionality\n     *\n     * @param {object} $this        A jQuery object pointing to the list container\n     *                              which is the nearest parent of the fast filter\n     * @param {string} searchClause The query string for the filter\n     *\n     * @return {void}\n     */\n    Filter: function ($this, searchClause) {\n        /**\n         * @var {object} $this A jQuery object pointing to the list container\n         *                     which is the nearest parent of the fast filter\n         */\n        this.$this = $this;\n        /**\n         * @var {boolean} searchClause The query string for the filter\n         */\n        this.searchClause = searchClause;\n        /**\n         * @var {object} $clone A clone of the original contents\n         *                      of the navigation branch before\n         *                      the fast filter was applied\n         */\n        this.$clone = $this.clone();\n        /**\n         * @var {object} xhr A reference to the ajax request that is currently running\n         * @type {JQuery.jqXHR<any> | null}\n         */\n        this.xhr = null;\n        /**\n         * @var {number} timeout Used to delay the request for asynchronous search\n         */\n        this.timeout = null;\n\n        var $filterInput = $this.find('li.fast_filter input.searchClause');\n        if ($filterInput.length !== 0 &&\n            $filterInput.val() !== '' &&\n            $filterInput.val() !== $filterInput[0].defaultValue\n        ) {\n            this.request();\n        }\n    },\n    /**\n     * Gets the query string from the database fast filter form\n     *\n     * @return {string}\n     */\n    getSearchClause: function () {\n        var retval = '';\n        var $input = $('#pma_navigation_tree')\n            .find('li.fast_filter.db_fast_filter input.searchClause');\n        if ($input.length && $input.val() !== $input[0].defaultValue) {\n            retval = $input.val();\n        }\n        return retval;\n    },\n    /**\n     * Gets the query string from a second level item's fast filter form\n     * The retrieval is done by traversing the navigation tree backwards\n     *\n     * @param $this\n     *\n     * @return {string}\n     */\n    getSearchClause2: function ($this) {\n        var $filterContainer = $this.closest('div.list_container');\n        var $filterInput = $([]);\n        if ($filterContainer\n            .find('li.fast_filter:not(.db_fast_filter) input.searchClause')\n            .length !== 0) {\n            $filterInput = $filterContainer\n                .find('li.fast_filter:not(.db_fast_filter) input.searchClause');\n        }\n        var searchClause2 = '';\n        if ($filterInput.length !== 0 &&\n            $filterInput.first().val() !== $filterInput[0].defaultValue\n        ) {\n            searchClause2 = $filterInput.val();\n        }\n        return searchClause2;\n    },\n    /**\n     * @var hash events A list of functions that are bound to DOM events\n     *                  at the top of this file\n     */\n    events: {\n        focus: function () {\n            var $obj = $(this).closest('div.list_container');\n            if (! $obj.data('fastFilter')) {\n                $obj.data(\n                    'fastFilter',\n                    new Navigation.FastFilter.Filter($obj, $(this).val())\n                );\n            }\n            if ($(this).val() === this.defaultValue) {\n                $(this).val('');\n            } else {\n                $(this).trigger('select');\n            }\n        },\n        blur: function () {\n            if ($(this).val() === '') {\n                $(this).val(this.defaultValue);\n            }\n            var $obj = $(this).closest('div.list_container');\n            if ($(this).val() === this.defaultValue && $obj.data('fastFilter')) {\n                $obj.data('fastFilter').restore();\n            }\n        },\n        keyup: function (event) {\n            var $obj = $(this).closest('div.list_container');\n            var str = '';\n            if ($(this).val() !== this.defaultValue && $(this).val() !== '') {\n                $obj.find('div.pageselector').hide();\n                str = $(this).val();\n            }\n\n            /**\n             * FIXME at the server level a value match is done while on\n             * the client side it is a regex match. These two should be aligned\n             */\n\n            // regex used for filtering.\n            var regex;\n            try {\n                regex = new RegExp(str, 'i');\n            } catch (err) {\n                return;\n            }\n\n            // this is the div that houses the items to be filtered by this filter.\n            var outerContainer;\n            if ($(this).closest('li.fast_filter').is('.db_fast_filter')) {\n                outerContainer = $('#pma_navigation_tree_content');\n            } else {\n                outerContainer = $obj;\n            }\n\n            // filters items that are directly under the div as well as grouped in\n            // groups. Does not filter child items (i.e. a database search does\n            // not filter tables)\n            var itemFilter = function ($curr) {\n                $curr.children('ul').children('li.navGroup').each(function () {\n                    $(this).children('div.list_container').each(function () {\n                        itemFilter($(this)); // recursive\n                    });\n                });\n                $curr.children('ul').children('li').children('a').not('.container').each(function () {\n                    if (regex.test($(this).text())) {\n                        $(this).parent().show().removeClass('hidden');\n                    } else {\n                        $(this).parent().hide().addClass('hidden');\n                    }\n                });\n            };\n            itemFilter(outerContainer);\n\n            // hides containers that does not have any visible children\n            var containerFilter = function ($curr) {\n                $curr.children('ul').children('li.navGroup').each(function () {\n                    var $group = $(this);\n                    $group.children('div.list_container').each(function () {\n                        containerFilter($(this)); // recursive\n                    });\n                    $group.show().removeClass('hidden');\n                    if ($group.children('div.list_container').children('ul')\n                        .children('li').not('.hidden').length === 0) {\n                        $group.hide().addClass('hidden');\n                    }\n                });\n            };\n            containerFilter(outerContainer);\n\n            if ($(this).val() !== this.defaultValue && $(this).val() !== '') {\n                if (! $obj.data('fastFilter')) {\n                    $obj.data(\n                        'fastFilter',\n                        new Navigation.FastFilter.Filter($obj, $(this).val())\n                    );\n                } else {\n                    if (event.keyCode === 13) {\n                        $obj.data('fastFilter').update($(this).val());\n                    }\n                }\n            } else if ($obj.data('fastFilter')) {\n                $obj.data('fastFilter').restore(true);\n            }\n            // update filter state\n            var filterName;\n            if ($(this).attr('name') === 'searchClause2') {\n                filterName = $(this).siblings('input[name=aPath]').val();\n            } else {\n                filterName = 'dbFilter';\n            }\n            Navigation.filterStateUpdate(filterName, $(this).val());\n        },\n        clear: function (event) {\n            event.stopPropagation();\n            // Clear the input and apply the fast filter with empty input\n            var filter = $(this).closest('div.list_container').data('fastFilter');\n            if (filter) {\n                filter.restore();\n            }\n            var value = $(this).prev()[0].defaultValue;\n            $(this).prev().val(value).trigger('keyup');\n        }\n    }\n};\n/**\n * Handles a change in the search clause\n *\n * @param {string} searchClause The query string for the filter\n *\n * @return {void}\n */\nNavigation.FastFilter.Filter.prototype.update = function (searchClause) {\n    if (this.searchClause !== searchClause) {\n        this.searchClause = searchClause;\n        this.request();\n    }\n};\n/**\n * After a delay of 250mS, initiates a request to retrieve search results\n * Multiple calls to this function will always abort the previous request\n *\n * @return {void}\n */\nNavigation.FastFilter.Filter.prototype.request = function () {\n    var self = this;\n    if (self.$this.find('li.fast_filter').find('img.throbber').length === 0) {\n        self.$this.find('li.fast_filter').append(\n            $('<div class=\"throbber\"></div>').append(\n                $('#pma_navigation_content')\n                    .find('img.throbber')\n                    .clone()\n                    .css({ visibility: 'visible', display: 'block' })\n            )\n        );\n    }\n    if (self.xhr) {\n        self.xhr.abort();\n    }\n    var params = self.$this.find('> ul > li > form.fast_filter').first().serialize();\n\n    if (self.$this.find('> ul > li > form.fast_filter').first().find('input[name=searchClause]').length === 0) {\n        var $input = $('#pma_navigation_tree').find('li.fast_filter.db_fast_filter input.searchClause');\n        if ($input.length && $input.val() !== $input[0].defaultValue) {\n            params += CommonParams.get('arg_separator') + 'searchClause=' + encodeURIComponent($input.val());\n        }\n    }\n    self.xhr = $.ajax({\n        url: 'index.php?route=/navigation&ajax_request=1&server=' + CommonParams.get('server'),\n        type: 'post',\n        dataType: 'json',\n        data: params,\n        complete: function (jqXHR, status) {\n            if (status !== 'abort') {\n                var data = JSON.parse(jqXHR.responseText);\n                self.$this.find('li.fast_filter').find('div.throbber').remove();\n                if (data && data.results) {\n                    self.swap.apply(self, [data.message]);\n                }\n            }\n        }\n    });\n};\n/**\n * Replaces the contents of the navigation branch with the search results\n *\n * @param {string} list The search results\n *\n * @return {void}\n */\nNavigation.FastFilter.Filter.prototype.swap = function (list) {\n    this.$this\n        .html($(list).html())\n        .children()\n        .show()\n        .end()\n        .find('li.fast_filter input.searchClause')\n        .val(this.searchClause);\n    this.$this.data('fastFilter', this);\n};\n/**\n * Restores the navigation to the original state after the fast filter is cleared\n *\n * @param {boolean} focus Whether to also focus the input box of the fast filter\n *\n * @return {void}\n */\nNavigation.FastFilter.Filter.prototype.restore = function (focus) {\n    if (this.$this.children('ul').first().hasClass('search_results')) {\n        this.$this.html(this.$clone.html()).children().show();\n        this.$this.data('fastFilter', this);\n        if (focus) {\n            this.$this.find('li.fast_filter input.searchClause').trigger('focus');\n        }\n    }\n    this.searchClause = '';\n    this.$this.find('div.pageselector').show();\n    this.$this.find('div.throbber').remove();\n};\n\n/**\n * Show full name when cursor hover and name not shown completely\n *\n * @param {object} $containerELem Container element\n *\n * @return {void}\n */\nNavigation.showFullName = function ($containerELem) {\n    $containerELem.find('.hover_show_full').on('mouseenter', function () {\n        /** mouseenter */\n        var $this = $(this);\n        var thisOffset = $this.offset();\n        if ($this.text() === '') {\n            return;\n        }\n        var $parent = $this.parent();\n        if (($parent.offset().left + $parent.outerWidth())\n           < (thisOffset.left + $this.outerWidth())) {\n            var $fullNameLayer = $('#full_name_layer');\n            if ($fullNameLayer.length === 0) {\n                $('body').append('<div id=\"full_name_layer\" class=\"hide\"></div>');\n                $('#full_name_layer').on('mouseleave', function () {\n                    /** mouseleave */\n                    $(this).addClass('hide')\n                        .removeClass('hovering');\n                }).on('mouseenter', function () {\n                    /** mouseenter */\n                    $(this).addClass('hovering');\n                });\n                $fullNameLayer = $('#full_name_layer');\n            }\n            $fullNameLayer.removeClass('hide');\n            $fullNameLayer.css({ left: thisOffset.left, top: thisOffset.top });\n            $fullNameLayer.html($this.clone());\n            setTimeout(function () {\n                if (! $fullNameLayer.hasClass('hovering')) {\n                    $fullNameLayer.trigger('mouseleave');\n                }\n            }, 200);\n        }\n    });\n};\n\nexport { Navigation };\n","import $ from 'jquery';\nimport { Functions } from './functions.js';\nimport { CommonParams } from './common.js';\n\n/**\n * Functions used in configuration forms and on user preferences pages\n */\nconst Config = {};\n\nwindow.configInlineParams;\nwindow.configScriptLoaded;\n\n/**\n * checks whether browser supports web storage\n *\n * @param {'localStorage' | 'sessionStorage'} type the type of storage i.e. localStorage or sessionStorage\n * @param {boolean} warn Wether to show a warning on error\n *\n * @return {boolean}\n */\nConfig.isStorageSupported = (type, warn = false) => {\n    try {\n        window[type].setItem('PMATest', 'test');\n        // Check whether key-value pair was set successfully\n        if (window[type].getItem('PMATest') === 'test') {\n            // Supported, remove test variable from storage\n            window[type].removeItem('PMATest');\n            return true;\n        }\n    } catch (error) {\n        // Not supported\n        if (warn) {\n            Functions.ajaxShowMessage(window.Messages.strNoLocalStorage, false);\n        }\n    }\n    return false;\n};\n\n// default values for fields\nwindow.defaultValues = {};\n\n/**\n * Returns field type\n *\n * @param {Element} field\n *\n * @return {string}\n */\nfunction getFieldType (field) {\n    var $field = $(field);\n    var tagName = $field.prop('tagName');\n    if (tagName === 'INPUT') {\n        return $field.attr('type');\n    } else if (tagName === 'SELECT') {\n        return 'select';\n    } else if (tagName === 'TEXTAREA') {\n        return 'text';\n    }\n    return '';\n}\n\n/**\n * Enables or disables the \"restore default value\" button\n *\n * @param {Element} field\n * @param {boolean} display\n *\n * @return {void}\n */\nfunction setRestoreDefaultBtn (field, display) {\n    var $el = $(field).closest('td').find('.restore-default img');\n    $el[display ? 'show' : 'hide']();\n}\n\n/**\n * Marks field depending on its value (system default or custom)\n *\n * @param {Element | JQuery<Element>} field\n *\n * @return {void}\n */\nfunction markField (field) {\n    var $field = $(field);\n    var type = getFieldType($field);\n    var isDefault = checkFieldDefault($field, type);\n\n    // checkboxes uses parent <span> for marking\n    var $fieldMarker = (type === 'checkbox') ? $field.parent() : $field;\n    setRestoreDefaultBtn($field, ! isDefault);\n    $fieldMarker[isDefault ? 'removeClass' : 'addClass']('custom');\n}\n\n/**\n * Sets field value\n *\n * value must be of type:\n * o undefined (omitted) - restore default value (form default, not PMA default)\n * o String - if field_type is 'text'\n * o boolean - if field_type is 'checkbox'\n * o Array of values - if field_type is 'select'\n *\n * @param {Element} field\n * @param {string}  fieldType see {@link #getFieldType}\n * @param {string | boolean}  value\n */\nfunction setFieldValue (field, fieldType, value) {\n    var $field = $(field);\n    switch (fieldType) {\n    case 'text':\n    case 'number':\n        $field.val(value);\n        break;\n    case 'checkbox':\n        $field.prop('checked', value);\n        break;\n    case 'select':\n        var options = $field.prop('options');\n        var i;\n        var imax = options.length;\n        for (i = 0; i < imax; i++) {\n            options[i].selected = (value.indexOf(options[i].value) !== -1);\n        }\n        break;\n    }\n    markField($field);\n}\n\n/**\n * Gets field value\n *\n * Will return one of:\n * o String - if type is 'text'\n * o boolean - if type is 'checkbox'\n * o Array of values - if type is 'select'\n *\n * @param {Element} field\n * @param {string}  fieldType returned by {@link #getFieldType}\n *\n * @return {boolean | string | string[] | null}\n */\nfunction getFieldValue (field, fieldType) {\n    var $field = $(field);\n    switch (fieldType) {\n    case 'text':\n    case 'number':\n        return $field.prop('value');\n    case 'checkbox':\n        return $field.prop('checked');\n    case 'select':\n        var options = $field.prop('options');\n        var i;\n        var imax = options.length;\n        var items = [];\n        for (i = 0; i < imax; i++) {\n            if (options[i].selected) {\n                items.push(options[i].value);\n            }\n        }\n        return items;\n    }\n    return null;\n}\n\n/**\n * Returns values for all fields in fieldsets\n *\n * @return {object}\n */\nConfig.getAllValues = () => {\n    var $elements = $('fieldset input, fieldset select, fieldset textarea');\n    var values = {};\n    var type;\n    var value;\n    for (var i = 0; i < $elements.length; i++) {\n        type = getFieldType($elements[i]);\n        value = getFieldValue($elements[i], type);\n        if (typeof value !== 'undefined') {\n            // we only have single selects, fatten array\n            if (type === 'select') {\n                value = value[0];\n            }\n            values[$elements[i].name] = value;\n        }\n    }\n    return values;\n};\n\n/**\n * Checks whether field has its default value\n *\n * @param {Element} field\n * @param {string}  type\n *\n * @return {boolean}\n */\nfunction checkFieldDefault (field, type) {\n    var $field = $(field);\n    var fieldId = $field.attr('id');\n    if (typeof window.defaultValues[fieldId] === 'undefined') {\n        return true;\n    }\n    var isDefault = true;\n    var currentValue = getFieldValue($field, type);\n    if (type !== 'select') {\n        isDefault = currentValue === window.defaultValues[fieldId];\n    } else {\n        // compare arrays, will work for our representation of select values\n        if (currentValue.length !== window.defaultValues[fieldId].length) {\n            isDefault = false;\n        } else {\n            for (var i = 0; i < currentValue.length; i++) {\n                if (currentValue[i] !== window.defaultValues[fieldId][i]) {\n                    isDefault = false;\n                    break;\n                }\n            }\n        }\n    }\n    return isDefault;\n}\n\n/**\n * Returns element's id prefix\n * @param {Element} element\n *\n * @return {string}\n */\nConfig.getIdPrefix = function (element) {\n    return $(element).attr('id').replace(/[^-]+$/, '');\n};\n\n// ------------------------------------------------------------------\n// Form validation and field operations\n//\n\n// form validator assignments\nlet validate = {};\n\n// form validator list\nwindow.validators = {\n    // regexp: numeric value\n    regExpNumeric: /^[0-9]+$/,\n    // regexp: extract parts from PCRE expression\n    regExpPcreExtract: /(.)(.*)\\1(.*)?/,\n    /**\n     * Validates positive number\n     *\n     * @param {boolean} isKeyUp\n     *\n     * @return {boolean}\n     */\n    validatePositiveNumber: function (isKeyUp) {\n        if (isKeyUp && this.value === '') {\n            return true;\n        }\n        var result = this.value !== '0' && window.validators.regExpNumeric.test(this.value);\n        return result ? true : window.Messages.configErrorInvalidPositiveNumber;\n    },\n    /**\n     * Validates non-negative number\n     *\n     * @param {boolean} isKeyUp\n     *\n     * @return {boolean}\n     */\n    validateNonNegativeNumber: function (isKeyUp) {\n        if (isKeyUp && this.value === '') {\n            return true;\n        }\n        var result = window.validators.regExpNumeric.test(this.value);\n        return result ? true : window.Messages.configErrorInvalidNonNegativeNumber;\n    },\n    /**\n     * Validates port number\n     *\n     * @return {true|string}\n     */\n    validatePortNumber: function () {\n        if (this.value === '') {\n            return true;\n        }\n        var result = window.validators.regExpNumeric.test(this.value) && this.value !== '0';\n        return result && this.value <= 65535 ? true : window.Messages.configErrorInvalidPortNumber;\n    },\n    /**\n     * Validates value according to given regular expression\n     *\n     * @param {boolean} isKeyUp\n     * @param {string}  regexp\n     *\n     * @return {true|string}\n     */\n    validateByRegex: function (isKeyUp, regexp) {\n        if (isKeyUp && this.value === '') {\n            return true;\n        }\n        // convert PCRE regexp\n        var parts = regexp.match(window.validators.regExpPcreExtract);\n        var valid = this.value.match(new RegExp(parts[2], parts[3])) !== null;\n        return valid ? true : window.Messages.configErrorInvalidValue;\n    },\n    /**\n     * Validates upper bound for numeric inputs\n     *\n     * @param {boolean} isKeyUp\n     * @param {number} maxValue\n     *\n     * @return {true|string}\n     */\n    validateUpperBound: function (isKeyUp, maxValue) {\n        var val = parseInt(this.value, 10);\n        if (isNaN(val)) {\n            return true;\n        }\n        return val <= maxValue ? true : window.sprintf(window.Messages.configErrorInvalidUpperBound, maxValue);\n    },\n    // field validators\n    field: {},\n    // fieldset validators\n    fieldset: {}\n};\n\n/**\n * Registers validator for given field\n *\n * @param {string}  id       field id\n * @param {string}  type     validator (key in validators object)\n * @param {boolean} onKeyUp  whether fire on key up\n * @param {Array}   params   validation function parameters\n */\nConfig.registerFieldValidator = (id, type, onKeyUp, params) => {\n    if (typeof window.validators[type] === 'undefined') {\n        return;\n    }\n    if (typeof validate[id] === 'undefined') {\n        validate[id] = [];\n    }\n    if (validate[id].length === 0) {\n        validate[id].push([type, params, onKeyUp]);\n    }\n};\n\n/**\n * Returns validation functions associated with form field\n *\n * @param {String}  fieldId     form field id\n * @param {boolean} onKeyUpOnly see registerFieldValidator\n *\n * @return {any[]} of [function, parameters to be passed to function]\n */\nfunction getFieldValidators (fieldId, onKeyUpOnly) {\n    // look for field bound validator\n    var name = fieldId && fieldId.match(/[^-]+$/)[0];\n    if (typeof window.validators.field[name] !== 'undefined') {\n        return [[window.validators.field[name], null]];\n    }\n\n    // look for registered validators\n    var functions = [];\n    if (typeof validate[fieldId] !== 'undefined') {\n        // validate[field_id]: array of [type, params, onKeyUp]\n        for (var i = 0, imax = validate[fieldId].length; i < imax; i++) {\n            if (onKeyUpOnly && ! validate[fieldId][i][2]) {\n                continue;\n            }\n            functions.push([window.validators[validate[fieldId][i][0]], validate[fieldId][i][1]]);\n        }\n    }\n\n    return functions;\n}\n\n/**\n * Displays errors for given form fields\n *\n * WARNING: created DOM elements must be identical with the ones made by\n * PhpMyAdmin\\Config\\FormDisplayTemplate::displayInput()!\n *\n * @param {object} errorList list of errors in the form {field id: error array}\n */\nConfig.displayErrors = function (errorList) {\n    var tempIsEmpty = function (item) {\n        return item !== '';\n    };\n\n    for (var fieldId in errorList) {\n        var errors = errorList[fieldId];\n        var $field = $('#' + fieldId);\n        var isFieldset = $field.attr('tagName') === 'FIELDSET';\n        var $errorCnt;\n        if (isFieldset) {\n            $errorCnt = $field.find('dl.errors');\n        } else {\n            $errorCnt = $field.siblings('.inline_errors');\n        }\n\n        // remove empty errors (used to clear error list)\n        errors = $.grep(errors, tempIsEmpty);\n\n        // CSS error class\n        if (! isFieldset) {\n            // checkboxes uses parent <span> for marking\n            var $fieldMarker = ($field.attr('type') === 'checkbox') ? $field.parent() : $field;\n            $fieldMarker[errors.length ? 'addClass' : 'removeClass']('field-error');\n        }\n\n        if (errors.length) {\n            // if error container doesn't exist, create it\n            if ($errorCnt.length === 0) {\n                if (isFieldset) {\n                    $errorCnt = $('<dl class=\"errors\"></dl>');\n                    $field.find('table').before($errorCnt);\n                } else {\n                    $errorCnt = $('<dl class=\"inline_errors\"></dl>');\n                    $field.closest('td').append($errorCnt);\n                }\n            }\n\n            var html = '';\n            for (var i = 0, imax = errors.length; i < imax; i++) {\n                html += '<dd>' + errors[i] + '</dd>';\n            }\n            $errorCnt.html(html);\n        } else if ($errorCnt !== null) {\n            // remove useless error container\n            $errorCnt.remove();\n        }\n    }\n};\n\n/**\n * Validates fields and fieldsets and call displayError function as required\n */\nfunction setDisplayError () {\n    var elements = $('.optbox input[id], .optbox select[id], .optbox textarea[id]');\n    // run all field validators\n    var errors = {};\n    for (var i = 0; i < elements.length; i++) {\n        validateField(elements[i], false, errors);\n    }\n    // run all fieldset validators\n    $('fieldset.optbox').each(function () {\n        validateFieldset(this, false, errors);\n    });\n    Config.displayErrors(errors);\n}\n\n/**\n * Validates fieldset and puts errors in 'errors' object\n *\n * @param {Element} fieldset\n * @param {boolean} isKeyUp\n * @param {object}  errors\n */\nfunction validateFieldset (fieldset, isKeyUp, errors) {\n    var $fieldset = $(fieldset);\n    if ($fieldset.length && typeof window.validators.fieldset[$fieldset.attr('id')] !== 'undefined') {\n        var fieldsetErrors = window.validators.fieldset[$fieldset.attr('id')].apply($fieldset[0], [isKeyUp]);\n        for (var fieldId in fieldsetErrors) {\n            if (typeof errors[fieldId] === 'undefined') {\n                errors[fieldId] = [];\n            }\n            if (typeof fieldsetErrors[fieldId] === 'string') {\n                fieldsetErrors[fieldId] = [fieldsetErrors[fieldId]];\n            }\n            $.merge(errors[fieldId], fieldsetErrors[fieldId]);\n        }\n    }\n}\n\n/**\n * Validates form field and puts errors in 'errors' object\n *\n * @param {Element} field\n * @param {boolean} isKeyUp\n * @param {object}  errors\n */\nfunction validateField (field, isKeyUp, errors) {\n    var args;\n    var result;\n    var $field = $(field);\n    var fieldId = $field.attr('id');\n    errors[fieldId] = [];\n    var functions = getFieldValidators(fieldId, isKeyUp);\n    for (var i = 0; i < functions.length; i++) {\n        if (typeof functions[i][1] !== 'undefined' && functions[i][1] !== null) {\n            args = functions[i][1].slice(0);\n        } else {\n            args = [];\n        }\n        args.unshift(isKeyUp);\n        result = functions[i][0].apply($field[0], args);\n        if (result !== true) {\n            if (typeof result === 'string') {\n                result = [result];\n            }\n            $.merge(errors[fieldId], result);\n        }\n    }\n}\n\n/**\n * Validates form field and parent fieldset\n *\n * @param {Element} field\n * @param {boolean} isKeyUp\n */\nfunction validateFieldAndFieldset (field, isKeyUp) {\n    var $field = $(field);\n    var errors = {};\n    validateField($field, isKeyUp, errors);\n    validateFieldset($field.closest('fieldset.optbox'), isKeyUp, errors);\n    Config.displayErrors(errors);\n}\n\nConfig.loadInlineConfig = () => {\n    if (! Array.isArray(window.configInlineParams)) {\n        return;\n    }\n    for (var i = 0; i < window.configInlineParams.length; ++i) {\n        if (typeof window.configInlineParams[i] === 'function') {\n            window.configInlineParams[i]();\n        }\n    }\n};\n\nConfig.setupValidation = function () {\n    validate = {};\n    window.configScriptLoaded = true;\n    if (window.configScriptLoaded && typeof window.configInlineParams !== 'undefined') {\n        Config.loadInlineConfig();\n    }\n    // register validators and mark custom values\n    var $elements = $('.optbox input[id], .optbox select[id], .optbox textarea[id]');\n    $elements.each(function () {\n        markField(this);\n        var $el = $(this);\n        $el.on('change', function () {\n            validateFieldAndFieldset(this, false);\n            markField(this);\n        });\n        var tagName = $el.attr('tagName');\n        // text fields can be validated after each change\n        if (tagName === 'INPUT' && $el.attr('type') === 'text') {\n            $el.on('keyup', function () {\n                validateFieldAndFieldset($el, true);\n                markField($el);\n            });\n        }\n        // disable textarea spellcheck\n        if (tagName === 'TEXTAREA') {\n            $el.attr('spellcheck', false);\n        }\n    });\n\n    // check whether we've refreshed a page and browser remembered modified\n    // form values\n    var $checkPageRefresh = $('#check_page_refresh');\n    if ($checkPageRefresh.length === 0 || $checkPageRefresh.val() === '1') {\n        // run all field validators\n        var errors = {};\n        for (var i = 0; i < $elements.length; i++) {\n            validateField($elements[i], false, errors);\n        }\n        // run all fieldset validators\n        $('fieldset.optbox').each(function () {\n            validateFieldset(this, false, errors);\n        });\n\n        Config.displayErrors(errors);\n    } else if ($checkPageRefresh) {\n        $checkPageRefresh.val('1');\n    }\n};\n\n//\n// END: Form validation and field operations\n// ------------------------------------------------------------------\n\nfunction adjustPrefsNotification () {\n    var $prefsAutoLoad = $('#prefs_autoload');\n    var $tableNameControl = $('#table_name_col_no');\n    var $prefsAutoShowing = ($prefsAutoLoad.css('display') !== 'none');\n\n    if ($prefsAutoShowing && $tableNameControl.length) {\n        $tableNameControl.css('top', '55px');\n    }\n}\n\n// ------------------------------------------------------------------\n// \"Restore default\" and \"set value\" buttons\n//\n\n/**\n * Restores field's default value\n *\n * @param {string} fieldId\n *\n * @return {void}\n */\nfunction restoreField (fieldId) {\n    var $field = $('#' + fieldId);\n    if ($field.length === 0 || window.defaultValues[fieldId] === undefined) {\n        return;\n    }\n    setFieldValue($field, getFieldType($field), window.defaultValues[fieldId]);\n}\n\nConfig.setupRestoreField = function () {\n    $('div.tab-content')\n        .on('mouseenter', '.restore-default, .set-value', function () {\n            $(this).css('opacity', 1);\n        })\n        .on('mouseleave', '.restore-default, .set-value', function () {\n            $(this).css('opacity', 0.25);\n        })\n        .on('click', '.restore-default, .set-value', function (e) {\n            e.preventDefault();\n            var href = $(this).attr('href');\n            var fieldSel;\n            if ($(this).hasClass('restore-default')) {\n                fieldSel = href;\n                restoreField(fieldSel.substring(1));\n            } else {\n                fieldSel = href.match(/^[^=]+/)[0];\n                var value = href.match(/=(.+)$/)[1];\n                setFieldValue($(fieldSel), 'text', value);\n            }\n            $(fieldSel).trigger('change');\n        })\n        .find('.restore-default, .set-value')\n        // inline-block for IE so opacity inheritance works\n        .css({ display: 'inline-block', opacity: 0.25 });\n};\n\n//\n// END: \"Restore default\" and \"set value\" buttons\n// ------------------------------------------------------------------\n\n/**\n * Saves user preferences to localStorage\n *\n * @param {Element} form\n */\nfunction savePrefsToLocalStorage (form) {\n    var $form = $(form);\n    var submit = $form.find('input[type=submit]');\n    submit.prop('disabled', true);\n    $.ajax({\n        url: 'index.php?route=/preferences/manage',\n        cache: false,\n        type: 'POST',\n        data: {\n            'ajax_request': true,\n            'server': CommonParams.get('server'),\n            'submit_get_json': true\n        },\n        success: function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                window.localStorage.config = data.prefs;\n                window.localStorage.configMtime = data.mtime;\n                window.localStorage.configMtimeLocal = (new Date()).toUTCString();\n                updatePrefsDate();\n                $('div.localStorage-empty').hide();\n                $('div.localStorage-exists').show();\n                var group = $form.parent('.card-body');\n                group.css('height', group.height() + 'px');\n                $form.hide('fast');\n                $form.prev('.click-hide-message').show('fast');\n            } else {\n                Functions.ajaxShowMessage(data.error);\n            }\n        },\n        complete: function () {\n            submit.prop('disabled', false);\n        }\n    });\n}\n\n/**\n * Updates preferences timestamp in Import form\n */\nfunction updatePrefsDate () {\n    var d = new Date(window.localStorage.configMtimeLocal);\n    var msg = window.Messages.strSavedOn.replace(\n        '@DATE@',\n        Functions.formatDateTime(d)\n    );\n    $('#opts_import_local_storage').find('div.localStorage-exists').html(msg);\n}\n\n/**\n * Prepares message which informs that localStorage preferences are available and can be imported or deleted\n */\nfunction offerPrefsAutoimport () {\n    var hasConfig = (Config.isStorageSupported('localStorage')) && (window.localStorage.config || false);\n    var $cnt = $('#prefs_autoload');\n    if (! $cnt.length || ! hasConfig) {\n        return;\n    }\n    $cnt.find('a').on('click', function (e) {\n        e.preventDefault();\n        var $a = $(this);\n        if ($a.attr('href') === '#no') {\n            $cnt.remove();\n            $.post('index.php', {\n                'server': CommonParams.get('server'),\n                'prefs_autoload': 'hide'\n            }, null, 'html');\n            return;\n        } else if ($a.attr('href') === '#delete') {\n            $cnt.remove();\n            localStorage.clear();\n            $.post('index.php', {\n                'server': CommonParams.get('server'),\n                'prefs_autoload': 'hide'\n            }, null, 'html');\n            return;\n        }\n        $cnt.find('input[name=json]').val(window.localStorage.config);\n        $cnt.find('form').trigger('submit');\n    });\n    $cnt.show();\n}\n\n/**\n * @return {function}\n */\nConfig.off = function () {\n    return function () {\n        $('.optbox input[id], .optbox select[id], .optbox textarea[id]').off('change').off('keyup');\n        $('.optbox input[type=button][name=submit_reset]').off('click');\n        $('div.tab-content').off();\n        $('#import_local_storage, #export_local_storage').off('click');\n        $('form.prefs-form').off('change').off('submit');\n        $(document).off('click', 'div.click-hide-message');\n        $('#prefs_autoload').find('a').off('click');\n    };\n};\n\n/**\n * @return {function}\n */\nConfig.on = function () {\n    return function () {\n        var $topmenuUpt = $('#user_prefs_tabs');\n        $topmenuUpt.find('a.active').attr('rel', 'samepage');\n        $topmenuUpt.find('a:not(.active)').attr('rel', 'newpage');\n\n        Config.setupValidation();\n        adjustPrefsNotification();\n\n        $('.optbox input[type=button][name=submit_reset]').on('click', function () {\n            var fields = $(this).closest('fieldset').find('input, select, textarea');\n            for (var i = 0, imax = fields.length; i < imax; i++) {\n                setFieldValue(fields[i], getFieldType(fields[i]), window.defaultValues[fields[i].id]);\n            }\n            setDisplayError();\n        });\n\n        Config.setupRestoreField();\n\n        offerPrefsAutoimport();\n        var $radios = $('#import_local_storage, #export_local_storage');\n        if (! $radios.length) {\n            return;\n        }\n\n        // enable JavaScript dependent fields\n        $radios\n            .prop('disabled', false)\n            .add('#export_text_file, #import_text_file')\n            .on('click', function () {\n                var enableId = $(this).attr('id');\n                var disableId;\n                if (enableId.match(/local_storage$/)) {\n                    disableId = enableId.replace(/local_storage$/, 'text_file');\n                } else {\n                    disableId = enableId.replace(/text_file$/, 'local_storage');\n                }\n                $('#opts_' + disableId).addClass('disabled').find('input').prop('disabled', true);\n                $('#opts_' + enableId).removeClass('disabled').find('input').prop('disabled', false);\n            });\n\n        // detect localStorage state\n        var lsSupported = Config.isStorageSupported('localStorage', true);\n        var lsExists = lsSupported ? (window.localStorage.config || false) : false;\n        $('div.localStorage-' + (lsSupported ? 'un' : '') + 'supported').hide();\n        $('div.localStorage-' + (lsExists ? 'empty' : 'exists')).hide();\n        if (lsExists) {\n            updatePrefsDate();\n        }\n        $('form.prefs-form').on('change', function () {\n            var $form = $(this);\n            var disabled = false;\n            if (! lsSupported) {\n                disabled = $form.find('input[type=radio][value$=local_storage]').prop('checked');\n            } else if (! lsExists && $form.attr('name') === 'prefs_import' &&\n                $('#import_local_storage')[0].checked\n            ) {\n                disabled = true;\n            }\n            $form.find('input[type=submit]').prop('disabled', disabled);\n        }).on('submit', function (e) {\n            var $form = $(this);\n            if ($form.attr('name') === 'prefs_export' && $('#export_local_storage')[0].checked) {\n                e.preventDefault();\n                // use AJAX to read JSON settings and save them\n                savePrefsToLocalStorage($form);\n            } else if ($form.attr('name') === 'prefs_import' && $('#import_local_storage')[0].checked) {\n                // set 'json' input and submit form\n                $form.find('input[name=json]').val(window.localStorage.config);\n            }\n        });\n\n        $(document).on('click', 'div.click-hide-message', function () {\n            $(this).hide();\n            $(this).parent('.card-body').css('height', '');\n            $(this).parent('.card-body').find('.prefs-form').show();\n        });\n    };\n};\n\nwindow.Config = Config;\n\nexport { Config };\n","/**\n * Definition of links to MySQL documentation.\n */\n\nexport const mysqlDocKeyword = {\n    /* Multi word */\n    'CHARACTER SET': ['charset'],\n    'SHOW AUTHORS': ['show-authors'],\n    'SHOW BINARY LOGS': ['show-binary-logs'],\n    'SHOW BINLOG EVENTS': ['show-binlog-events'],\n    'SHOW CHARACTER SET': ['show-character-set'],\n    'SHOW COLLATION': ['show-collation'],\n    'SHOW COLUMNS': ['show-columns'],\n    'SHOW CONTRIBUTORS': ['show-contributors'],\n    'SHOW CREATE DATABASE': ['show-create-database'],\n    'SHOW CREATE EVENT': ['show-create-event'],\n    'SHOW CREATE FUNCTION': ['show-create-function'],\n    'SHOW CREATE PROCEDURE': ['show-create-procedure'],\n    'SHOW CREATE TABLE': ['show-create-table'],\n    'SHOW CREATE TRIGGER': ['show-create-trigger'],\n    'SHOW CREATE VIEW': ['show-create-view'],\n    'SHOW DATABASES': ['show-databases'],\n    'SHOW ENGINE': ['show-engine'],\n    'SHOW ENGINES': ['show-engines'],\n    'SHOW ERRORS': ['show-errors'],\n    'SHOW EVENTS': ['show-events'],\n    'SHOW FUNCTION CODE': ['show-function-code'],\n    'SHOW FUNCTION STATUS': ['show-function-status'],\n    'SHOW GRANTS': ['show-grants'],\n    'SHOW INDEX': ['show-index'],\n    'SHOW MASTER STATUS': ['show-master-status'],\n    'SHOW OPEN TABLES': ['show-open-tables'],\n    'SHOW PLUGINS': ['show-plugins'],\n    'SHOW PRIVILEGES': ['show-privileges'],\n    'SHOW PROCEDURE CODE': ['show-procedure-code'],\n    'SHOW PROCEDURE STATUS': ['show-procedure-status'],\n    'SHOW PROCESSLIST': ['show-processlist'],\n    'SHOW PROFILE': ['show-profile'],\n    'SHOW PROFILES': ['show-profiles'],\n    'SHOW RELAYLOG EVENTS': ['show-relaylog-events'],\n    'SHOW SLAVE HOSTS': ['show-slave-hosts'],\n    'SHOW SLAVE STATUS': ['show-slave-status'],\n    'SHOW STATUS': ['show-status'],\n    'SHOW TABLE STATUS': ['show-table-status'],\n    'SHOW TABLES': ['show-tables'],\n    'SHOW TRIGGERS': ['show-triggers'],\n    'SHOW VARIABLES': ['show-variables'],\n    'SHOW WARNINGS': ['show-warnings'],\n    'LOAD DATA INFILE': ['load-data'],\n    'LOAD XML': ['load-xml'],\n    'LOCK TABLES': ['lock-tables'],\n    'UNLOCK TABLES': ['lock-tables'],\n    'ALTER DATABASE': ['alter-database'],\n    'ALTER EVENT': ['alter-event'],\n    'ALTER LOGFILE GROUP': ['alter-logfile-group'],\n    'ALTER FUNCTION': ['alter-function'],\n    'ALTER PROCEDURE': ['alter-procedure'],\n    'ALTER SERVER': ['alter-server'],\n    'ALTER TABLE': ['alter-table'],\n    'ALTER TABLESPACE': ['alter-tablespace'],\n    'ALTER VIEW': ['alter-view'],\n    'CREATE DATABASE': ['create-database'],\n    'CREATE EVENT': ['create-event'],\n    'CREATE FUNCTION': ['create-function'],\n    'CREATE INDEX': ['create-index'],\n    'CREATE LOGFILE GROUP': ['create-logfile-group'],\n    'CREATE PROCEDURE': ['create-procedure'],\n    'CREATE SERVER': ['create-server'],\n    'CREATE TABLE': ['create-table'],\n    'CREATE TABLESPACE': ['create-tablespace'],\n    'CREATE TRIGGER': ['create-trigger'],\n    'CREATE VIEW': ['create-view'],\n    'DROP DATABASE': ['drop-database'],\n    'DROP EVENT': ['drop-event'],\n    'DROP FUNCTION': ['drop-function'],\n    'DROP INDEX': ['drop-index'],\n    'DROP LOGFILE GROUP': ['drop-logfile-group'],\n    'DROP PROCEDURE': ['drop-procedure'],\n    'DROP SERVER': ['drop-server'],\n    'DROP TABLE': ['drop-table'],\n    'DROP TABLESPACE': ['drop-tablespace'],\n    'DROP TRIGGER': ['drop-trigger'],\n    'DROP VIEW': ['drop-view'],\n    'RENAME TABLE': ['rename-table'],\n    'TRUNCATE TABLE': ['truncate-table'],\n\n    /* Statements */\n    'SELECT': ['select'],\n    'SET': ['set'],\n    'EXPLAIN': ['explain'],\n    'DESCRIBE': ['describe'],\n    'DELETE': ['delete'],\n    'SHOW': ['show'],\n    'UPDATE': ['update'],\n    'INSERT': ['insert'],\n    'REPLACE': ['replace'],\n    'CALL': ['call'],\n    'DO': ['do'],\n    'HANDLER': ['handler'],\n    'COLLATE': ['charset-collations'],\n\n    /* Functions */\n    'ABS': ['mathematical-functions', 'function_abs'],\n    'ACOS': ['mathematical-functions', 'function_acos'],\n    'ADDDATE': ['date-and-time-functions', 'function_adddate'],\n    'ADDTIME': ['date-and-time-functions', 'function_addtime'],\n    'AES_DECRYPT': ['encryption-functions', 'function_aes_decrypt'],\n    'AES_ENCRYPT': ['encryption-functions', 'function_aes_encrypt'],\n    'AND': ['logical-operators', 'operator_and'],\n    'ASCII': ['string-functions', 'function_ascii'],\n    'ASIN': ['mathematical-functions', 'function_asin'],\n    'ATAN2': ['mathematical-functions', 'function_atan2'],\n    'ATAN': ['mathematical-functions', 'function_atan'],\n    'AVG': ['aggregate-functions', 'function_avg'],\n    'BENCHMARK': ['information-functions', 'function_benchmark'],\n    'BIN': ['string-functions', 'function_bin'],\n    'BINARY': ['cast-functions', 'operator_binary'],\n    'BIT_AND': ['aggregate-functions', 'function_bit_and'],\n    'BIT_COUNT': ['bit-functions', 'function_bit_count'],\n    'BIT_LENGTH': ['string-functions', 'function_bit_length'],\n    'BIT_OR': ['aggregate-functions', 'function_bit_or'],\n    'BIT_XOR': ['aggregate-functions', 'function_bit_xor'],\n    'CASE': ['control-flow-functions', 'operator_case'],\n    'CAST': ['cast-functions', 'function_cast'],\n    'CEIL': ['mathematical-functions', 'function_ceil'],\n    'CEILING': ['mathematical-functions', 'function_ceiling'],\n    'CHAR_LENGTH': ['string-functions', 'function_char_length'],\n    'CHAR': ['string-functions', 'function_char'],\n    'CHARACTER_LENGTH': ['string-functions', 'function_character_length'],\n    'CHARSET': ['information-functions', 'function_charset'],\n    'COALESCE': ['comparison-operators', 'function_coalesce'],\n    'COERCIBILITY': ['information-functions', 'function_coercibility'],\n    'COLLATION': ['information-functions', 'function_collation'],\n    'COMPRESS': ['encryption-functions', 'function_compress'],\n    'CONCAT_WS': ['string-functions', 'function_concat_ws'],\n    'CONCAT': ['string-functions', 'function_concat'],\n    'CONNECTION_ID': ['information-functions', 'function_connection_id'],\n    'CONV': ['mathematical-functions', 'function_conv'],\n    'CONVERT_TZ': ['date-and-time-functions', 'function_convert_tz'],\n    'Convert': ['cast-functions', 'function_convert'],\n    'COS': ['mathematical-functions', 'function_cos'],\n    'COT': ['mathematical-functions', 'function_cot'],\n    'COUNT': ['aggregate-functions', 'function_count'],\n    'CRC32': ['mathematical-functions', 'function_crc32'],\n    'CURDATE': ['date-and-time-functions', 'function_curdate'],\n    'CURRENT_DATE': ['date-and-time-functions', 'function_current_date'],\n    'CURRENT_TIME': ['date-and-time-functions', 'function_current_time'],\n    'CURRENT_TIMESTAMP': ['date-and-time-functions', 'function_current_timestamp'],\n    'CURRENT_USER': ['information-functions', 'function_current_user'],\n    'CURTIME': ['date-and-time-functions', 'function_curtime'],\n    'DATABASE': ['information-functions', 'function_database'],\n    'DATE_ADD': ['date-and-time-functions', 'function_date_add'],\n    'DATE_FORMAT': ['date-and-time-functions', 'function_date_format'],\n    'DATE_SUB': ['date-and-time-functions', 'function_date_sub'],\n    'DATE': ['date-and-time-functions', 'function_date'],\n    'DATEDIFF': ['date-and-time-functions', 'function_datediff'],\n    'DAY': ['date-and-time-functions', 'function_day'],\n    'DAYNAME': ['date-and-time-functions', 'function_dayname'],\n    'DAYOFMONTH': ['date-and-time-functions', 'function_dayofmonth'],\n    'DAYOFWEEK': ['date-and-time-functions', 'function_dayofweek'],\n    'DAYOFYEAR': ['date-and-time-functions', 'function_dayofyear'],\n    'DECLARE': ['declare', 'declare'],\n    'DECODE': ['encryption-functions', 'function_decode'],\n    'DEFAULT': ['miscellaneous-functions', 'function_default'],\n    'DEGREES': ['mathematical-functions', 'function_degrees'],\n    'DES_DECRYPT': ['encryption-functions', 'function_des_decrypt'],\n    'DES_ENCRYPT': ['encryption-functions', 'function_des_encrypt'],\n    'DIV': ['arithmetic-functions', 'operator_div'],\n    'ELT': ['string-functions', 'function_elt'],\n    'ENCODE': ['encryption-functions', 'function_encode'],\n    'ENCRYPT': ['encryption-functions', 'function_encrypt'],\n    'EXP': ['mathematical-functions', 'function_exp'],\n    'EXPORT_SET': ['string-functions', 'function_export_set'],\n    'EXTRACT': ['date-and-time-functions', 'function_extract'],\n    'ExtractValue': ['xml-functions', 'function_extractvalue'],\n    'FIELD': ['string-functions', 'function_field'],\n    'FIND_IN_SET': ['string-functions', 'function_find_in_set'],\n    'FLOOR': ['mathematical-functions', 'function_floor'],\n    'FORMAT': ['string-functions', 'function_format'],\n    'FOUND_ROWS': ['information-functions', 'function_found_rows'],\n    'FROM_DAYS': ['date-and-time-functions', 'function_from_days'],\n    'FROM_UNIXTIME': ['date-and-time-functions', 'function_from_unixtime'],\n    'GET_FORMAT': ['date-and-time-functions', 'function_get_format'],\n    'GET_LOCK': ['miscellaneous-functions', 'function_get_lock'],\n    'GREATEST': ['comparison-operators', 'function_greatest'],\n    'GROUP_CONCAT': ['aggregate-functions', 'function_group_concat'],\n    'HEX': ['string-functions', 'function_hex'],\n    'HOUR': ['date-and-time-functions', 'function_hour'],\n    'IF': ['control-flow-functions', 'function_if'],\n    'IFNULL': ['control-flow-functions', 'function_ifnull'],\n    'IN': ['comparison-operators', 'function_in'],\n    'INET_ATON': ['miscellaneous-functions', 'function_inet_aton'],\n    'INET_NTOA': ['miscellaneous-functions', 'function_inet_ntoa'],\n    'INSTR': ['string-functions', 'function_instr'],\n    'INTERVAL': ['comparison-operators', 'function_interval'],\n    'IS_FREE_LOCK': ['miscellaneous-functions', 'function_is_free_lock'],\n    'IS_USED_LOCK': ['miscellaneous-functions', 'function_is_used_lock'],\n    'IS': ['comparison-operators', 'operator_is'],\n    'ISNULL': ['comparison-operators', 'function_isnull'],\n    'LAST_DAY': ['date-and-time-functions', 'function_last_day'],\n    'LAST_INSERT_ID': ['information-functions', 'function_last_insert_id'],\n    'LCASE': ['string-functions', 'function_lcase'],\n    'LEAST': ['comparison-operators', 'function_least'],\n    'LEFT': ['string-functions', 'function_left'],\n    'LENGTH': ['string-functions', 'function_length'],\n    'LIKE': ['string-comparison-functions', 'operator_like'],\n    'LN': ['mathematical-functions', 'function_ln'],\n    'LOAD_FILE': ['string-functions', 'function_load_file'],\n    'LOCALTIME': ['date-and-time-functions', 'function_localtime'],\n    'LOCALTIMESTAMP': ['date-and-time-functions', 'function_localtimestamp'],\n    'LOCATE': ['string-functions', 'function_locate'],\n    'LOG10': ['mathematical-functions', 'function_log10'],\n    'LOG2': ['mathematical-functions', 'function_log2'],\n    'LOG': ['mathematical-functions', 'function_log'],\n    'LOWER': ['string-functions', 'function_lower'],\n    'LPAD': ['string-functions', 'function_lpad'],\n    'LTRIM': ['string-functions', 'function_ltrim'],\n    'MAKE_SET': ['string-functions', 'function_make_set'],\n    'MAKEDATE': ['date-and-time-functions', 'function_makedate'],\n    'MAKETIME': ['date-and-time-functions', 'function_maketime'],\n    'MASTER_POS_WAIT': ['miscellaneous-functions', 'function_master_pos_wait'],\n    'MATCH': ['fulltext-search', 'function_match'],\n    'MAX': ['aggregate-functions', 'function_max'],\n    'MD5': ['encryption-functions', 'function_md5'],\n    'MICROSECOND': ['date-and-time-functions', 'function_microsecond'],\n    'MID': ['string-functions', 'function_mid'],\n    'MIN': ['aggregate-functions', 'function_min'],\n    'MINUTE': ['date-and-time-functions', 'function_minute'],\n    'MOD': ['mathematical-functions', 'function_mod'],\n    'MONTH': ['date-and-time-functions', 'function_month'],\n    'MONTHNAME': ['date-and-time-functions', 'function_monthname'],\n    'NAME_CONST': ['miscellaneous-functions', 'function_name_const'],\n    'NOT': ['logical-operators', 'operator_not'],\n    'NOW': ['date-and-time-functions', 'function_now'],\n    'NULLIF': ['control-flow-functions', 'function_nullif'],\n    'OCT': ['mathematical-functions', 'function_oct'],\n    'OCTET_LENGTH': ['string-functions', 'function_octet_length'],\n    'OLD_PASSWORD': ['encryption-functions', 'function_old_password'],\n    'OR': ['logical-operators', 'operator_or'],\n    'ORD': ['string-functions', 'function_ord'],\n    'PASSWORD': ['encryption-functions', 'function_password'],\n    'PERIOD_ADD': ['date-and-time-functions', 'function_period_add'],\n    'PERIOD_DIFF': ['date-and-time-functions', 'function_period_diff'],\n    'PI': ['mathematical-functions', 'function_pi'],\n    'POSITION': ['string-functions', 'function_position'],\n    'POW': ['mathematical-functions', 'function_pow'],\n    'POWER': ['mathematical-functions', 'function_power'],\n    'QUARTER': ['date-and-time-functions', 'function_quarter'],\n    'QUOTE': ['string-functions', 'function_quote'],\n    'RADIANS': ['mathematical-functions', 'function_radians'],\n    'RAND': ['mathematical-functions', 'function_rand'],\n    'REGEXP': ['regexp', 'operator_regexp'],\n    'RELEASE_LOCK': ['miscellaneous-functions', 'function_release_lock'],\n    'REPEAT': ['string-functions', 'function_repeat'],\n    'REVERSE': ['string-functions', 'function_reverse'],\n    'RIGHT': ['string-functions', 'function_right'],\n    'RLIKE': ['regexp', 'operator_rlike'],\n    'ROUND': ['mathematical-functions', 'function_round'],\n    'ROW_COUNT': ['information-functions', 'function_row_count'],\n    'RPAD': ['string-functions', 'function_rpad'],\n    'RTRIM': ['string-functions', 'function_rtrim'],\n    'SCHEMA': ['information-functions', 'function_schema'],\n    'SEC_TO_TIME': ['date-and-time-functions', 'function_sec_to_time'],\n    'SECOND': ['date-and-time-functions', 'function_second'],\n    'SESSION_USER': ['information-functions', 'function_session_user'],\n    'SHA': ['encryption-functions', 'function_sha1'],\n    'SHA1': ['encryption-functions', 'function_sha1'],\n    'SHA2': ['encryption-functions', 'function_sha2'],\n    'SIGN': ['mathematical-functions', 'function_sign'],\n    'SIN': ['mathematical-functions', 'function_sin'],\n    'SLEEP': ['miscellaneous-functions', 'function_sleep'],\n    'SOUNDEX': ['string-functions', 'function_soundex'],\n    'SPACE': ['string-functions', 'function_space'],\n    'SQRT': ['mathematical-functions', 'function_sqrt'],\n    'STD': ['aggregate-functions', 'function_std'],\n    'STDDEV_POP': ['aggregate-functions', 'function_stddev_pop'],\n    'STDDEV_SAMP': ['aggregate-functions', 'function_stddev_samp'],\n    'STDDEV': ['aggregate-functions', 'function_stddev'],\n    'STR_TO_DATE': ['date-and-time-functions', 'function_str_to_date'],\n    'STRCMP': ['string-comparison-functions', 'function_strcmp'],\n    'SUBDATE': ['date-and-time-functions', 'function_subdate'],\n    'SUBSTR': ['string-functions', 'function_substr'],\n    'SUBSTRING_INDEX': ['string-functions', 'function_substring_index'],\n    'SUBSTRING': ['string-functions', 'function_substring'],\n    'SUBTIME': ['date-and-time-functions', 'function_subtime'],\n    'SUM': ['aggregate-functions', 'function_sum'],\n    'SYSDATE': ['date-and-time-functions', 'function_sysdate'],\n    'SYSTEM_USER': ['information-functions', 'function_system_user'],\n    'TAN': ['mathematical-functions', 'function_tan'],\n    'TIME_FORMAT': ['date-and-time-functions', 'function_time_format'],\n    'TIME_TO_SEC': ['date-and-time-functions', 'function_time_to_sec'],\n    'TIME': ['date-and-time-functions', 'function_time'],\n    'TIMEDIFF': ['date-and-time-functions', 'function_timediff'],\n    'TIMESTAMP': ['date-and-time-functions', 'function_timestamp'],\n    'TIMESTAMPADD': ['date-and-time-functions', 'function_timestampadd'],\n    'TIMESTAMPDIFF': ['date-and-time-functions', 'function_timestampdiff'],\n    'TO_DAYS': ['date-and-time-functions', 'function_to_days'],\n    'TRIM': ['string-functions', 'function_trim'],\n    'TRUNCATE': ['mathematical-functions', 'function_truncate'],\n    'UCASE': ['string-functions', 'function_ucase'],\n    'UNCOMPRESS': ['encryption-functions', 'function_uncompress'],\n    'UNCOMPRESSED_LENGTH': ['encryption-functions', 'function_uncompressed_length'],\n    'UNHEX': ['string-functions', 'function_unhex'],\n    'UNIX_TIMESTAMP': ['date-and-time-functions', 'function_unix_timestamp'],\n    'UpdateXML': ['xml-functions', 'function_updatexml'],\n    'UPPER': ['string-functions', 'function_upper'],\n    'USER': ['information-functions', 'function_user'],\n    'UTC_DATE': ['date-and-time-functions', 'function_utc_date'],\n    'UTC_TIME': ['date-and-time-functions', 'function_utc_time'],\n    'UTC_TIMESTAMP': ['date-and-time-functions', 'function_utc_timestamp'],\n    'UUID_SHORT': ['miscellaneous-functions', 'function_uuid_short'],\n    'UUID': ['miscellaneous-functions', 'function_uuid'],\n    'VALUES': ['miscellaneous-functions', 'function_values'],\n    'VAR_POP': ['aggregate-functions', 'function_var_pop'],\n    'VAR_SAMP': ['aggregate-functions', 'function_var_samp'],\n    'VARIANCE': ['aggregate-functions', 'function_variance'],\n    'VERSION': ['information-functions', 'function_version'],\n    'WEEK': ['date-and-time-functions', 'function_week'],\n    'WEEKDAY': ['date-and-time-functions', 'function_weekday'],\n    'WEEKOFYEAR': ['date-and-time-functions', 'function_weekofyear'],\n    'XOR': ['logical-operators', 'operator_xor'],\n    'YEAR': ['date-and-time-functions', 'function_year'],\n    'YEARWEEK': ['date-and-time-functions', 'function_yearweek'],\n    'SOUNDS_LIKE': ['string-functions', 'operator_sounds-like'],\n    'IS_NOT_NULL': ['comparison-operators', 'operator_is-not-null'],\n    'IS_NOT': ['comparison-operators', 'operator_is-not'],\n    'IS_NULL': ['comparison-operators', 'operator_is-null'],\n    'NOT_LIKE': ['string-comparison-functions', 'operator_not-like'],\n    'NOT_REGEXP': ['regexp', 'operator_not-regexp'],\n    'COUNT_DISTINCT': ['aggregate-functions', 'function_count-distinct'],\n    'NOT_IN': ['comparison-operators', 'function_not-in']\n};\n\nexport const mysqlDocBuiltin = {\n    'TINYINT': ['numeric-types'],\n    'SMALLINT': ['numeric-types'],\n    'MEDIUMINT': ['numeric-types'],\n    'INT': ['numeric-types'],\n    'BIGINT': ['numeric-types'],\n    'DECIMAL': ['numeric-types'],\n    'FLOAT': ['numeric-types'],\n    'DOUBLE': ['numeric-types'],\n    'REAL': ['numeric-types'],\n    'BIT': ['numeric-types'],\n    'BOOLEAN': ['numeric-types'],\n    'SERIAL': ['numeric-types'],\n    'DATE': ['date-and-time-types'],\n    'DATETIME': ['date-and-time-types'],\n    'TIMESTAMP': ['date-and-time-types'],\n    'TIME': ['date-and-time-types'],\n    'YEAR': ['date-and-time-types'],\n    'CHAR': ['string-types'],\n    'VARCHAR': ['string-types'],\n    'TINYTEXT': ['string-types'],\n    'TEXT': ['string-types'],\n    'MEDIUMTEXT': ['string-types'],\n    'LONGTEXT': ['string-types'],\n    'BINARY': ['string-types'],\n    'VARBINARY': ['string-types'],\n    'TINYBLOB': ['string-types'],\n    'MEDIUMBLOB': ['string-types'],\n    'BLOB': ['string-types'],\n    'LONGBLOB': ['string-types'],\n    'ENUM': ['string-types'],\n    'SET': ['string-types']\n};\n","import $ from 'jquery';\nimport { AJAX } from './ajax.js';\nimport { Functions } from './functions.js';\nimport { Navigation } from './navigation.js';\nimport { CommonActions, CommonParams } from './common.js';\n\n/**\n * @fileoverview    function used for index manipulation pages\n * @name            Table Structure\n *\n * @requires    jQueryUI\n */\nconst Indexes = {};\n\n/**\n * Returns the array of indexes based on the index choice\n *\n * @param {string} indexChoice index choice\n *\n * @return {null|object}\n */\nIndexes.getIndexArray = function (indexChoice) {\n    var sourceArray = null;\n\n    switch (indexChoice.toLowerCase()) {\n    case 'primary':\n        sourceArray = window.primaryIndexes;\n        break;\n    case 'unique':\n        sourceArray = window.uniqueIndexes;\n        break;\n    case 'index':\n        sourceArray = window.indexes;\n        break;\n    case 'fulltext':\n        sourceArray = window.fulltextIndexes;\n        break;\n    case 'spatial':\n        sourceArray = window.spatialIndexes;\n        break;\n    default:\n        return null;\n    }\n    return sourceArray;\n};\n\n/**\n * Hides/shows the inputs and submits appropriately depending\n * on whether the index type chosen is 'SPATIAL' or not.\n */\nIndexes.checkIndexType = function () {\n    /**\n     * @var {JQuery<HTMLElement}, Dropdown to select the index choice.\n     */\n    var $selectIndexChoice = $('#select_index_choice');\n    /**\n     * @var {JQuery<HTMLElement}, Dropdown to select the index type.\n     */\n    var $selectIndexType = $('#select_index_type');\n    /**\n     * @var {JQuery<HTMLElement}, Table header for the size column.\n     */\n    var $sizeHeader = $('#index_columns').find('thead tr').children('th').eq(1);\n    /**\n     * @var {JQuery<HTMLElement}, Inputs to specify the columns for the index.\n     */\n    var $columnInputs = $('select[name=\"index[columns][names][]\"]');\n    /**\n     * @var {JQuery<HTMLElement}, Inputs to specify sizes for columns of the index.\n     */\n    var $sizeInputs = $('input[name=\"index[columns][sub_parts][]\"]');\n    /**\n     * @var {JQuery<HTMLElement}, Footer containing the controllers to add more columns\n     */\n    var $addMore = $('#index_frm').find('.add_more');\n\n    if ($selectIndexChoice.val() === 'SPATIAL') {\n        // Disable and hide the size column\n        $sizeHeader.hide();\n        $sizeInputs.each(function () {\n            $(this)\n                .prop('disabled', true)\n                .parent('td').hide();\n        });\n\n        // Disable and hide the columns of the index other than the first one\n        var initial = true;\n        $columnInputs.each(function () {\n            var $columnInput = $(this);\n            if (! initial) {\n                $columnInput\n                    .prop('disabled', true)\n                    .parent('td').hide();\n            } else {\n                initial = false;\n            }\n        });\n\n        // Hide controllers to add more columns\n        $addMore.hide();\n    } else {\n        // Enable and show the size column\n        $sizeHeader.show();\n        $sizeInputs.each(function () {\n            $(this)\n                .prop('disabled', false)\n                .parent('td').show();\n        });\n\n        // Enable and show the columns of the index\n        $columnInputs.each(function () {\n            $(this)\n                .prop('disabled', false)\n                .parent('td').show();\n        });\n\n        // Show controllers to add more columns\n        $addMore.show();\n    }\n\n    if ($selectIndexChoice.val() === 'SPATIAL' ||\n            $selectIndexChoice.val() === 'FULLTEXT') {\n        $selectIndexType.val('').prop('disabled', true);\n    } else {\n        $selectIndexType.prop('disabled', false);\n    }\n};\n\n/**\n * Sets current index information into form parameters.\n *\n * @param {any[]}  sourceArray Array containing index columns\n * @param {string} indexChoice Choice of index\n *\n * @return {void}\n */\nIndexes.setIndexFormParameters = function (sourceArray, indexChoice) {\n    if (indexChoice === 'index') {\n        $('input[name=\"indexes\"]').val(JSON.stringify(sourceArray));\n    } else {\n        $('input[name=\"' + indexChoice + '_indexes\"]').val(JSON.stringify(sourceArray));\n    }\n};\n\n/**\n * Removes a column from an Index.\n *\n * @param {string} colIndex Index of column in form\n *\n * @return {void}\n */\nIndexes.removeColumnFromIndex = function (colIndex) {\n    // Get previous index details.\n    var previousIndex = $('select[name=\"field_key[' + colIndex + ']\"]')\n        .attr('data-index');\n    if (previousIndex.length) {\n        previousIndex = previousIndex.split(',');\n        var sourceArray = Indexes.getIndexArray(previousIndex[0]);\n        if (sourceArray === null) {\n            return;\n        }\n\n        // Remove column from index array.\n        var sourceLength = sourceArray[previousIndex[1]].columns.length;\n        for (var i = 0; i < sourceLength; i++) {\n            if (sourceArray[previousIndex[1]].columns[i].col_index === colIndex) {\n                sourceArray[previousIndex[1]].columns.splice(i, 1);\n            }\n        }\n\n        // Remove index completely if no columns left.\n        if (sourceArray[previousIndex[1]].columns.length === 0) {\n            sourceArray.splice(previousIndex[1], 1);\n        }\n\n        // Update current index details.\n        $('select[name=\"field_key[' + colIndex + ']\"]').attr('data-index', '');\n        // Update form index parameters.\n        Indexes.setIndexFormParameters(sourceArray, previousIndex[0].toLowerCase());\n    }\n};\n\n/**\n * Adds a column to an Index.\n *\n * @param {any[]}  sourceArray Array holding corresponding indexes\n * @param {string} arrayIndex  Index of an INDEX in array\n * @param {string} indexChoice Choice of Index\n * @param {string} colIndex    Index of column on form\n *\n * @return {void}\n */\nIndexes.addColumnToIndex = function (sourceArray, arrayIndex, indexChoice, colIndex) {\n    if (colIndex >= 0) {\n        // Remove column from other indexes (if any).\n        Indexes.removeColumnFromIndex(colIndex);\n    }\n    var indexName = $('input[name=\"index[Key_name]\"]').val();\n    var indexComment = $('input[name=\"index[Index_comment]\"]').val();\n    var keyBlockSize = $('input[name=\"index[Key_block_size]\"]').val();\n    var parser = $('input[name=\"index[Parser]\"]').val();\n    var indexType = $('select[name=\"index[Index_type]\"]').val();\n    var columns = [];\n    $('#index_columns').find('tbody').find('tr').each(function () {\n        // Get columns in particular order.\n        var colIndex = $(this).find('select[name=\"index[columns][names][]\"]').val();\n        var size = $(this).find('input[name=\"index[columns][sub_parts][]\"]').val();\n        columns.push({\n            'col_index': colIndex,\n            'size': size\n        });\n    });\n\n    // Update or create an index.\n    sourceArray[arrayIndex] = {\n        'Key_name': indexName,\n        'Index_comment': indexComment,\n        'Index_choice': indexChoice.toUpperCase(),\n        'Key_block_size': keyBlockSize,\n        'Parser': parser,\n        'Index_type': indexType,\n        'columns': columns\n    };\n\n    // Display index name (or column list)\n    var displayName = indexName;\n    if (displayName === '') {\n        var columnNames = [];\n        $.each(columns, function () {\n            columnNames.push($('input[name=\"field_name[' +  this.col_index + ']\"]').val());\n        });\n        displayName = '[' + columnNames.join(', ') + ']';\n    }\n    $.each(columns, function () {\n        var id = 'index_name_' + this.col_index + '_8';\n        var $name = $('#' + id);\n        if ($name.length === 0) {\n            $name = $('<a id=\"' + id + '\" href=\"#\" class=\"ajax show_index_dialog\"></a>');\n            $name.insertAfter($('select[name=\"field_key[' + this.col_index + ']\"]'));\n        }\n        var $text = $('<small>').text(displayName);\n        $name.html($text);\n    });\n\n    if (colIndex >= 0) {\n        // Update index details on form.\n        $('select[name=\"field_key[' + colIndex + ']\"]')\n            .attr('data-index', indexChoice + ',' + arrayIndex);\n    }\n    Indexes.setIndexFormParameters(sourceArray, indexChoice.toLowerCase());\n};\n\n/**\n * Get choices list for a column to create a composite index with.\n *\n * @param {any[]} sourceArray Array hodling columns for particular index\n * @param {string} colIndex Choice of index\n *\n * @return {JQuery} jQuery Object\n */\nIndexes.getCompositeIndexList = function (sourceArray, colIndex) {\n    // Remove any previous list.\n    if ($('#composite_index_list').length) {\n        $('#composite_index_list').remove();\n    }\n\n    // Html list.\n    var $compositeIndexList = $(\n        '<ul id=\"composite_index_list\">' +\n        '<div>' + window.Messages.strCompositeWith + '</div>' +\n        '</ul>'\n    );\n\n    // Add each column to list available for composite index.\n    var sourceLength = sourceArray.length;\n    var alreadyPresent = false;\n    for (var i = 0; i < sourceLength; i++) {\n        var subArrayLen = sourceArray[i].columns.length;\n        var columnNames = [];\n        for (var j = 0; j < subArrayLen; j++) {\n            columnNames.push(\n                $('input[name=\"field_name[' + sourceArray[i].columns[j].col_index + ']\"]').val()\n            );\n\n            if (colIndex === sourceArray[i].columns[j].col_index) {\n                alreadyPresent = true;\n            }\n        }\n\n        $compositeIndexList.append(\n            '<li>' +\n            '<input type=\"radio\" name=\"composite_with\" ' +\n            (alreadyPresent ? 'checked=\"checked\"' : '') +\n            ' id=\"composite_index_' + i + '\" value=\"' + i + '\">' +\n            '<label for=\"composite_index_' + i + '\">' + columnNames.join(', ') +\n            '</label>' +\n            '</li>'\n        );\n    }\n\n    return $compositeIndexList;\n};\n\nvar addIndexGo = function (sourceArray, arrayIndex, index, colIndex) {\n    var isMissingValue = false;\n    $('select[name=\"index[columns][names][]\"]').each(function () {\n        if ($(this).val() === '') {\n            isMissingValue = true;\n        }\n    });\n\n    if (! isMissingValue) {\n        Indexes.addColumnToIndex(\n            sourceArray,\n            arrayIndex,\n            index.Index_choice,\n            colIndex\n        );\n    } else {\n        Functions.ajaxShowMessage(\n            '<div class=\"alert alert-danger\" role=\"alert\"><img src=\"themes/dot.gif\" title=\"\" alt=\"\"' +\n            ' class=\"icon ic_s_error\"> ' + window.Messages.strMissingColumn +\n            ' </div>', false\n        );\n\n        return false;\n    }\n\n    $('#addIndexModal').modal('hide');\n};\n\n/**\n * Shows 'Add Index' dialog.\n *\n * @param {any[]}  sourceArray   Array holding particular index\n * @param {string} arrayIndex    Index of an INDEX in array\n * @param {any[]}  targetColumns Columns for an INDEX\n * @param {string} colIndex      Index of column on form\n * @param {object} index         Index detail object\n * @param {boolean} showDialog   Whether to show index creation dialog or not\n *\n * @return {void}\n */\nIndexes.showAddIndexDialog = function (sourceArray, arrayIndex, targetColumns, colIndex, index, showDialog) {\n    var showDialogLocal = typeof showDialog !== 'undefined' ? showDialog : true;\n    // Prepare post-data.\n    var $table = $('input[name=\"table\"]');\n    var table = $table.length > 0 ? $table.val() : '';\n    var postData = {\n        'server': CommonParams.get('server'),\n        'db': $('input[name=\"db\"]').val(),\n        'table': table,\n        'ajax_request': 1,\n        'create_edit_table': 1,\n        'index': index\n    };\n\n    var columns = {};\n    for (var i = 0; i < targetColumns.length; i++) {\n        var columnName = $('input[name=\"field_name[' + targetColumns[i] + ']\"]').val();\n        var columnType = $('select[name=\"field_type[' + targetColumns[i] + ']\"]').val().toLowerCase();\n        columns[columnName] = [columnType, targetColumns[i]];\n    }\n    postData.columns = JSON.stringify(columns);\n\n    $('#addIndexModalGoButton').on('click', function () {\n        addIndexGo(sourceArray, arrayIndex, index, colIndex);\n    });\n    $('#addIndexModalCancelButton').on('click', function () {\n        if (colIndex >= 0) {\n            // Handle state on 'Cancel'.\n            var $selectList = $('select[name=\"field_key[' + colIndex + ']\"]');\n            if (! $selectList.attr('data-index').length) {\n                $selectList.find('option[value*=\"none\"]').attr('selected', 'selected');\n            } else {\n                var previousIndex = $selectList.attr('data-index').split(',');\n                $selectList.find('option[value*=\"' + previousIndex[0].toLowerCase() + '\"]')\n                    .attr('selected', 'selected');\n            }\n        }\n        $('#addIndexModal').modal('hide');\n    });\n    $('#addIndexModalCloseButton').on('click', function () {\n        $('#addIndexModal').modal('hide');\n    });\n    var $msgbox = Functions.ajaxShowMessage();\n    $.post('index.php?route=/table/indexes', postData, function (data) {\n        if (data.success === false) {\n            // in the case of an error, show the error message returned.\n            Functions.ajaxShowMessage(data.error, false);\n        } else {\n            Functions.ajaxRemoveMessage($msgbox);\n            var $div = $('<div></div>');\n            if (showDialogLocal) {\n                // Show dialog if the request was successful\n                if ($('#addIndex').length > 0) {\n                    $('#addIndex').remove();\n                }\n                $('#addIndexModal').on('keypress', function (e) {\n                    if (e.which === 13 || e.keyCode === 13 || window.event.keyCode === 13) {\n                        e.preventDefault();\n                        console.log('BOOM');\n                        addIndexGo(sourceArray, arrayIndex, index, colIndex);\n                        $('#addIndexModal').modal('hide');\n                    }\n                });\n                $('#addIndexModal').modal('show');\n                $('#addIndexModalLabel').first().text(window.Messages.strAddIndex);\n                $('#addIndexModal').find('.modal-body').first().html(data.message);\n                Functions.checkIndexName('index_frm');\n                Functions.showHints($div);\n                $('#index_columns').find('td').each(function () {\n                    $(this).css('width', $(this).width() + 'px');\n                });\n                $('#index_columns').find('tbody').sortable({\n                    axis: 'y',\n                    containment: $('#index_columns').find('tbody'),\n                    tolerance: 'pointer'\n                });\n            } else {\n                $div\n                    .append(data.message);\n                $div.css({ 'display' : 'none' });\n                $div.appendTo($('body'));\n                $div.attr({ 'id' : 'addIndex' });\n                var isMissingValue = false;\n                $('select[name=\"index[columns][names][]\"]').each(function () {\n                    if ($(this).val() === '') {\n                        isMissingValue = true;\n                    }\n                });\n\n                if (! isMissingValue) {\n                    Indexes.addColumnToIndex(\n                        sourceArray,\n                        arrayIndex,\n                        index.Index_choice,\n                        colIndex\n                    );\n                } else {\n                    Functions.ajaxShowMessage(\n                        '<div class=\"alert alert-danger\" role=\"alert\"><img src=\"themes/dot.gif\" title=\"\" alt=\"\"' +\n                        ' class=\"icon ic_s_error\"> ' + window.Messages.strMissingColumn +\n                        ' </div>', false\n                    );\n\n                    return false;\n                }\n            }\n        }\n    });\n};\n\nvar removeIndexOnChangeEvent = function () {\n    $('#composite_index').off('change');\n    $('#single_column').off('change');\n    $('#addIndexModal').modal('hide');\n};\n\n/**\n * Creates a advanced index type selection dialog.\n *\n * @param {any[]}  sourceArray Array holding a particular type of indexes\n * @param {string} indexChoice Choice of index\n * @param {string} colIndex    Index of new column on form\n *\n * @return {void}\n */\nIndexes.indexTypeSelectionDialog = function (sourceArray, indexChoice, colIndex) {\n    var $singleColumnRadio = $('<input type=\"radio\" id=\"single_column\" name=\"index_choice\"' +\n        ' checked=\"checked\">' +\n        '<label for=\"single_column\">' + window.Messages.strCreateSingleColumnIndex + '</label>');\n    var $compositeIndexRadio = $('<input type=\"radio\" id=\"composite_index\"' +\n        ' name=\"index_choice\">' +\n        '<label for=\"composite_index\">' + window.Messages.strCreateCompositeIndex + '</label>');\n    var $dialogContent = $('<fieldset class=\"pma-fieldset\" id=\"advance_index_creator\"></fieldset>');\n    $dialogContent.append('<legend>' + indexChoice.toUpperCase() + '</legend>');\n\n\n    // For UNIQUE/INDEX type, show choice for single-column and composite index.\n    $dialogContent.append($singleColumnRadio);\n    $dialogContent.append($compositeIndexRadio);\n\n    // 'OK' operation.\n    $('#addIndexModalGoButton').on('click', function () {\n        if ($('#single_column').is(':checked')) {\n            var index = {\n                'Key_name': (indexChoice === 'primary' ? 'PRIMARY' : ''),\n                'Index_choice': indexChoice.toUpperCase()\n            };\n            Indexes.showAddIndexDialog(sourceArray, (sourceArray.length), [colIndex], colIndex, index);\n        }\n\n        if ($('#composite_index').is(':checked')) {\n            if ($('input[name=\"composite_with\"]').length !== 0 && $('input[name=\"composite_with\"]:checked').length === 0\n            ) {\n                Functions.ajaxShowMessage(\n                    '<div class=\"alert alert-danger\" role=\"alert\"><img src=\"themes/dot.gif\" title=\"\"' +\n                    ' alt=\"\" class=\"icon ic_s_error\"> ' +\n                    window.Messages.strFormEmpty +\n                    ' </div>',\n                    false\n                );\n                return false;\n            }\n\n            var arrayIndex = $('input[name=\"composite_with\"]:checked').val();\n            var sourceLength = sourceArray[arrayIndex].columns.length;\n            var targetColumns = [];\n            for (var i = 0; i < sourceLength; i++) {\n                targetColumns.push(sourceArray[arrayIndex].columns[i].col_index);\n            }\n            targetColumns.push(colIndex);\n\n            Indexes.showAddIndexDialog(sourceArray, arrayIndex, targetColumns, colIndex,\n                sourceArray[arrayIndex]);\n        }\n        $('#addIndexModal').modal('hide');\n    });\n    $('#addIndexModalCancelButton').on('click', function () {\n        // Handle state on 'Cancel'.\n        var $selectList = $('select[name=\"field_key[' + colIndex + ']\"]');\n        if (! $selectList.attr('data-index').length) {\n            $selectList.find('option[value*=\"none\"]').attr('selected', 'selected');\n        } else {\n            var previousIndex = $selectList.attr('data-index').split(',');\n            $selectList.find('option[value*=\"' + previousIndex[0].toLowerCase() + '\"]')\n                .attr('selected', 'selected');\n        }\n        removeIndexOnChangeEvent();\n    });\n    $('#addIndexModalCloseButton').on('click', function () {\n        removeIndexOnChangeEvent();\n    });\n    $('#addIndexModal').modal('show');\n    $('#addIndexModalLabel').first().text(window.Messages.strAddIndex);\n    $('#addIndexModal').find('.modal-body').first().html($dialogContent);\n    $('#composite_index').on('change', function () {\n        if ($(this).is(':checked')) {\n            $dialogContent.append(Indexes.getCompositeIndexList(sourceArray, colIndex));\n        }\n    });\n    $('#single_column').on('change', function () {\n        if ($(this).is(':checked')) {\n            if ($('#composite_index_list').length) {\n                $('#composite_index_list').remove();\n            }\n        }\n    });\n};\n\n/**\n * @return {function}\n */\nIndexes.off = () => function () {\n    $(document).off('click', '#save_index_frm');\n    $(document).off('click', '#preview_index_frm');\n    $(document).off('change', '#select_index_choice');\n    $(document).off('click', 'a.drop_primary_key_index_anchor.ajax');\n    $(document).off('click', '#table_index tbody tr td.edit_index.ajax, #index_div .add_index.ajax');\n    $(document).off('click', '#table_index tbody tr td.rename_index.ajax');\n    $(document).off('click', '#index_frm input[type=submit]');\n    $('body').off('change', 'select[name*=\"field_key\"]');\n    $(document).off('click', '.show_index_dialog');\n};\n\n/**\n * @return {function}\n */\nIndexes.on = () => function () {\n    // Re-initialize variables.\n    window.primaryIndexes = [];\n    window.uniqueIndexes = [];\n    window.indexes = [];\n    window.fulltextIndexes = [];\n    window.spatialIndexes = [];\n\n    // for table creation form\n    var $engineSelector = $('.create_table_form select[name=tbl_storage_engine]');\n    if ($engineSelector.length) {\n        Functions.hideShowConnection($engineSelector);\n    }\n\n    var $form = $('#index_frm');\n    if ($form.length > 0) {\n        Functions.showIndexEditDialog($form);\n    }\n\n    $(document).on('click', '#save_index_frm', function (event) {\n        event.preventDefault();\n        var $form = $('#index_frm');\n        var argsep = CommonParams.get('arg_separator');\n        var submitData = $form.serialize() + argsep + 'do_save_data=1' + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true';\n        Functions.ajaxShowMessage(window.Messages.strProcessingRequest);\n        AJAX.source = $form;\n        $.post($form.attr('action'), submitData, AJAX.responseHandler);\n    });\n\n    $(document).on('click', '#preview_index_frm', function (event) {\n        event.preventDefault();\n        Functions.previewSql($('#index_frm'));\n    });\n\n    $(document).on('change', '#select_index_choice', function (event) {\n        event.preventDefault();\n        Indexes.checkIndexType();\n        Functions.checkIndexName('index_frm');\n    });\n\n    /**\n     * Ajax Event handler for 'Drop Index'\n     */\n    $(document).on('click', 'a.drop_primary_key_index_anchor.ajax', function (event) {\n        event.preventDefault();\n        var $anchor = $(this);\n        /**\n         * @var $currRow Object containing reference to the current field's row\n         */\n        var $currRow = $anchor.parents('tr');\n        /** @var {number} rows Number of columns in the key */\n        var rows = $anchor.parents('td').attr('rowspan') || 1;\n        /** @var {number} $rowsToHide Rows that should be hidden */\n        var $rowsToHide = $currRow;\n        for (var i = 1, $lastRow = $currRow.next(); i < rows; i++, $lastRow = $lastRow.next()) {\n            $rowsToHide = $rowsToHide.add($lastRow);\n        }\n\n        var question = $currRow.children('td')\n            .children('.drop_primary_key_index_msg')\n            .val();\n\n        Functions.confirmPreviewSql(question, $anchor.attr('href'), function (url) {\n            var $msg = Functions.ajaxShowMessage(window.Messages.strDroppingPrimaryKeyIndex, false);\n            var params = Functions.getJsConfirmCommonParam(this, $anchor.getPostData());\n            $.post(url, params, function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    Functions.ajaxRemoveMessage($msg);\n                    var $tableRef = $rowsToHide.closest('table');\n                    if ($rowsToHide.length === $tableRef.find('tbody > tr').length) {\n                        // We are about to remove all rows from the table\n                        $tableRef.hide('medium', function () {\n                            $('div.no_indexes_defined').show('medium');\n                            $rowsToHide.remove();\n                        });\n                        $tableRef.siblings('.alert-primary').hide('medium');\n                    } else {\n                        // We are removing some of the rows only\n                        $rowsToHide.hide('medium', function () {\n                            $(this).remove();\n                        });\n                    }\n                    if ($('.result_query').length) {\n                        $('.result_query').remove();\n                    }\n                    if (data.sql_query) {\n                        $('<div class=\"result_query\"></div>')\n                            .html(data.sql_query)\n                            .prependTo('#structure_content');\n                        Functions.highlightSql($('#page_content'));\n                    }\n                    Navigation.reload();\n                    CommonActions.refreshMain('index.php?route=/table/structure');\n                } else {\n                    Functions.ajaxShowMessage(window.Messages.strErrorProcessingRequest + ' : ' + data.error, false);\n                }\n            }); // end $.post()\n        });\n    }); // end Drop Primary Key/Index\n\n    /**\n     * Ajax event handler for index edit\n     **/\n    $(document).on('click', '#table_index tbody tr td.edit_index.ajax, #index_div .add_index.ajax', function (event) {\n        event.preventDefault();\n        var url;\n        var title;\n        if ($(this).find('a').length === 0) {\n            // Add index\n            var valid = Functions.checkFormElementInRange(\n                $(this).closest('form')[0],\n                'added_fields',\n                'Column count has to be larger than zero.'\n            );\n            if (! valid) {\n                return;\n            }\n            url = $(this).closest('form').serialize();\n            title = window.Messages.strAddIndex;\n        } else {\n            // Edit index\n            url = $(this).find('a').getPostData();\n            title = window.Messages.strEditIndex;\n        }\n        url += CommonParams.get('arg_separator') + 'ajax_request=true';\n        Functions.indexEditorDialog(url, title, function (data) {\n            CommonParams.set('db', data.params.db);\n            CommonParams.set('table', data.params.table);\n            CommonActions.refreshMain('index.php?route=/table/structure');\n        });\n    });\n\n    /**\n     * Ajax event handler for index rename\n     **/\n    $(document).on('click', '#table_index tbody tr td.rename_index.ajax', function (event) {\n        event.preventDefault();\n        var url = $(this).find('a').getPostData();\n        var title = window.Messages.strRenameIndex;\n        url += CommonParams.get('arg_separator') + 'ajax_request=true';\n        Functions.indexRenameDialog(url, title, function (data) {\n            CommonParams.set('db', data.params.db);\n            CommonParams.set('table', data.params.table);\n            CommonActions.refreshMain('index.php?route=/table/structure');\n        });\n    });\n\n    /**\n     * Ajax event handler for advanced index creation during table creation\n     * and column addition.\n     */\n    $('body').on('change', 'select[name*=\"field_key\"]', function (e, showDialog) {\n        var showDialogLocal = typeof showDialog !== 'undefined' ? showDialog : true;\n        // Index of column on Table edit and create page.\n        var colIndex = /\\d+/.exec($(this).attr('name'));\n        colIndex = colIndex[0];\n        // Choice of selected index.\n        var indexChoice = /[a-z]+/.exec($(this).val());\n        indexChoice = indexChoice[0];\n        // Array containing corresponding indexes.\n        var sourceArray = null;\n\n        if (indexChoice === 'none') {\n            Indexes.removeColumnFromIndex(colIndex);\n            var id = 'index_name_' + '0' + '_8';\n            var $name = $('#' + id);\n            if ($name.length === 0) {\n                $name = $('<a id=\"' + id + '\" href=\"#\" class=\"ajax show_index_dialog\"></a>');\n                $name.insertAfter($('select[name=\"field_key[' + '0' + ']\"]'));\n            }\n            $name.html('');\n            return false;\n        }\n\n        // Select a source array.\n        sourceArray = Indexes.getIndexArray(indexChoice);\n        if (sourceArray === null) {\n            return;\n        }\n\n        if (sourceArray.length === 0) {\n            var index = {\n                'Key_name': (indexChoice === 'primary' ? 'PRIMARY' : ''),\n                'Index_choice': indexChoice.toUpperCase()\n            };\n            Indexes.showAddIndexDialog(sourceArray, 0, [colIndex], colIndex, index, showDialogLocal);\n        } else {\n            if (indexChoice === 'primary') {\n                var arrayIndex = 0;\n                var sourceLength = sourceArray[arrayIndex].columns.length;\n                var targetColumns = [];\n                for (var i = 0; i < sourceLength; i++) {\n                    targetColumns.push(sourceArray[arrayIndex].columns[i].col_index);\n                }\n                targetColumns.push(colIndex);\n                Indexes.showAddIndexDialog(sourceArray, arrayIndex, targetColumns, colIndex,\n                    sourceArray[arrayIndex], showDialogLocal);\n            } else {\n                // If there are multiple columns selected for an index, show advanced dialog.\n                Indexes.indexTypeSelectionDialog(sourceArray, indexChoice, colIndex);\n            }\n        }\n    });\n\n    $(document).on('click', '.show_index_dialog', function (e) {\n        e.preventDefault();\n\n        // Get index details.\n        var previousIndex = $(this).prev('select')\n            .attr('data-index')\n            .split(',');\n\n        var indexChoice = previousIndex[0];\n        var arrayIndex = previousIndex[1];\n\n        var sourceArray = Indexes.getIndexArray(indexChoice);\n        if (sourceArray !== null) {\n            var sourceLength = sourceArray[arrayIndex].columns.length;\n\n            var targetColumns = [];\n            for (var i = 0; i < sourceLength; i++) {\n                targetColumns.push(sourceArray[arrayIndex].columns[i].col_index);\n            }\n\n            Indexes.showAddIndexDialog(sourceArray, arrayIndex, targetColumns, -1, sourceArray[arrayIndex]);\n        }\n    });\n\n    $('#index_frm').on('submit', function () {\n        if (typeof (this.elements['index[Key_name]'].disabled) !== 'undefined') {\n            this.elements['index[Key_name]'].disabled = false;\n        }\n    });\n};\n\nexport { Indexes };\n"],"names":["$","AJAX","Navigation","CommonParams","params","setAll","obj","updateNavigation","i","undefined","hasClass","showCurrent","get","name","set","value","getUrlQuery","separator","sep","common","argsep","length","endsWith","window","sprintf","encodeURIComponent","CommonActions","setDb","newDb","openDb","refreshMain","url","callback","newUrl","find","attr","location","pathname","substring","indexOf","href","appendTo","trigger","remove","Functions","active","source","xhr","lockedTargets","debug","$msgbox","hash","key","newKey","len","charCodeAt","Math","abs","registerOnload","file","func","eventName","document","on","console","log","registerTeardown","fireOnload","fireTeardown","triggerHandler","lockPageHandler","event","target","type","newHash","oldHash","lockId","data","content","charCode","val","is","isEmptyObject","html","getImage","Messages","strLockToolTip","toString","resetLock","handleMenu","replace","children","first","menuResizer","mainMenuResizerCallback","requestHandler","shiftKey","ctrlKey","metaKey","match","preventDefault","stopImmediatePropagation","isTrigger","confirm","strConfirmNavigation","isLink","previousLinkAborted","abort","status","statusText","ajaxShowMessage","strAbortedRequest","animate","scrollTop","dataPost","getPostData","serialize","responseHandler","state","history","replaceState","pushState","onsubmit","apply","post","loginResponseHandler","ajaxRemoveMessage","new_token","scriptHandler","load","displayMessage","prepend","highlightSql","msg","errSubmitMsg","errors","id","class","insertAfter","append","e","ignorePhpErrors","sendErrorAlways","stopErrorReportLoop","phpErrorsBeingSubmitted","height","promptPhpErrors","phpErrorsFound","success","user","strLoading","logged_in","removeAttr","removeClass","replaceWith","error","handleRedirectAndReload","fieldWithError","addClass","text","redirect","reset","reloadNavigation","reload","title","menu","selflink","disableNaviSettings","disableSettings","ensureSettings","not","message","checkNumberOfFields","split","$selflinkReplace","replacement","scripts","call","$ajaxError","scriptsVersion","scriptsToBeLoaded","scriptsToBeFired","scriptsCompleted","add","fire","push","files","self","script","inArray","appendScript","done","splice","head","getElementsByTagName","createElement","src","async","onload","appendChild","off","removeSubmitEvents","each","$pageContent","buttonName","closest","loadEventHandler","menuContent","clone","initState","initURL","initPop","originalEvent","getFatalErrorHandler","request","details","responseJSON","isErrorResponse","escapeHtml","strErrorCode","strErrorText","strErrorConnection","strErrorProcessingRequest","mysqlDocKeyword","mysqlDocBuiltin","Indexes","Config","ajaxMessageCount","codeMirrorEditor","codeMirrorInlineEditor","sqlAutoCompleteInProgress","sqlAutoComplete","sqlAutoCompleteDefaultTable","centralColumnList","primaryIndexes","uniqueIndexes","indexes","fulltextIndexes","spatialIndexes","addNoCacheToAjaxRequests","options","originalOptions","nocache","Date","getTime","floor","random","extend","getAjaxMessageCount","addDatepicker","$thisElement","showTimepicker","currentDateTime","defaultOptions","timeInput","hour","getHours","minute","getMinutes","second","getSeconds","showOn","buttonImage","themeImagePath","buttonImageOnly","stepMinutes","stepHours","showSecond","showMillisec","showMicrosec","showButtonPanel","changeYear","dateFormat","timeFormat","constrainInput","altFieldTimeOnly","showAnim","beforeShow","input","inst","setTimeout","dpDiv","css","top","left","position","tooltip","uiTooltip","disable","$note","option","onSelect","inline","onClose","enable","timepicker","strMysqlAllowedValuesTipTime","datetimepicker","addDateTimePicker","decimals","parent","hourMax","firstDay","firstDayOfCalendar","strMysqlAllowedValuesTipDate","parseInt","redirect_flag","reload_flag","getSqlEditor","$textarea","resize","lintOptions","resizeType","CodeMirror","defaults","lineNumbers","matchBrackets","extraKeys","hintOptions","indentUnit","mode","lineWrapping","sqlLint","gutters","lint","codemirrorEditor","fromTextArea","handles","getWrapperElement","resizable","setSize","width","codeMirrorAutoCompleteOnInputRead","isClean","clearSelection","selection","empty","getSelection","sel","removeAllRanges","$elements","item","myContent","additionalOptions","items","tooltipClass","track","show","hide","element","createTextNode","innerHTML","escapeJsString","unsafe","escapeBacktick","s","escapeSingleQuote","hideShowDefaultValue","$defaultType","siblings","$nullCheckbox","prop","hideShowExpression","$virtuality","verifyColumnsProperties","showNoticeForEnum","showWarningForIntTypes","prepareForAjaxRequest","$form","checkPasswordStrength","meterObject","meterObjectLabel","username","customDict","zxcvbnts","core","zxcvbnOptions","setOptions","dictionary","userInputs","zxcvbnObject","zxcvbn","strength","score","strExtrWeak","strVeryWeak","strWeak","strGood","strStrong","suggestPassword","passwordForm","pwchars","passwordlength","passwd","generated_pw","randomWords","Int32Array","crypto","getRandomValues","msCrypto","charAt","$jQueryPasswordForm","elements","pma_pw","pma_pw2","meterObj","meterObjLabel","displayPasswordGenerateButton","generatePwdRow","strGeneratePassword","pwdCell","pwdButton","strGenerate","form","pwdTextbox","eq","getElementById","generatePwdDiv","for","optionsSpan","confirmLink","theLink","theSqlQuery","strDoYouReally","opera","isConfirmed","action","confirmQuery","theForm1","sqlQuery1","doConfirmRegExp0","RegExp","doConfirmRegExp1","doConfirmRegExp2","doConfirmRegExp3","doConfirmRegExp4","test","is_js_confirmed","focus","checkSqlQuery","theForm","sqlQuery","save","getValue","sql_query","spaceRegExp","sql_file","id_bookmark","selectedIndex","result","alert","strFormEmpty","emptyCheckTheField","theFieldName","theField","checkFormElementInRange","minimum","maximum","min","max","Number","MAX_VALUE","isNaN","select","strEnterValidNumber","checkTableEditForm","fieldsCnt","atLeastOneField","elm","elm2","elm3","strEnterValidLength","field_0_1","$input","lastClickChecked","lastClickedRow","lastShiftClickedRow","idleSecondsCounter","incInterval","updateTimeout","teardownIdleEvent","clearTimeout","clearInterval","onloadIdleEvent","onclick","onkeypress","guid","s4","SetIdleTime","UpdateIdleTime","isStorageSupported","sessionStorage","ajax","remaining","interval","pow","clear","dialog","setInterval","sessionTimeout","setItem","getCheckAllCheckboxEventHandler","$this","$tr","$table","$checkbox","checked","index","start","end","slice","currRow","setSelectOptions","theSelect","doCheck","updateQueryParameters","query","allParameters","parameters","parameter","strNoParam","$temp","paramName","$param","getForeignKeyCheckboxLoader","loadForeignKeyCheckbox","default_fk_check_value","strForeignKeyCheck","getJsConfirmCommonParam","elem","$elem","startsWith","teardownSqlQueryEditEvents","toTextArea","onloadSqlQueryEditEvents","bindCodeMirrorToInlineEditor","prev","trim","$innerSql","newContent","strGo","strCancel","$editorArea","insertBefore","fkCheck","$fakeForm","method","$divEditor","$inputUsername","instance","tables","defaultTable","columnHintRender","columnName","columnHint","table","hasOwnProperty","columns","column","displayText","Type","Key","render","complete","completionActive","cur","getCursor","token","getTokenAt","string","commands","autocomplete","removeAutocompleteInfo","$inlineEditor","style","refresh","catchKeypressesFromSqlInlineEdit","keyCode","documentationAdd","$elm","mysqlDocTemplate","decodeURIComponent","documentationKeyword","idx","keyword","toUpperCase","$next","next","nextKeyword","full","$next2","next2Keyword","full2","documentationBuiltin","builtin","$base","$sql","$pre","$highlight","runMode","updateCode","htmlValue","rawValue","$code","$notHighlighted","$highlighted","timeout","newTimeOut","selfClosing","dismissable","strProcessingRequest","prependTo","$retval","delay","fadeOut","strDismiss","$thisMessageBox","stop","previewSql","formUrl","formData","$messageBox","response","modal","sql_data","strPreviewSQL","confirmPreviewSql","sqlData","checkReservedWordColumns","dismissNotifications","holdStarter","which","parents","copyToClipboard","res","execCommand","after","strCopyQueryButtonSuccess","strCopyQueryButtonFailure","selectElement","enumNoticeId","selectedType","lengthRestrictions","map","filter","restricationFound","some","restriction","createProfilingChart","factory","JQPlotChartFactory","chart","createChart","ChartType","PIE","dataTable","DataTable","addColumn","ColumnType","STRING","NUMBER","setData","windowWidth","draw","seriesDefaults","rendererOptions","showDataLabels","highlighter","tooltipLocation","sizeAdjust","tooltipAxes","formatString","legend","numberColumns","seriesColors","prettyProfilingNum","number","accuracy","num","acc","round","sqlPrettyPrint","getMode","stream","StringStream","startState","tokens","output","tabs","cnt","ret","statements","spaceExceptionsBefore","spaceExceptionsAfter","eol","pos","current","toLowerCase","currentStatement","blockStack","newBlock","endBlock","indentLevel","statementPart","lastStatementPart","unshift","shift","question","callbackFn","openCallback","confirmState","fn","sortTable","textSelector","tableBody","rows","row","sortKey","sort","a","b","teardownCreateTableEvents","onloadCreateTableEvents","$createTableDialog","before","formatted_sql","tablesTable","currLastRow","last","currLastRowIndexString","currLastRowIndex","parseFloat","newLastRowIndex","newLastRowId","newTableString","DatabaseStructure","adjustTotals","params12","tableStructureUrl","server","db","submitChangesInCreateTableForm","actionParam","hideShowConnection","col","exec","$selectFieldKey","checkPassword","$theForm","$pred","$password","$passwordRepeat","alertMessage","strPasswordEmpty","strPasswordNotSame","onloadChangePasswordEvents","hostname","thisValue","unwrap","teardownEnumSetEditorMessage","onloadEnumSetEditorMessage","validateDefaultValue","$engineSelector","$connection","$labelTh","$default","autoPopulate","inputId","offset","newInputId","col_name","colType","col_type","$input3","col_length","colDefault","col_default","$input4","col_collation","$input6","col_attribute","col_extra","col_isNull","teardownEnumSetEditor","onloadEnumSetEditor","colname","enum_newColumnVals","enum_columnVals","inputstring","values","inString","curr","buffer","fields","dropIcon","enum_hint","enum_addValue","valueArray","valuesId","join","slider","range","slide","ui","maxRows","pick","colid","listSize","pickColumn","resultPointer","searchIn","searchList","strEmptyCentralList","seeMore","centralColumnsDialog","buttonOptions","$centralColumnsDialog","classes","minWidth","maxHeight","pickColumnTitle","buttons","open","uiTableFilter","close","numNewRows","checkIndexName","formId","$theIdxName","$theIdxChoice","getAddIndexEventHandler","hadAddButtonHidden","rowsToAdd","tempEmptyVal","tempSetFocus","$indexColumns","$newrow","indexDialogModal","routeUrl","callbackSuccess","callbackFailure","indexDialogPreviewModal","addEventListener","modalBody","querySelector","$sqlqueryresults","index_table","$editIndexDialog","$tempDiv","$error","showIndexEditDialog","indexEditorDialog","indexRenameDialog","$outer","checkIndexType","sortable","axis","containment","tolerance","showHints","strAddToIndex","$div","$newDiv","body","initializeMenuResizer","toggleButton","$obj","right","h","w","imgw","tblw","offw","outerWidth","btnw","move","$msg","$container","operator","parts","eval","initializeToggleButtons","$button","getPageSelectorEventHandler","stopPropagation","treePagination","teardownRecentFavoriteTables","onloadRecentFavoriteTables","$updateRecentTables","list","cache","localStorage","favoriteTables","slidingMessage","$object","has","fadeIn","onloadCodeMirrorEditor","teardownCodeMirrorEditor","onloadLockPage","filterByValue","getCellValue","td","$td","getAutoSubmitEventHandler","PrintPage","handleEvent","print","teardownCreateView","onloadCreateView","submit","createViewModal","floatingMenuBar","outerHeight","breadcrumbScrollToTop","checkboxesSel","checkboxesChanged","totalBoxes","checkedBoxes","$checkall","indeterminate","getCheckAllBoxEventHandler","isChecked","toggleClass","getCheckAllFilterEventHandler","selector","subCheckboxesChanged","getSubCheckAllBoxEventHandler","getFilterTextEventHandler","filterInput","count","$row","onloadFilterText","$filter","formatBytes","bytesToFormat","subDecimals","pointChar","bytes","point","units","factor","onloadLoginForm","$loginform","$httpsWarning","protocol","formatDateTime","date","seconds","datepicker","formatDate","timefmt","formatTime","maxInputVars","nbInputs","warning","strTooManyInputs","clearPrevErrors","clearPrevious","$pmaReportErrorsForm","$pmaErrors","toggleDatepickerIfInvalid","$inputField","dtexpDate","dtexpTime","recaptchaCallback","getKeyboardFormSubmitEventHandler","altKey","getSslPasswordEventHandler","teardownSortLinkMouseEvent","onloadSortLinkMouseEvent","toggle","image","alternate","attributes","alt","retval","configSet","serialized","JSON","stringify","dataType","configGet","cached","successCallback","failureCallback","isCached","getItem","parse","querySelectorAll","forEach","removeEventListener","navigator","userAgent","treeStateUpdate","storage","traverseForPaths","removeItem","filterStateUpdate","filterName","filterValue","currentFilter","filterStateRestore","navTreeSearchFilters","searchClauses","Object","keys","dbFilter","FastFilter","Filter","$tableFilters","loadChildNodes","isNode","$expandElem","$destination","pos2Name","pathsNav","searchClause","getSearchClause","searchClause2","getSearchClause2","border","margin","padding","slideDown","$errors","$throbber","$icon","collapseTreeNode","$children","slideUp","promise","pos2Nav","pos3Nav","ResizeHandler","expandTreeNode","$iconThrobberSrc","hideNav","synced","$img","linkWithMain","unlinkWithMain","events","blur","keyup","argSep","$hiddenTableCount","$hideDialogBox","$self","anchorId","$dataFavTargets","hasLocalStorage","changes","anchor","navTreePaths","visibility","display","showFullName","scrollToView","$element","$forceToTop","elemTop","textHeight","scrollPadding","autoexpand","$dbItem","findLoadedItem","selectCurrentDatabase","handleTableOrDb","fullExpand","dbItemName","$expander","loadAndHighlightTableOrView","$tableContainer","clazz","doSelect","$li","$childRet","$cont","itemName","$whichItem","isItemInContainer","$relatedContainer","showTableOrView","$subContainers","$containers","loadAndShowTableOrView","$items","getNaviSettings","setupRestoreField","setupValidation","paths","pathsLocal","requestNaviReload","$naviDbSelect","isDbSelector","tagName","$parent","panelWidth","setWidth","$resizer","resizerWidth","$collapser","getSymbol","strShowPanel","strHidePanel","getPos","pageX","windowScroll","scrollLeft","mousedown","resize_handler","mousemove","mouseup","collapse","treeResize","$nav","$navTree","$navHeader","$navTreeContent","treeInit","isLoadedOnMobile","callbackSuccessGetConfigValue","initialResizeValue","$clone","$filterInput","defaultValue","$filterContainer","restore","str","regex","err","outerContainer","itemFilter","$curr","containerFilter","$group","update","prototype","jqXHR","responseText","results","swap","$containerELem","thisOffset","$fullNameLayer","configInlineParams","configScriptLoaded","warn","strNoLocalStorage","defaultValues","getFieldType","field","$field","setRestoreDefaultBtn","$el","markField","isDefault","checkFieldDefault","$fieldMarker","setFieldValue","fieldType","imax","selected","getFieldValue","getAllValues","fieldId","currentValue","getIdPrefix","validate","validators","regExpNumeric","regExpPcreExtract","validatePositiveNumber","isKeyUp","configErrorInvalidPositiveNumber","validateNonNegativeNumber","configErrorInvalidNonNegativeNumber","validatePortNumber","configErrorInvalidPortNumber","validateByRegex","regexp","valid","configErrorInvalidValue","validateUpperBound","maxValue","configErrorInvalidUpperBound","fieldset","registerFieldValidator","onKeyUp","getFieldValidators","onKeyUpOnly","functions","displayErrors","errorList","tempIsEmpty","isFieldset","$errorCnt","grep","setDisplayError","validateField","validateFieldset","$fieldset","fieldsetErrors","merge","args","validateFieldAndFieldset","loadInlineConfig","Array","isArray","$checkPageRefresh","adjustPrefsNotification","$prefsAutoLoad","$tableNameControl","$prefsAutoShowing","restoreField","fieldSel","opacity","savePrefsToLocalStorage","config","prefs","configMtime","mtime","configMtimeLocal","toUTCString","updatePrefsDate","group","d","strSavedOn","offerPrefsAutoimport","hasConfig","$cnt","$a","$topmenuUpt","$radios","enableId","disableId","lsSupported","lsExists","disabled","getIndexArray","indexChoice","sourceArray","$selectIndexChoice","$selectIndexType","$sizeHeader","$columnInputs","$sizeInputs","$addMore","initial","$columnInput","setIndexFormParameters","removeColumnFromIndex","colIndex","previousIndex","sourceLength","col_index","addColumnToIndex","arrayIndex","indexName","indexComment","keyBlockSize","parser","indexType","size","displayName","columnNames","$name","$text","getCompositeIndexList","$compositeIndexList","strCompositeWith","alreadyPresent","subArrayLen","j","addIndexGo","isMissingValue","Index_choice","strMissingColumn","showAddIndexDialog","targetColumns","showDialog","showDialogLocal","postData","columnType","$selectList","strAddIndex","removeIndexOnChangeEvent","indexTypeSelectionDialog","$singleColumnRadio","strCreateSingleColumnIndex","$compositeIndexRadio","strCreateCompositeIndex","$dialogContent","submitData","$anchor","$currRow","$rowsToHide","$lastRow","strDroppingPrimaryKeyIndex","$tableRef","strEditIndex","strRenameIndex"],"sourceRoot":""}