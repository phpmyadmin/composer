{"version":3,"file":"sql.js","mappings":";;;;;;;;;;;;;;;;;;AAAuB;AACkB;AAC8D;AAClD;AACF;AACG;AACyB;AACpB;AACgB;AACA;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASa,SAASA,CAACC,GAAG,EAAE;EACpB,IAAI,OAAOA,GAAG,KAAK,WAAW,EAAE;IAC5B,OAAOC,kBAAkB,CAACD,GAAG,CAACE,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;EACxD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,SAASA,CAACH,GAAG,EAAE;EACpB,IAAI,OAAOA,GAAG,KAAK,WAAW,EAAE;IAC5B,OAAOI,kBAAkB,CAACJ,GAAG,CAAC,CAACE,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;EACvD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,SAASG,QAAQA,CAACC,KAAK,EAAE;EACrB,IAAIA,KAAK,EAAE;IACP,IAAIC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAAC,CAAC;IAC/B,IAAIX,oFAAkB,CAAC,cAAc,CAAC,EAAE;MACpCY,MAAM,CAACC,YAAY,CAACC,OAAO,CAACL,GAAG,EAAED,KAAK,CAAC;IAC3C,CAAC,MACI;MACDI,MAAM,CAACG,OAAO,CAACC,GAAG,CAACP,GAAG,EAAED,KAAK,EAAE;QAAES,IAAI,EAAEvB,4DAAY,CAACwB,GAAG,CAAC,UAAU;MAAE,CAAC,CAAC;IAC1E;EACJ;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,aAAaA,CAACC,EAAE,EAAEC,KAAK,EAAEb,KAAK,EAAE;EACrC,IAAIc,mBAAmB,GAAG;IACtB,IAAI,EAAEF,EAAE;IACR,OAAO,EAAEC,KAAK;IACd,OAAO,EAAEb;EACb,CAAC;EACD,IAAIR,oFAAkB,CAAC,cAAc,CAAC,EAAE;IACpCY,MAAM,CAACC,YAAY,CAACM,aAAa,GAAG,CAAC;IACrCP,MAAM,CAACC,YAAY,CAACS,mBAAmB,GAAGC,IAAI,CAACC,SAAS,CAACF,mBAAmB,CAAC;EACjF,CAAC,MACI;IACDV,MAAM,CAACG,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE,GAAG,EAAE;MAAEC,IAAI,EAAEvB,4DAAY,CAACwB,GAAG,CAAC,UAAU;IAAE,CAAC,CAAC;IAChFN,MAAM,CAACG,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEO,IAAI,CAACC,SAAS,CAACF,mBAAmB,CAAC,EAAE;MAAEL,IAAI,EAAEvB,4DAAY,CAACwB,GAAG,CAAC,UAAU;IAAE,CAAC,CAAC;EAC1H;AACJ;AACA;AACA;AACA;AACA;AACA,SAASO,gBAAgBA,CAAA,EAAG;EACxB,IAAIL,EAAE,GAAGhC,6CAAC,CAAC,kBAAkB,CAAC,CAACsC,GAAG,CAAC,CAAC;EACpC,IAAIL,KAAK,GAAGjC,6CAAC,CAAC,qBAAqB,CAAC,CAACsC,GAAG,CAAC,CAAC;EAC1C,IAAI1B,oFAAkB,CAAC,cAAc,CAAC,EAAE;IACpC,IAAIY,MAAM,CAACC,YAAY,CAACS,mBAAmB,KAAKK,SAAS,EAAE;MACvD,IAAIC,QAAQ,GAAGL,IAAI,CAACM,KAAK,CAACjB,MAAM,CAACC,YAAY,CAACS,mBAAmB,CAAC,CAACF,EAAE;MACrE,IAAIU,WAAW,GAAGP,IAAI,CAACM,KAAK,CAACjB,MAAM,CAACC,YAAY,CAACS,mBAAmB,CAAC,CAACD,KAAK;MAC3E,IAAIU,WAAW,GAAGR,IAAI,CAACM,KAAK,CAACjB,MAAM,CAACC,YAAY,CAACS,mBAAmB,CAAC,CAACd,KAAK;IAC/E;IACA,IAAII,MAAM,CAACC,YAAY,CAACM,aAAa,KAAKQ,SAAS,IAC5Cf,MAAM,CAACC,YAAY,CAACM,aAAa,KAAK,GAAG,EAAE;MAC9C/B,6CAAC,CAAC,0BAA0B,CAAC,CAAC4C,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC;MACnD,IAAIZ,EAAE,KAAKQ,QAAQ,IAAIP,KAAK,KAAKS,WAAW,EAAE;QAC1C,IAAIlB,MAAM,CAACqB,gBAAgB,EAAE;UACzBrB,MAAM,CAACqB,gBAAgB,CAACC,QAAQ,CAACH,WAAW,CAAC;UAC7C;QACJ,CAAC,MACI,IAAII,QAAQ,CAACC,OAAO,EAAE;UACvB;UACAD,QAAQ,CAACC,OAAO,CAACC,SAAS,CAACC,KAAK,GAAGP,WAAW;QAClD;MACJ;IACJ,CAAC,MACI;MACD3C,6CAAC,CAAC,0BAA0B,CAAC,CAAC4C,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC;IACxD;EACJ;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,SAASO,gBAAgBA,CAAC/B,KAAK,EAAE;EAC7B,IAAIA,KAAK,EAAE;IACP,IAAIR,oFAAkB,CAAC,cAAc,CAAC,EAAE;MACpCY,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,kBAAkB,EAAEN,KAAK,CAAC;IAC1D,CAAC,MACI;MACDI,MAAM,CAACG,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAER,KAAK,EAAE;QAAES,IAAI,EAAEvB,4DAAY,CAACwB,GAAG,CAAC,UAAU;MAAE,CAAC,CAAC;IACzF;EACJ;AACJ;AACA;AACA;AACA;AACA,SAASsB,kBAAkBA,CAAA,EAAG;EAC1B,IAAIxC,oFAAkB,CAAC,cAAc,CAAC,EAAE;IACpCY,MAAM,CAACC,YAAY,CAAC4B,UAAU,CAAC,kBAAkB,CAAC;EACtD,CAAC,MACI;IACD7B,MAAM,CAACG,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAE,EAAE,EAAE;MAAEC,IAAI,EAAEvB,4DAAY,CAACwB,GAAG,CAAC,UAAU;IAAE,CAAC,CAAC;EACtF;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASwB,YAAYA,CAACC,aAAa,EAAEC,UAAU,EAAE;EAC7C,IAAIC,cAAc,GAAGD,UAAU,CAACE,KAAK,CAAC,CAAC;EACvC;EACA;EACA,IAAIC,eAAe,GAAG,CAACJ,aAAa,CAACK,IAAI,CAAC,IAAI,CAAC,CAACC,KAAK,CAAC,CAAC,CAACC,QAAQ,CAAC,WAAW,CAAC;EAC7E;EACA,IAAIC,cAAc,GAAGJ,eAAe,GAAGJ,aAAa,CAACK,IAAI,CAAC,IAAI,CAAC,CAACC,KAAK,CAAC,CAAC,CAACG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC;EAC/F;EACA;EACA;EACA;EACA,IAAIC,SAAS,GAAGV,aAAa,CACxBK,IAAI,CAAC,OAAO,CAAC,CACbA,IAAI,CAAC,IAAI,CAAC,CACVM,EAAE,CAACT,cAAc,GAAGM,cAAc,CAAC,CACnCH,IAAI,CAAC,GAAG,CAAC,CACTO,KAAK,CAAC,CAAC,CAAC;EAAA,CACRC,QAAQ,CAAC,CAAC,CAAC;EAAA,CACXC,MAAM,CAAC,CAAC,CAAC;EAAA,CACTC,GAAG,CAAC,CAAC,CAAC;EAAA,CACNC,IAAI,CAAC,CAAC,CAAC,CAAC;EACb;EACA,IAAIN,SAAS,KAAK,EAAE,EAAE;IAClB,IAAIO,QAAQ,GAAGjB,aAAa,CAACK,IAAI,CAAC,OAAO,CAAC,CAACA,IAAI,CAAC,IAAI,CAAC,CAACM,EAAE,CAACT,cAAc,GAAGM,cAAc,CAAC,CAACK,QAAQ,CAAC,MAAM,CAAC;IAC1G;IACA,IAAIK,eAAe,GAAGD,QAAQ,CAACJ,QAAQ,CAAC,CAAC,CAACM,MAAM,CAAC,CAAC;IAClDT,SAAS,GAAGO,QAAQ,CAACD,IAAI,CAAC,CAAC;IAC3B;IACAC,QAAQ,CAACG,MAAM,CAACF,eAAe,CAAC;EACpC;EACAR,SAAS,GAAGA,SAAS,CAACW,IAAI,CAAC,CAAC;EAC5B,OAAOX,SAAS;AACpB;AACA;AACA;AACA;AACA,IAAIY,YAAY,GAAG,KAAK;AACxB;AACA;AACA;AACA,MAAMC,gBAAgB,GAAG,EAAE;AAC3B;AACA;AACA;AACA,MAAMC,yBAAyB,GAAG,SAAAA,CAAA,EAAY;EAC1C,MAAMC,YAAY,GAAG,mGAAmG;EACxH,MAAMC,YAAY,GAAG,uGAAuG;EAC5H,MAAM7D,KAAK,GAAGI,MAAM,CAACqB,gBAAgB,GAAGrB,MAAM,CAACqB,gBAAgB,CAACqC,QAAQ,CAAC,CAAC,GAAGlF,6CAAC,CAAC,WAAW,CAAC,CAACsC,GAAG,CAAC,CAAC;EACjG,MAAM6C,YAAY,GAAGnF,6CAAC,CAAC,eAAe,CAAC;EACvC,IAAIgF,YAAY,CAACI,IAAI,CAAChE,KAAK,CAAC,IAAI6D,YAAY,CAACG,IAAI,CAAChE,KAAK,CAAC,EAAE;IACtD,IAAI,CAAC+D,YAAY,CAACE,MAAM,EAAE;MACtBrF,6CAAC,CAAC,sBAAsB,CAAC,CAACsF,MAAM,CAAC,wCAAwC,GACrE,gDAAgD,GAAG9D,MAAM,CAAC+D,QAAQ,CAACC,cAAc,GAAG,IAAI,CAAC;IACjG;EACJ,CAAC,MACI;IACD,IAAIL,YAAY,CAACE,MAAM,EAAE;MACrBF,YAAY,CAACd,MAAM,CAAC,CAAC;IACzB;EACJ;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,MAAMoB,aAAa,GAAG,SAAAA,CAAUC,OAAO,EAAE;EACrC,IAAIZ,gBAAgB,CAACY,OAAO,CAACC,IAAI,CAAC,EAAE;IAChC;EACJ;EACAb,gBAAgB,CAACY,OAAO,CAACC,IAAI,CAAC,GAAG,IAAI;EACrC,IAAId,YAAY,EAAE;IACd;EACJ;EACAa,OAAO,CAACE,MAAM,CAAC,CAAC;AACpB,CAAC;AACD;AACA;AACA;AACA;AACA,MAAMC,QAAQ,GAAG,SAAAA,CAAUzE,KAAK,EAAE;EAC9B,IAAII,MAAM,CAACqB,gBAAgB,EAAE;IACzBrB,MAAM,CAACqB,gBAAgB,CAACC,QAAQ,CAAC1B,KAAK,CAAC;IACvCI,MAAM,CAACqB,gBAAgB,CAACiD,KAAK,CAAC,CAAC;IAC/B;EACJ,CAAC,MACI,IAAI/C,QAAQ,CAACC,OAAO,EAAE;IACvB;IACAD,QAAQ,CAACC,OAAO,CAACC,SAAS,CAACC,KAAK,GAAG9B,KAAK;IACxC;IACA2B,QAAQ,CAACC,OAAO,CAACC,SAAS,CAAC6C,KAAK,CAAC,CAAC;EACtC;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,WAAW,GAAG,SAAAA,CAAUC,SAAS,EAAE;EACrC,IAAI/D,KAAK;EACT,IAAI+D,SAAS,KAAK,OAAO,EAAE;IACvBH,QAAQ,CAAC,EAAE,CAAC;IACZ;EACJ,CAAC,MACI,IAAIG,SAAS,KAAK,QAAQ,IAAIA,SAAS,KAAK,kBAAkB,EAAE;IACjE,IAAIxE,MAAM,CAACqB,gBAAgB,EAAE;MACzB7C,6CAAC,CAAC,eAAe,CAAC,CAACiG,IAAI,CAACzE,MAAM,CAAC+D,QAAQ,CAACW,aAAa,GACjD,mCAAmC,GACnC1E,MAAM,CAAC2E,cAAc,GAAG,+BAA+B,CAAC;MAC5D,IAAIC,MAAM,GAAG;QACT,cAAc,EAAE,IAAI;QACpB,KAAK,EAAE5E,MAAM,CAACqB,gBAAgB,CAACqC,QAAQ,CAAC,CAAC;QACzC,QAAQ,EAAE5E,4DAAY,CAACwB,GAAG,CAAC,QAAQ,CAAC;QACpC,kBAAkB,EAAEkE,SAAS,KAAK;MACtC,CAAC;MACDhG,kDAAM,CAAC;QACHsG,IAAI,EAAE,MAAM;QACZC,GAAG,EAAE,sCAAsC;QAC3CC,IAAI,EAAEJ,MAAM;QACZK,OAAO,EAAE,SAAAA,CAAUD,IAAI,EAAE;UACrB,IAAIA,IAAI,CAACC,OAAO,EAAE;YACdjF,MAAM,CAACqB,gBAAgB,CAACC,QAAQ,CAAC0D,IAAI,CAACE,GAAG,CAAC;UAC9C;UACA1G,6CAAC,CAAC,eAAe,CAAC,CAACiG,IAAI,CAAC,EAAE,CAAC;QAC/B,CAAC;QACDU,KAAK,EAAE,SAAAA,CAAA,EAAY;UACf3G,6CAAC,CAAC,eAAe,CAAC,CAACiG,IAAI,CAAC,EAAE,CAAC;QAC/B;MACJ,CAAC,CAAC;IACN;IACA;EACJ,CAAC,MACI,IAAID,SAAS,KAAK,OAAO,EAAE;IAC5B,IAAIhE,EAAE,GAAGhC,6CAAC,CAAC,kBAAkB,CAAC,CAACsC,GAAG,CAAC,CAAC;IACpCL,KAAK,GAAGjC,6CAAC,CAAC,qBAAqB,CAAC,CAACsC,GAAG,CAAC,CAAC;IACtC,IAAIjB,GAAG,GAAGW,EAAE;IACZ,IAAIC,KAAK,KAAKM,SAAS,EAAE;MACrBlB,GAAG,IAAI,GAAG,GAAGY,KAAK;IACtB;IACAZ,GAAG,GAAG,eAAe,GAAGA,GAAG;IAC3B,IAAIT,oFAAkB,CAAC,cAAc,CAAC,IAClC,OAAOY,MAAM,CAACC,YAAY,CAACmF,OAAO,CAACvF,GAAG,CAAC,KAAK,QAAQ,EAAE;MACtDwE,QAAQ,CAACrE,MAAM,CAACC,YAAY,CAACmF,OAAO,CAACvF,GAAG,CAAC,CAAC;MAC1C;IACJ,CAAC,MACI,IAAIG,MAAM,CAACG,OAAO,CAACG,GAAG,CAACT,GAAG,EAAE;MAAEQ,IAAI,EAAEvB,4DAAY,CAACwB,GAAG,CAAC,UAAU;IAAE,CAAC,CAAC,EAAE;MACtE;MACA+D,QAAQ,CAACrE,MAAM,CAACG,OAAO,CAACG,GAAG,CAACT,GAAG,EAAE;QAAEQ,IAAI,EAAEvB,4DAAY,CAACwB,GAAG,CAAC,UAAU;MAAE,CAAC,CAAC,CAAC;IAC7E,CAAC,MACI;MACDrB,yEAAe,CAACe,MAAM,CAAC+D,QAAQ,CAACsB,mBAAmB,CAAC;IACxD;IACA;EACJ;EACA,IAAIzF,KAAK,GAAG,EAAE;EACd;EACA,IAAI0F,SAAS,GAAG/D,QAAQ,CAACC,OAAO,CAAC+D,KAAK;EACtC;EACA9E,KAAK,GAAGc,QAAQ,CAACC,OAAO,CAACf,KAAK,CAACiB,KAAK;EACpC,IAAI4D,SAAS,CAACE,OAAO,CAAC3B,MAAM,GAAG,CAAC,EAAE;IAC9BR,YAAY,GAAG,IAAI;IACnB,IAAIoC,WAAW,GAAG,EAAE;IACpB,IAAIC,MAAM,GAAG,EAAE;IACf,IAAIC,OAAO,GAAG,EAAE;IAChB,IAAIC,QAAQ,GAAG,CAAC;IAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,SAAS,CAACE,OAAO,CAAC3B,MAAM,EAAEgC,CAAC,EAAE,EAAE;MAC/CD,QAAQ,EAAE;MACV,IAAIA,QAAQ,GAAG,CAAC,EAAE;QACdH,WAAW,IAAI,IAAI;QACnBC,MAAM,IAAI,GAAG;QACbC,OAAO,IAAI,GAAG;MAClB;MACAF,WAAW,IAAIH,SAAS,CAACE,OAAO,CAACK,CAAC,CAAC,CAACnE,KAAK;MACzCgE,MAAM,IAAI,WAAW,GAAGE,QAAQ,GAAG,KAAK;MACxCD,OAAO,IAAIL,SAAS,CAACE,OAAO,CAACK,CAAC,CAAC,CAACnE,KAAK,GAAG,YAAY,GAAGkE,QAAQ,GAAG,KAAK;IAC3E;IACA,IAAIpB,SAAS,KAAK,WAAW,EAAE;MAC3B5E,KAAK,GAAG,iBAAiB,GAAGa,KAAK,GAAG,WAAW;IACnD,CAAC,MACI,IAAI+D,SAAS,KAAK,QAAQ,EAAE;MAC7B5E,KAAK,GAAG,SAAS,GAAG6F,WAAW,GAAG,SAAS,GAAGhF,KAAK,GAAG,WAAW;IACrE,CAAC,MACI,IAAI+D,SAAS,KAAK,QAAQ,EAAE;MAC7B5E,KAAK,GAAG,eAAe,GAAGa,KAAK,GAAG,IAAI,GAAGgF,WAAW,GAAG,YAAY,GAAGC,MAAM,GAAG,GAAG;IACtF,CAAC,MACI,IAAIlB,SAAS,KAAK,QAAQ,EAAE;MAC7B5E,KAAK,GAAG,UAAU,GAAGa,KAAK,GAAG,QAAQ,GAAGkF,OAAO,GAAG,UAAU;IAChE,CAAC,MACI,IAAInB,SAAS,KAAK,QAAQ,EAAE;MAC7B5E,KAAK,GAAG,eAAe,GAAGa,KAAK,GAAG,WAAW;IACjD;IACA4D,QAAQ,CAACzE,KAAK,CAAC;IACfyD,YAAY,GAAG,KAAK;EACxB;AACJ,CAAC;AACD;AACA;AACA;AACA;AACA,MAAMyC,gBAAgB,GAAG,SAAAA,CAAA,EAAY;EACjC;EACA,IAAIC,OAAO,GAAGxE,QAAQ,CAACC,OAAO,CAACC,SAAS;EACxC;EACA,IAAI6D,SAAS,GAAG/D,QAAQ,CAACC,OAAO,CAAC+D,KAAK;EACtC,IAAID,SAAS,CAACE,OAAO,CAAC3B,MAAM,GAAG,CAAC,EAAE;IAC9BR,YAAY,GAAG,IAAI;IACnB,IAAIoC,WAAW,GAAG,EAAE;IACpB,IAAIG,QAAQ,GAAG,CAAC;IAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,SAAS,CAACE,OAAO,CAAC3B,MAAM,EAAEgC,CAAC,EAAE,EAAE;MAC/C,IAAIP,SAAS,CAACE,OAAO,CAACK,CAAC,CAAC,CAACG,QAAQ,EAAE;QAC/BJ,QAAQ,EAAE;QACV,IAAIA,QAAQ,GAAG,CAAC,EAAE;UACdH,WAAW,IAAI,IAAI;QACvB;QACAA,WAAW,IAAIH,SAAS,CAACE,OAAO,CAACK,CAAC,CAAC,CAACnE,KAAK;MAC7C;IACJ;IACA;IACA,IAAI1B,MAAM,CAACqB,gBAAgB,EAAE;MACzBrB,MAAM,CAACqB,gBAAgB,CAAC4E,gBAAgB,CAACR,WAAW,CAAC;MACrDzF,MAAM,CAACqB,gBAAgB,CAACiD,KAAK,CAAC,CAAC;MAC/B;MACA;IACJ,CAAC,MACI,IAAI/C,QAAQ,CAAC2E,SAAS,EAAE;MACzBH,OAAO,CAACzB,KAAK,CAAC,CAAC;MACf;MACA,IAAI6B,GAAG,GAAG5E,QAAQ,CAAC2E,SAAS,CAACE,WAAW,CAAC,CAAC;MAC1CD,GAAG,CAACpD,IAAI,GAAG0C,WAAW;MACtB;MACA;IACJ,CAAC,MACI,IAAIlE,QAAQ,CAACC,OAAO,CAACC,SAAS,CAAC4E,cAAc,IAAI9E,QAAQ,CAACC,OAAO,CAACC,SAAS,CAAC4E,cAAc,KAAK,GAAG,EAAE;MACrG;MACA,IAAIC,QAAQ,GAAG/E,QAAQ,CAACC,OAAO,CAACC,SAAS,CAAC4E,cAAc;MACxD;MACA,IAAIE,MAAM,GAAGhF,QAAQ,CAACC,OAAO,CAACC,SAAS,CAAC+E,YAAY;MACpD;MACA,IAAIC,SAAS,GAAGlF,QAAQ,CAACC,OAAO,CAACC,SAAS,CAACC,KAAK;MAChDqE,OAAO,CAACrE,KAAK,GAAG+E,SAAS,CAACC,SAAS,CAAC,CAAC,EAAEJ,QAAQ,CAAC,GAAGb,WAAW,GAAGgB,SAAS,CAACC,SAAS,CAACH,MAAM,EAAEE,SAAS,CAAC5C,MAAM,CAAC;MAC9GkC,OAAO,CAACzB,KAAK,CAAC,CAAC;IACnB,CAAC,MACI;MACDyB,OAAO,CAACrE,KAAK,IAAI+D,WAAW;IAChC;IACA;IACApC,YAAY,GAAG,KAAK;EACxB;AACJ,CAAC;AACD;AACA;AACA;AACA5E,kDAAI,CAACkI,gBAAgB,CAAC,QAAQ,EAAE,YAAY;EACxCnI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,OAAO,EAAE,mBAAmB,CAAC;EAC7CpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,QAAQ,EAAE,oBAAoB,CAAC;EAC/CpI,6CAAC,CAAC,iBAAiB,CAAC,CAACoI,GAAG,CAAC,OAAO,CAAC;EACjCpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,UAAU,EAAE,kBAAkB,CAAC;EAC/CpI,6CAAC,CAAC,iBAAiB,CAAC,CAACoI,GAAG,CAAC,OAAO,CAAC;EACjCpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,OAAO,EAAE,sBAAsB,CAAC;EAChDpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,QAAQ,EAAE,cAAc,CAAC;EACzCpI,6CAAC,CAAC,mCAAmC,CAAC,CAACoI,GAAG,CAAC,UAAU,CAAC;EACtDpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,QAAQ,EAAE,oBAAoB,CAAC;EAC/CpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,OAAO,EAAE,wBAAwB,CAAC;EAClDpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,QAAQ,EAAE,wCAAwC,CAAC;EACnEpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,YAAY,EAAE,2BAA2B,CAAC;EAC1DpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,YAAY,EAAE,2BAA2B,CAAC;EAC1DpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,OAAO,EAAE,0BAA0B,CAAC;EACpDpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,OAAO,EAAE,cAAc,CAAC;EACxC,IAAI5G,MAAM,CAACqB,gBAAgB,EAAE;IACzB;IACArB,MAAM,CAACqB,gBAAgB,CAACuF,GAAG,CAAC,QAAQ,CAAC;EACzC,CAAC,MACI;IACDpI,6CAAC,CAAC,WAAW,CAAC,CAACoI,GAAG,CAAC,sBAAsB,CAAC;EAC9C;EACApI,6CAAC,CAAC,MAAM,CAAC,CAACoI,GAAG,CAAC,OAAO,EAAE,0BAA0B,CAAC;EAClDpI,6CAAC,CAAC,MAAM,CAAC,CAACoI,GAAG,CAAC,OAAO,EAAE,kBAAkB,CAAC;EAC1CpI,6CAAC,CAAC,MAAM,CAAC,CAACoI,GAAG,CAAC,OAAO,EAAE,eAAe,CAAC;EACvCpI,6CAAC,CAAC,MAAM,CAAC,CAACoI,GAAG,CAAC,OAAO,EAAE,eAAe,CAAC;EACvCpI,6CAAC,CAAC,MAAM,CAAC,CAACoI,GAAG,CAAC,OAAO,EAAE,mHAAmH,CAAC;EAC3IpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,QAAQ,EAAE,cAAc,CAAC;EACzCpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,OAAO,EAAE,UAAU,CAAC;EACpCpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,OAAO,EAAE,WAAW,CAAC;EACrCpI,6CAAC,CAAC+C,QAAQ,CAAC,CAACqF,GAAG,CAAC,OAAO,EAAE,iBAAiB,CAAC;EAC3CpI,6CAAC,CAAC,eAAe,CAAC,CAACoI,GAAG,CAAC,UAAU,CAAC;AACtC,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAnI,kDAAI,CAACoI,cAAc,CAAC,QAAQ,EAAE,YAAY;EACtC;EACA,IAAI7G,MAAM,CAACqB,gBAAgB,IAAIE,QAAQ,CAACC,OAAO,EAAE;IAC7C1B,GAAG,CAACe,gBAAgB,CAAC,CAAC;EAC1B;EACArC,6CAAC,CAAC,YAAY;IACV,IAAIwB,MAAM,CAACqB,gBAAgB,EAAE;MACzBrB,MAAM,CAACqB,gBAAgB,CAACyF,EAAE,CAAC,QAAQ,EAAE,YAAY;QAC7ChH,GAAG,CAACH,QAAQ,CAACK,MAAM,CAACqB,gBAAgB,CAACqC,QAAQ,CAAC,CAAC,CAAC;MACpD,CAAC,CAAC;IACN,CAAC,MACI;MACDlF,6CAAC,CAAC,WAAW,CAAC,CAACsI,EAAE,CAAC,sBAAsB,EAAE,YAAY;QAClDhH,GAAG,CAACH,QAAQ,CAACnB,6CAAC,CAAC,WAAW,CAAC,CAACsC,GAAG,CAAC,CAAC,CAAC;MACtC,CAAC,CAAC;MACF,IAAIiG,oBAAoB,GAAG3H,oFAAkB,CAAC,cAAc,CAAC,IAAI,OAAOY,MAAM,CAACC,YAAY,CAAC+G,gBAAgB,KAAK,WAAW;MAC5H;MACA,IAAIxI,6CAAC,CAAC,kBAAkB,CAAC,KAAKuC,SAAS,IAAIvC,6CAAC,CAAC,kBAAkB,CAAC,CAACyI,EAAE,CAAC,UAAU,CAAC,EAAE;QAC7EzI,6CAAC,CAAC,0BAA0B,CAAC,CAACsI,EAAE,CAAC,QAAQ,EAAE,YAAY;UACnDhH,GAAG,CAAC6B,gBAAgB,CAACnD,6CAAC,CAAC,IAAI,CAAC,CAACsC,GAAG,CAAC,CAAC,CAAC;QACvC,CAAC,CAAC;QACFtC,6CAAC,CAAC,WAAW,CAAC,CAACsI,EAAE,CAAC,OAAO,EAAE,YAAY;UACnChH,GAAG,CAAC8B,kBAAkB,CAAC,CAAC;QAC5B,CAAC,CAAC;MACN,CAAC,MACI;QACD9B,GAAG,CAAC8B,kBAAkB,CAAC,CAAC;MAC5B;MACA;MACA,IAAIsF,eAAe,GAAGH,oBAAoB,GACpC/G,MAAM,CAACC,YAAY,CAAC+G;MACtB;MAAA,EACEhH,MAAM,CAACG,OAAO,CAACG,GAAG,CAAC,kBAAkB,EAAE;QAAED,IAAI,EAAEvB,4DAAY,CAACwB,GAAG,CAAC,UAAU;MAAE,CAAC,CAAC;MACpF,IAAI,OAAO4G,eAAe,KAAK,WAAW,IAAIA,eAAe,KAAK1I,6CAAC,CAAC,0BAA0B,CAAC,CAACsC,GAAG,CAAC,CAAC,IAAItC,6CAAC,CAAC,yCAAyC,GAAG0I,eAAe,GAAG,IAAI,CAAC,CAACrD,MAAM,KAAK,CAAC,EAAE;QACzLrF,6CAAC,CAAC,0BAA0B,CAAC,CAACsC,GAAG,CAACoG,eAAe,CAAC,CAACC,OAAO,CAAC,QAAQ,CAAC;MACxE;IACJ;EACJ,CAAC,CAAC;EACF;EACA3I,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,OAAO,EAAE,mBAAmB,EAAE,UAAUM,CAAC,EAAE;IACtDA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAIC,QAAQ,GAAGtH,MAAM,CAACuH,OAAO,CAACvH,MAAM,CAAC+D,QAAQ,CAACyD,cAAc,EAAEtI,wEAAU,CAACV,6CAAC,CAAC,IAAI,CAAC,CAACiJ,OAAO,CAAC,IAAI,CAAC,CAACrF,IAAI,CAAC,KAAK,CAAC,CAACW,IAAI,CAAC,CAAC,CAAC,CAAC;IACnH,IAAI2E,KAAK,GAAGlJ,6CAAC,CAAC,IAAI,CAAC;IACnBkJ,KAAK,CAACC,OAAO,CAACL,QAAQ,EAAEI,KAAK,CAAClF,IAAI,CAAC,MAAM,CAAC,EAAE,UAAUuC,GAAG,EAAE;MACvD9F,yEAAe,CAAC,CAAC;MACjB,IAAI2I,MAAM,GAAG9I,4DAAY,CAACwB,GAAG,CAAC,eAAe,CAAC;MAC9C,IAAIsE,MAAM,GAAG,gBAAgB,GAAGgD,MAAM,GAAG,mBAAmB;MAC5D,IAAIC,QAAQ,GAAGH,KAAK,CAACI,WAAW,CAAC,CAAC;MAClC,IAAID,QAAQ,EAAE;QACVjD,MAAM,IAAIgD,MAAM,GAAGC,QAAQ;MAC/B;MACArJ,kDAAM,CAACuG,GAAG,EAAEH,MAAM,EAAE,UAAUI,IAAI,EAAE;QAChC,IAAIA,IAAI,CAACC,OAAO,EAAE;UACdhG,yEAAe,CAAC+F,IAAI,CAACgD,OAAO,CAAC;UAC7BN,KAAK,CAACD,OAAO,CAAC,IAAI,CAAC,CAAC5E,MAAM,CAAC,CAAC;QAChC,CAAC,MACI;UACD5D,yEAAe,CAAC+F,IAAI,CAACG,KAAK,EAAE,KAAK,CAAC;QACtC;MACJ,CAAC,CAAC;IACN,CAAC,CAAC;EACN,CAAC,CAAC;EACF;EACA3G,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,QAAQ,EAAE,oBAAoB,EAAE,UAAUM,CAAC,EAAE;IACxDA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBpI,yEAAe,CAAC,CAAC;IACjB,IAAI2I,MAAM,GAAG9I,4DAAY,CAACwB,GAAG,CAAC,eAAe,CAAC;IAC9C9B,kDAAM,CAACA,6CAAC,CAAC,IAAI,CAAC,CAACgE,IAAI,CAAC,QAAQ,CAAC,EAAE,gBAAgB,GAAGoF,MAAM,GAAGpJ,6CAAC,CAAC,IAAI,CAAC,CAACyJ,SAAS,CAAC,CAAC,EAAE,UAAUjD,IAAI,EAAE;MAC5F,IAAIA,IAAI,CAACC,OAAO,EAAE;QACdhG,yEAAe,CAAC+F,IAAI,CAACgD,OAAO,CAAC;MACjC,CAAC,MACI;QACD/I,yEAAe,CAAC+F,IAAI,CAACG,KAAK,EAAE,KAAK,CAAC;MACtC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;EACF;EACA3G,6CAAC,CAAC,iBAAiB,CAAC,CAACsI,EAAE,CAAC,OAAO,EAAE,YAAY;IACzCtI,6CAAC,CAAC,8CAA8C,CAAC,CAC5C0J,MAAM,CAAC,CAAC,CACRC,MAAM,CAAC3J,6CAAC,CAAC,IAAI,CAAC,CAACsC,GAAG,CAAC,CAAC,CAAC+C,MAAM,GAAG,CAAC,CAAC;EACzC,CAAC,CAAC,CAACsD,OAAO,CAAC,OAAO,CAAC;EACnB;AACJ;AACA;EACI3I,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,OAAO,EAAE,kBAAkB,EAAE,UAAUsB,KAAK,EAAE;IACzDA,KAAK,CAACf,cAAc,CAAC,CAAC;IACtB,IAAIgB,QAAQ,GAAG9G,QAAQ,CAAC+G,aAAa,CAAC,UAAU,CAAC;IACjD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAD,QAAQ,CAACE,KAAK,CAACC,QAAQ,GAAG,OAAO;IACjCH,QAAQ,CAACE,KAAK,CAACE,GAAG,GAAG,GAAG;IACxBJ,QAAQ,CAACE,KAAK,CAACG,IAAI,GAAG,GAAG;IACzB;IACA;IACAL,QAAQ,CAACE,KAAK,CAACI,KAAK,GAAG,KAAK;IAC5BN,QAAQ,CAACE,KAAK,CAACK,MAAM,GAAG,KAAK;IAC7B;IACAP,QAAQ,CAACE,KAAK,CAACM,OAAO,GAAG,GAAG;IAC5B;IACAR,QAAQ,CAACE,KAAK,CAACO,MAAM,GAAG,MAAM;IAC9BT,QAAQ,CAACE,KAAK,CAACQ,OAAO,GAAG,MAAM;IAC/BV,QAAQ,CAACE,KAAK,CAACS,SAAS,GAAG,MAAM;IACjC;IACAX,QAAQ,CAACE,KAAK,CAACU,UAAU,GAAG,aAAa;IACzCZ,QAAQ,CAAC3G,KAAK,GAAG,EAAE;IACnBlD,6CAAC,CAAC,sBAAsB,CAAC,CAAC0K,IAAI,CAAC,YAAY;MACvCb,QAAQ,CAAC3G,KAAK,IAAIlD,6CAAC,CAAC,IAAI,CAAC,CAACwG,IAAI,CAAC,UAAU,CAAC,GAAG,GAAG;IACpD,CAAC,CAAC;IACFqD,QAAQ,CAAC3G,KAAK,IAAI,MAAM,GAAG1B,MAAM,CAACmJ,QAAQ,CAACC,IAAI;IAC/Cf,QAAQ,CAAC3G,KAAK,IAAI,IAAI;IACtBlD,6CAAC,CAAC,gBAAgB,CAAC,CAAC0K,IAAI,CAAC,YAAY;MACjCb,QAAQ,CAAC3G,KAAK,IAAIlD,6CAAC,CAAC,IAAI,CAAC,CAACuE,IAAI,CAAC,CAAC,GAAG,MAAM;IAC7C,CAAC,CAAC;IACFvE,6CAAC,CAAC,UAAU,CAAC,CAAC0K,IAAI,CAAC,YAAY;MAC3Bb,QAAQ,CAAC3G,KAAK,IAAIlD,6CAAC,CAAC,IAAI,CAAC,CAACuE,IAAI,CAAC,CAAC,GAAG,MAAM;IAC7C,CAAC,CAAC;IACFvE,6CAAC,CAAC,kCAAkC,CAAC,CAAC0K,IAAI,CAAC,YAAY;MACnD;MACAb,QAAQ,CAAC3G,KAAK,IAAIlD,6CAAC,CAAC,IAAI,CAAC,CAACmE,KAAK,CAAC,CAAC,CAACP,IAAI,CAAC,OAAO,CAAC,CAACS,MAAM,CAAC,CAAC,CAACC,GAAG,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,GAAG,IAAI;IAChF,CAAC,CAAC;IACFsF,QAAQ,CAAC3G,KAAK,IAAI,IAAI;IACtBlD,6CAAC,CAAC,yBAAyB,CAAC,CAAC0K,IAAI,CAAC,YAAY;MAC1C1K,6CAAC,CAAC,IAAI,CAAC,CAAC4D,IAAI,CAAC,YAAY,CAAC,CAAC8G,IAAI,CAAC,YAAY;QACxC;QACA,IAAIlE,IAAI,GAAGxG,6CAAC,CAAC,IAAI,CAAC,CAAC4D,IAAI,CAAC,IAAI,CAAC,CAACyB,MAAM,KAAK,CAAC,GAAGrF,6CAAC,CAAC,IAAI,CAAC,CAAC4D,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;QACzEiG,QAAQ,CAAC3G,KAAK,IAAIlD,6CAAC,CAACwG,IAAI,CAAC,CAACjC,IAAI,CAAC,CAAC,GAAG,IAAI;MAC3C,CAAC,CAAC;MACFsF,QAAQ,CAAC3G,KAAK,IAAI,IAAI;IAC1B,CAAC,CAAC;IACF;IACAH,QAAQ,CAAC8H,IAAI,CAACC,WAAW,CAACjB,QAAQ,CAAC;IACnCA,QAAQ,CAACjE,MAAM,CAAC,CAAC;IACjB,IAAI;MACA7C,QAAQ,CAACgI,WAAW,CAAC,MAAM,CAAC;IAChC,CAAC,CACD,OAAOC,GAAG,EAAE;MACRC,KAAK,CAAC,uBAAuB,CAAC;IAClC;IACA;IACAlI,QAAQ,CAAC8H,IAAI,CAACK,WAAW,CAACrB,QAAQ,CAAC;EACvC,CAAC,CAAC,CAAC,CAAC;EACJ;AACJ;AACA;AACA;AACA;EACI7J,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,UAAU,EAAE,kBAAkB,EAAE,YAAY;IACvDtI,6CAAC,CAAC,gBAAgB,CAAC,CAAC0K,IAAI,CAAC,YAAY;MACjClJ,MAAM,CAAC2J,QAAQ,CAAC,IAAI,CAAC;IACzB,CAAC,CAAC;EACN,CAAC,CAAC;EACF;AACJ;AACA;AACA;AACA;AACA;EACI;EACA,IAAI,CAACnL,6CAAC,CAAC,eAAe,CAAC,CAAC4D,IAAI,CAAC,QAAQ,CAAC,CAAC6E,EAAE,CAAC,iBAAiB,CAAC,EAAE;IAC1DzI,6CAAC,CAAC,iEAAiE,CAAC,CAC/DiG,IAAI,CAACzE,MAAM,CAAC+D,QAAQ,CAAC6F,eAAe,CAAC,CACrCC,QAAQ,CAAC,eAAe;IACzB;IACA;IAAA,CACCC,IAAI,CAAC,CAAC;IACX;IACAtL,6CAAC,CAAC,iBAAiB,CAAC,CAACsI,EAAE,CAAC,OAAO,EAAE,YAAY;MACzC,IAAIY,KAAK,GAAGlJ,6CAAC,CAAC,IAAI,CAAC;MACnBkJ,KAAK,CAACqC,QAAQ,CAAC,CAAC,CAACC,WAAW,CAAC,MAAM,CAAC;MACpC,IAAItC,KAAK,CAAC3E,IAAI,CAAC,CAAC,KAAK/C,MAAM,CAAC+D,QAAQ,CAAC6F,eAAe,EAAE;QAClDlC,KAAK,CAAC3E,IAAI,CAAC/C,MAAM,CAAC+D,QAAQ,CAACkG,eAAe,CAAC;QAC3C;QACA;QACAzL,6CAAC,CAAC,wBAAwB,CAAC,CAACqE,MAAM,CAAC,CAAC;QACpC6E,KAAK,CAAC5D,MAAM,CAAC,iCAAiC,CAAC;MACnD,CAAC,MACI;QACD4D,KAAK,CAAC3E,IAAI,CAAC/C,MAAM,CAAC+D,QAAQ,CAAC6F,eAAe,CAAC;MAC/C;MACA;MACA,OAAO,KAAK;IAChB,CAAC,CAAC;EACN;EACA;AACJ;AACA;AACA;AACA;EACIpL,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,OAAO,EAAE,sBAAsB,EAAE,YAAY;IACxDtI,6CAAC,CAAC,8BAA8B,CAAC,CAACsL,IAAI,CAAC,CAAC;IACxC;IACA,IAAII,KAAK,GAAG1L,6CAAC,CAAC,IAAI,CAAC,CAACiJ,OAAO,CAAC,MAAM,CAAC;IACnC;IACA;IACA;IACA;IACAyC,KAAK,CAAC9H,IAAI,CAAC,0BAA0B,CAAC,CAACtB,GAAG,CAAC,EAAE,CAAC;IAC9C,IAAIqJ,WAAW,GAAG3L,6CAAC,CAAC,0BAA0B,CAAC,CAACyI,EAAE,CAAC,UAAU,CAAC;IAC9D,IAAIkD,WAAW,EAAE;MACbnK,MAAM,CAACC,YAAY,CAACM,aAAa,GAAG,GAAG;MACvC,IAAIC,EAAE,GAAGhC,6CAAC,CAAC,kBAAkB,CAAC,CAACsC,GAAG,CAAC,CAAC;MACpC,IAAIL,KAAK,GAAGjC,6CAAC,CAAC,qBAAqB,CAAC,CAACsC,GAAG,CAAC,CAAC;MAC1C,IAAIlB,KAAK;MACT,IAAII,MAAM,CAACqB,gBAAgB,EAAE;QACzBzB,KAAK,GAAGI,MAAM,CAACqB,gBAAgB,CAACqC,QAAQ,CAAC,CAAC;MAC9C,CAAC,MACI;QACD9D,KAAK,GAAGpB,6CAAC,CAAC,WAAW,CAAC,CAACsC,GAAG,CAAC,CAAC;MAChC;MACAhB,GAAG,CAACS,aAAa,CAACC,EAAE,EAAEC,KAAK,EAAEb,KAAK,CAAC;IACvC,CAAC,MACI;MACDI,MAAM,CAACC,YAAY,CAACM,aAAa,GAAG,GAAG;IAC3C;EACJ,CAAC,CAAC;EACF;AACJ;AACA;AACA;EACI/B,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,QAAQ,EAAE,cAAc,EAAE,YAAY;IACjD,IAAIsD,QAAQ,GAAG5L,6CAAC,CAAC,IAAI,CAAC,CAAC4D,IAAI,CAAC,iBAAiB,CAAC,CAAC4C,IAAI,CAAC,UAAU,CAAC;IAC/D,IAAI,OAAOoF,QAAQ,KAAK,WAAW,EAAE;MACjCA,QAAQ,GAAG,CAAC;IAChB;IACA,IAAIC,OAAO,GAAG7L,6CAAC,CAAC,oBAAoB,CAAC;IACrC6L,OAAO,CAACC,KAAK,CAAC,CAAC;IACf,KAAK,IAAIzE,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIuE,QAAQ,EAAEvE,CAAC,EAAE,EAAE;MAChCwE,OAAO,CAAClH,MAAM,CAAC3E,6CAAC,CAAC,oBAAoB,CAAC,CAAC;MACvC6L,OAAO,CAAClH,MAAM,CAAC3E,6CAAC,CAAC,8BAA8B,GAAGqH,CAAC,GAAG,IAAI,GAAG7F,MAAM,CAACuH,OAAO,CAACvH,MAAM,CAAC+D,QAAQ,CAACwG,mBAAmB,EAAE1E,CAAC,CAAC,GAAG,UAAU,CAAC,CAAC;MAClIwE,OAAO,CAAClH,MAAM,CAAC3E,6CAAC,CAAC,4EAA4E,GAAGqH,CAAC,GAAG,yBAAyB,GAAGA,CAAC,GAAG,IAAI,CAAC,CAAC;MAC1IwE,OAAO,CAAClH,MAAM,CAAC3E,6CAAC,CAAC,QAAQ,CAAC,CAAC;IAC/B;IACA,IAAI4L,QAAQ,KAAK,CAAC,EAAE;MAChBC,OAAO,CAACnC,MAAM,CAAC,CAAC,CAAC4B,IAAI,CAAC,CAAC;IAC3B,CAAC,MACI;MACDO,OAAO,CAACnC,MAAM,CAAC,CAAC,CAACsC,IAAI,CAAC,CAAC;IAC3B;EACJ,CAAC,CAAC;EACF;AACJ;AACA;AACA;AACA;AACA;EACIhM,6CAAC,CAAC,+BAA+B,CAAC,CAACsI,EAAE,CAAC,UAAU,EAAE,UAAUsB,KAAK,EAAE;IAC/D;IACA,IAAIqC,OAAO,GAAIrC,KAAK,CAACsC,OAAO,GAAGtC,KAAK,CAACsC,OAAO,GAAItC,KAAK,CAACuC,KAAK,GAAGvC,KAAK,CAACuC,KAAK,GAAGvC,KAAK,CAACwC,QAAU;IAC5F,IAAIH,OAAO,KAAK,EAAE,EAAE;MAAE;MAClB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAjM,6CAAC,CAAC,yBAAyB,CAAC,CAAC2I,OAAO,CAAC,OAAO,CAAC;MAC7C,OAAO,KAAK;IAChB,CAAC,MACI;MACD,OAAO,IAAI;IACf;EACJ,CAAC,CAAC;EACF;AACJ;AACA;AACA;AACA;AACA;AACA;EACI3I,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,QAAQ,EAAE,oBAAoB,EAAE,UAAUsB,KAAK,EAAE;IAC5DA,KAAK,CAACf,cAAc,CAAC,CAAC;IACtB,IAAI6C,KAAK,GAAG1L,6CAAC,CAAC,IAAI,CAAC;IACnB,IAAIwB,MAAM,CAACqB,gBAAgB,EAAE;MACzB6I,KAAK,CAAC,CAAC,CAAC,CAACW,QAAQ,CAACpJ,SAAS,CAACC,KAAK,GAAG1B,MAAM,CAACqB,gBAAgB,CAACqC,QAAQ,CAAC,CAAC;IAC1E;IACA,IAAI,CAAC/E,oEAAa,CAACuL,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;MAC1B,OAAO,KAAK;IAChB;IACA;IACA1L,6CAAC,CAAC,eAAe,CAAC,CAACqE,MAAM,CAAC,CAAC;IAC3B,IAAIiI,OAAO,GAAG7L,yEAAe,CAAC,CAAC;IAC/B,IAAI8L,qBAAqB,GAAGvM,6CAAC,CAAC,uBAAuB,CAAC;IACtDI,4EAAqB,CAACsL,KAAK,CAAC;IAC5B,IAAItC,MAAM,GAAG9I,4DAAY,CAACwB,GAAG,CAAC,eAAe,CAAC;IAC9C9B,kDAAM,CAAC0L,KAAK,CAAC1H,IAAI,CAAC,QAAQ,CAAC,EAAE0H,KAAK,CAACjC,SAAS,CAAC,CAAC,GAAGL,MAAM,GAAG,wBAAwB,EAAE,UAAU5C,IAAI,EAAE;MAChG,IAAI,OAAOA,IAAI,KAAK,WAAW,IAAIA,IAAI,CAACC,OAAO,KAAK,IAAI,EAAE;QACtD;QACA;QACA,IAAI,OAAOD,IAAI,CAACgG,eAAe,KAAK,WAAW,EAAE;UAC7C;UACA,IAAI,GAAG,KAAKhG,IAAI,CAACgG,eAAe,EAAE;YAC9BxM,6CAAC,CAAC,WAAW,CAAC,CAACuE,IAAI,CAACiC,IAAI,CAACvD,SAAS,CAAC;YACnC;YACA4C,QAAQ,CAACW,IAAI,CAACvD,SAAS,CAAC;UAC5B;UACA;UACA,IAAI,GAAG,KAAKuD,IAAI,CAACgG,eAAe,EAAE;YAC9BxM,6CAAC,CAAC,8BAA8B,GAAGwG,IAAI,CAACiG,WAAW,GAAG,KAAK,CAAC,CAACpI,MAAM,CAAC,CAAC;YACrE;YACA;YACA,IAAIrE,6CAAC,CAAC,qBAAqB,CAAC,CAACqF,MAAM,KAAK,CAAC,EAAE;cACvCrF,6CAAC,CAAC,0BAA0B,CAAC,CAACsL,IAAI,CAAC,CAAC;cACpCtL,6CAAC,CAAC,gCAAgC,CAAC,CAACsL,IAAI,CAAC,CAAC;YAC9C;UACJ;QACJ;QACAiB,qBAAqB,CAChBP,IAAI,CAAC,CAAC,CACN/F,IAAI,CAACO,IAAI,CAACgD,OAAO,CAAC;QACvBjJ,qEAAY,CAACgM,qBAAqB,CAAC;QACnC,IAAI/F,IAAI,CAACkG,IAAI,EAAE;UACXC,OAAO,CAACC,YAAY,CAAC;YACjBF,IAAI,EAAElG,IAAI,CAACkG;UACf,CAAC,EAAE,IAAI,CAAC;UACRzM,kDAAI,CAAC4M,UAAU,CAAC7L,OAAO,CAACwF,IAAI,CAACkG,IAAI,CAAC;QACtC;QACA,IAAIlG,IAAI,CAACJ,MAAM,EAAE;UACb/F,8DAAU,CAACyM,MAAM,CAACxM,4DAAY,CAACyM,MAAM,CAACvG,IAAI,CAACJ,MAAM,CAAC,CAAC;QACvD;QACA,IAAI,OAAOI,IAAI,CAACwG,WAAW,KAAK,WAAW,EAAE;UACzC,IAAIxG,IAAI,CAACwG,WAAW,CAACC,MAAM,EAAE;YACzB,IAAIzG,IAAI,CAACwG,WAAW,CAACE,UAAU,EAAE;cAC7B7M,8DAAU,CAACyM,MAAM,CAACxM,4DAAY,CAACsB,GAAG,CAAC,OAAO,EAAE4E,IAAI,CAACwG,WAAW,CAACE,UAAU,CAAC,CAAC;cACzEvM,oFAAkB,CAAC,CAAC;YACxB,CAAC,MACI;cACDN,8DAAU,CAAC4M,MAAM,CAAC,CAAC;YACvB;UACJ;QACJ,CAAC,MACI,IAAI,OAAOzG,IAAI,CAACyG,MAAM,KAAK,WAAW,EAAE;UACzC;UACA,IAAIzG,IAAI,CAACxE,EAAE,KAAK1B,4DAAY,CAACwB,GAAG,CAAC,IAAI,CAAC,EAAE;YACpCzB,8DAAU,CAACyM,MAAM,CAACxM,4DAAY,CAACyM,MAAM,CAAC;cAAE,IAAI,EAAEvG,IAAI,CAACxE,EAAE;cAAE,OAAO,EAAE;YAAG,CAAC,CAAC,CAAC;UAC1E;UACA,IAAIuE,GAAG;UACP,IAAIC,IAAI,CAACxE,EAAE,EAAE;YACT,IAAIwE,IAAI,CAACvE,KAAK,EAAE;cACZsE,GAAG,GAAG,4BAA4B;YACtC,CAAC,MACI;cACDA,GAAG,GAAG,+BAA+B;YACzC;UACJ,CAAC,MACI;YACDA,GAAG,GAAG,6BAA6B;UACvC;UACA5F,oFAAkB,CAAC4F,GAAG,CAAC;UACvBtG,kDAAI,CAACkN,QAAQ,GAAG,MAAM;YAClBnN,6CAAC,CAAC,uBAAuB,CAAC,CACrBgM,IAAI,CAAC,CAAC,CACN/F,IAAI,CAACO,IAAI,CAACgD,OAAO,CAAC;YACvBjJ,qEAAY,CAACP,6CAAC,CAAC,uBAAuB,CAAC,CAAC;UAC5C,CAAC;QACL;QACAA,6CAAC,CAAC,kBAAkB,CAAC,CAAC2I,OAAO,CAAC,UAAU,CAAC;QACzC3I,6CAAC,CAAC,iBAAiB,CAAC,CAACgM,IAAI,CAAC,CAAC;QAC3B,IAAI,OAAOxF,IAAI,CAACgG,eAAe,KAAK,WAAW,EAAE;UAC7C,IAAIxM,6CAAC,CAAC,8CAA8C,CAAC,CAACyI,EAAE,CAAC,UAAU,CAAC,KAAK,IAAI,EAAE;YAC3E,IAAIzI,6CAAC,CAAC,iBAAiB,CAAC,CAACuL,QAAQ,CAAC,UAAU,CAAC,CAAClG,MAAM,GAAG,CAAC,EAAE;cACtDrF,6CAAC,CAAC,iBAAiB,CAAC,CAAC2I,OAAO,CAAC,OAAO,CAAC;YACzC;UACJ;QACJ;MACJ,CAAC,MACI,IAAI,OAAOnC,IAAI,KAAK,WAAW,IAAIA,IAAI,CAACC,OAAO,KAAK,KAAK,EAAE;QAC5D;QACA8F,qBAAqB,CAChBP,IAAI,CAAC,CAAC,CACN/F,IAAI,CAACO,IAAI,CAACG,KAAK,CAAC;QACrB3G,6CAAC,CAAC,YAAY,CAAC,CAACoN,OAAO,CAAC;UAAEC,SAAS,EAAErN,6CAAC,CAAC+C,QAAQ,CAAC,CAACqH,MAAM,CAAC;QAAE,CAAC,EAAE,GAAG,CAAC;MACrE;MACA5J,2EAAiB,CAAC8L,OAAO,CAAC;IAC9B,CAAC,CAAC,CAAC,CAAC;EACR,CAAC,CAAC,CAAC,CAAC;EACJ;AACJ;AACA;AACA;AACA;EACItM,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,QAAQ,EAAE,wCAAwC,EAAE,UAAUsB,KAAK,EAAE;IAChFA,KAAK,CAACf,cAAc,CAAC,CAAC;IACtB,IAAI6C,KAAK,GAAG1L,6CAAC,CAAC,IAAI,CAAC;IACnB,IAAIsM,OAAO,GAAG7L,yEAAe,CAAC,CAAC;IAC/B,IAAI2I,MAAM,GAAG9I,4DAAY,CAACwB,GAAG,CAAC,eAAe,CAAC;IAC9C9B,kDAAM,CAAC0L,KAAK,CAAC1H,IAAI,CAAC,QAAQ,CAAC,EAAE0H,KAAK,CAACjC,SAAS,CAAC,CAAC,GAAGL,MAAM,GAAG,mBAAmB,EAAE,UAAU5C,IAAI,EAAE;MAC3FhG,2EAAiB,CAAC8L,OAAO,CAAC;MAC1B,IAAIgB,gBAAgB,GAAG5B,KAAK,CAAC6B,OAAO,CAAC,kBAAkB,CAAC;MACxDD,gBAAgB,CACXrH,IAAI,CAACO,IAAI,CAACgD,OAAO,CAAC,CAClBb,OAAO,CAAC,UAAU,CAAC;MACxBpI,qEAAY,CAAC+M,gBAAgB,CAAC;IAClC,CAAC,CAAC,CAAC,CAAC;EACR,CAAC,CAAC,CAAC,CAAC;EACJ;EACAtN,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,OAAO,EAAE,cAAc,EAAE,YAAY;IAChD,IAAIkF,QAAQ,GAAGxN,6CAAC,CAAC,IAAI,CAAC,CAACwG,IAAI,CAAC,KAAK,CAAC;IAClC,IAAIiH,YAAY,GAAGzN,6CAAC,CAAC,iCAAiC,GAAGwN,QAAQ,GAAG,KAAK,CAAC;IAC1E,IAAIE,YAAY,GAAGD,YAAY,CAAC7J,IAAI,CAAC,iBAAiB,CAAC;IACvD,IAAI+J,aAAa,GAAG,EAAE;IACtB;IACA,IAAIC,gBAAgB,GAAIH,YAAY,CAAC7J,IAAI,CAAC,iBAAiB,CAAC,CAAEC,KAAK,CAAC,CAAC;IACrE,IAAIgK,OAAO,GAAID,gBAAgB,CAAC,CAAC,CAAC,CAACE,YAAY,CAAC,SAAS,CAAC,KAAK,IAAI,GAAI,+FAA+F,GAAG,EAAE,CAAC,CAAC;IAC7K;IACAJ,YAAY,CAAChD,IAAI,CAAC,YAAY;MAC1BiD,aAAa,CAACI,IAAI,CAAC/N,6CAAC,CAAC,IAAI,CAAC,CAACuE,IAAI,CAAC,CAAC,CAACK,IAAI,CAAC,CAAC,CAAC;IAC7C,CAAC,CAAC;IACF,IAAIoJ,MAAM,GAAGhO,6CAAC,CAAC,IAAI,CAAC,CAACsC,GAAG,CAAC,CAAC;IAC1B;IACAtC,6CAAC,CAAC,0BAA0B,GAAGwN,QAAQ,GAAG,KAAK,CAAC,CAACS,GAAG,CAAC,IAAI,CAAC,CAAC3L,GAAG,CAAC0L,MAAM,CAAC;IACtE;IACAP,YAAY,CAAC7J,IAAI,CAAC,YAAY,CAAC,CAACsK,OAAO,CAACL,OAAO,CAAC;IAChD7N,2DAAe,CAACyN,YAAY,EAAEO,MAAM,EAAEL,aAAa,CAAC;IACpDF,YAAY,CAAC7J,IAAI,CAAC,aAAa,CAAC,CAACS,MAAM,CAAC,CAAC;EAC7C,CAAC,CAAC;EACF;EACA;EACArE,6CAAC,CAAC,MAAM,CAAC,CAACsI,EAAE,CAAC,OAAO,EAAE,0BAA0B,EAAE,UAAUM,CAAC,EAAE;IAC3DA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI6C,KAAK,GAAG1L,6CAAC,CAAC,IAAI,CAAC,CAACuN,OAAO,CAAC,MAAM,CAAC;IACnC,MAAMa,iBAAiB,GAAG,SAAAA,CAAA,EAAY;MAClC,IAAIhF,MAAM,GAAG9I,4DAAY,CAACwB,GAAG,CAAC,eAAe,CAAC;MAC9C,IAAIuM,UAAU,GAAG3C,KAAK,CAACjC,SAAS,CAAC,CAAC,GAAGL,MAAM,GAAG,mBAAmB,GAAGA,MAAM,GAAG,wBAAwB;MACrG3I,yEAAe,CAAC,CAAC;MACjBR,kDAAI,CAACqO,MAAM,GAAG5C,KAAK;MACnB1L,kDAAM,CAAC0L,KAAK,CAAC1H,IAAI,CAAC,QAAQ,CAAC,EAAEqK,UAAU,EAAEpO,kDAAI,CAACsO,eAAe,CAAC;IAClE,CAAC;IACD,IAAI,CAACvO,6CAAC,CAAC,IAAI,CAAC,CAACyI,EAAE,CAAC,UAAU,CAAC,EAAE;MAAE;MAC3B2F,iBAAiB,CAAC,CAAC;IACvB,CAAC,MACI;MACD1C,KAAK,CAACvC,OAAO,CAAC3H,MAAM,CAAC+D,QAAQ,CAACiJ,qBAAqB,EAAE9C,KAAK,CAAC1H,IAAI,CAAC,QAAQ,CAAC,EAAE,YAAY;QACnFoK,iBAAiB,CAAC,CAAC;MACvB,CAAC,CAAC;IACN;EACJ,CAAC,CAAC;EACFpO,6CAAC,CAAC,MAAM,CAAC,CAACsI,EAAE,CAAC,OAAO,EAAE,eAAe,EAAE,YAAY;IAC/CvD,yBAAyB,CAAC,CAAC;EAC/B,CAAC,CAAC;EACF;AACJ;AACA;EACI/E,6CAAC,CAAC,MAAM,CAAC,CAACsI,EAAE,CAAC,OAAO,EAAE,eAAe,EAAE,YAAY;IAC/C,IAAIoD,KAAK,GAAG1L,6CAAC,CAAC,eAAe,CAAC;IAC9B,IAAIoB,KAAK,GAAG,EAAE;IACd,IAAIqN,SAAS,GAAGzO,6CAAC,CAAC,mBAAmB,CAAC,CAACsC,GAAG,CAAC,CAAC;IAC5C,IAAIoM,MAAM,GAAGhD,KAAK,CAAC9H,IAAI,CAAC,kBAAkB,CAAC,CAACtB,GAAG,CAAC,CAAC;IACjD,IAAId,MAAM,CAACqB,gBAAgB,EAAE;MACzBzB,KAAK,GAAGI,MAAM,CAACqB,gBAAgB,CAACqC,QAAQ,CAAC,CAAC;IAC9C,CAAC,MACI;MACD9D,KAAK,GAAGpB,6CAAC,CAAC,WAAW,CAAC,CAACsC,GAAG,CAAC,CAAC;IAChC;IACA,IAAIlB,KAAK,CAACiE,MAAM,KAAK,CAAC,EAAE;MACpB4F,KAAK,CAACzJ,MAAM,CAAC+D,QAAQ,CAACoJ,YAAY,CAAC;MACnC3O,6CAAC,CAAC,WAAW,CAAC,CAAC2I,OAAO,CAAC,OAAO,CAAC;MAC/B,OAAO,KAAK;IAChB;IACA,IAAI2D,OAAO,GAAG7L,yEAAe,CAAC,CAAC;IAC/BT,kDAAM,CAAC;MACHsG,IAAI,EAAE,MAAM;MACZC,GAAG,EAAE,sCAAsC;MAC3CC,IAAI,EAAE;QACF,QAAQ,EAAElG,4DAAY,CAACwB,GAAG,CAAC,QAAQ,CAAC;QACpC,IAAI,EAAE4M,MAAM;QACZ,cAAc,EAAE,GAAG;QACnB,WAAW,EAAEtN,KAAK;QAClB,eAAe,EAAEqN;MACrB,CAAC;MACDhI,OAAO,EAAE,SAAAA,CAAUmI,QAAQ,EAAE;QACzBpO,2EAAiB,CAAC8L,OAAO,CAAC;QAC1B,IAAIsC,QAAQ,CAACnI,OAAO,EAAE;UAClB,IAAIoI,aAAa,GAAG,2BAA2B;UAC/C,IAAID,QAAQ,CAACE,QAAQ,EAAE;YACnB,IAAIC,GAAG,GAAGH,QAAQ,CAACE,QAAQ,CAACzJ,MAAM;YAClC,KAAK,IAAIgC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0H,GAAG,EAAE1H,CAAC,EAAE,EAAE;cAC1BwH,aAAa,IAAI,UAAU,GAAGrN,MAAM,CAAC+D,QAAQ,CAACyJ,WAAW,GACrD,WAAW,GAAGJ,QAAQ,CAACE,QAAQ,CAACzH,CAAC,CAAC,CAACpE,SAAS,GAC5CzB,MAAM,CAAC+D,QAAQ,CAAC0J,eAAe,GAC/B,YAAY,GAAGL,QAAQ,CAACE,QAAQ,CAACzH,CAAC,CAAC,CAAC6H,gBAAgB,GACpD,IAAI,GAAGN,QAAQ,CAACE,QAAQ,CAACzH,CAAC,CAAC,CAAC8H,YAAY,GAAG,UAAU;cACzD,IAAI9H,CAAC,GAAG0H,GAAG,GAAG,CAAC,EAAE;gBACbF,aAAa,IAAI,MAAM;cAC3B;YACJ;UACJ,CAAC,MACI;YACDA,aAAa,IAAID,QAAQ,CAACpF,OAAO;UACrC;UACAqF,aAAa,IAAI,QAAQ;UACzB,IAAIO,cAAc,GAAGpP,6CAAC,CAAC6O,aAAa,CAAC;UACrC,IAAIQ,KAAK,GAAGrP,6CAAC,CAAC,mBAAmB,CAAC;UAClCqP,KAAK,CAACA,KAAK,CAAC,MAAM,CAAC;UACnBA,KAAK,CAACzL,IAAI,CAAC,aAAa,CAAC,CAACC,KAAK,CAAC;UAC5B;UAAA,CACCoC,IAAI,CAACmJ,cAAc,CAAC;UACzBC,KAAK,CAAC/G,EAAE,CAAC,gBAAgB,EAAE,YAAY;YACnC/H,qEAAY,CAAC8O,KAAK,CAAC;UACvB,CAAC,CAAC;QACN,CAAC,MACI;UACD5O,yEAAe,CAACmO,QAAQ,CAACjI,KAAK,CAAC;QACnC;MACJ,CAAC;MACDA,KAAK,EAAE,SAAAA,CAAA,EAAY;QACflG,yEAAe,CAACe,MAAM,CAAC+D,QAAQ,CAAC+J,yBAAyB,CAAC;MAC9D;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;EACF;AACJ;AACA;EACItP,6CAAC,CAAC,MAAM,CAAC,CAACsI,EAAE,CAAC,OAAO,EAAE,mHAAmH,EAAE,UAAUM,CAAC,EAAE;IACpJA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI0G,OAAO,GAAGvP,6CAAC,CAAC,IAAI,CAAC;IACrB,IAAIwP,MAAM,GAAGD,OAAO,CAACjN,GAAG,CAAC,CAAC;IAC1B,IAAIoJ,KAAK,GAAG6D,OAAO,CAACtG,OAAO,CAAC,MAAM,CAAC;IACnC,IAAIG,MAAM,GAAG9I,4DAAY,CAACwB,GAAG,CAAC,eAAe,CAAC;IAC9C,IAAIuM,UAAU,GAAG3C,KAAK,CAACjC,SAAS,CAAC,CAAC,GAAGL,MAAM,GAAG,mBAAmB,GAAGA,MAAM,GAAG,wBAAwB,GAAGA,MAAM;IAC9G3I,yEAAe,CAAC,CAAC;IACjBR,kDAAI,CAACqO,MAAM,GAAG5C,KAAK;IACnB,IAAInF,GAAG;IACP,IAAIiJ,MAAM,KAAK,MAAM,EAAE;MACnBnB,UAAU,GAAGA,UAAU,GAAGjF,MAAM,GAAG,uBAAuB;MAC1D7C,GAAG,GAAG,oCAAoC;IAC9C,CAAC,MACI,IAAIiJ,MAAM,KAAK,MAAM,EAAE;MACxBnB,UAAU,GAAGA,UAAU,GAAGjF,MAAM,GAAG,uBAAuB;MAC1D7C,GAAG,GAAG,oCAAoC;IAC9C,CAAC,MACI,IAAIiJ,MAAM,KAAK,QAAQ,EAAE;MAC1BjJ,GAAG,GAAG,oCAAoC;IAC9C,CAAC,MACI,IAAIiJ,MAAM,KAAK,QAAQ,EAAE;MAC1BjJ,GAAG,GAAG,uCAAuC;IACjD,CAAC,MACI;MACD;IACJ;IACAvG,kDAAM,CAACuG,GAAG,EAAE8H,UAAU,EAAEpO,kDAAI,CAACsO,eAAe,CAAC;EACjD,CAAC,CAAC;EACFvO,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,QAAQ,EAAE,cAAc,EAAE,YAAY;IACjD,IAAImH,YAAY,GAAGC,MAAM,CAAC1P,6CAAC,CAAC,IAAI,CAAC,CAAC4D,IAAI,CAAC,8BAA8B,CAAC,CAACtB,GAAG,CAAC,CAAC,CAAC;IAC7E,IAAIqN,YAAY,GAAGzP,8EAAuB,CAAC,IAAI,EAAE,kBAAkB,EAAEsB,MAAM,CAAC+D,QAAQ,CAACqK,oBAAoB,EAAE,CAAC,CAAC;IAC7G,IAAIC,QAAQ,GAAG3P,8EAAuB,CAAC,IAAI,EAAE,KAAK,EAAEsB,MAAM,CAAC+D,QAAQ,CAACqK,oBAAoB,EAAE,CAAC,EAAEH,YAAY,GAAG,CAAC,GAAGA,YAAY,GAAG,CAAC,GAAG,IAAI,CAAC;IACxI,OAAOE,YAAY,IAAIE,QAAQ;EACnC,CAAC,CAAC;EACF7P,6CAAC,CAAC,YAAY,CAAC,CAACsI,EAAE,CAAC,OAAO,EAAE,YAAY;IACpChB,gBAAgB,CAAC,CAAC;EACtB,CAAC,CAAC;EACFtH,6CAAC,CAAC,UAAU,CAAC,CAACsI,EAAE,CAAC,OAAO,EAAE,YAAY;IAClC7C,aAAa,CAAC,IAAI,CAAC;EACvB,CAAC,CAAC;EACFzF,6CAAC,CAAC,WAAW,CAAC,CAACsI,EAAE,CAAC,OAAO,EAAE,YAAY;IACnC,IAAItI,6CAAC,CAAC,IAAI,CAAC,CAACwG,IAAI,CAAC,sBAAsB,CAAC,KAAK,IAAI,EAAE;MAC/Cf,aAAa,CAAC,IAAI,CAAC;IACvB;EACJ,CAAC,CAAC;EACFzF,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,OAAO,EAAE,iBAAiB,EAAE,UAAUwH,GAAG,EAAE;IACtD/J,WAAW,CAAC+J,GAAG,CAACC,MAAM,CAACC,EAAE,CAAC;IAC1BjL,yBAAyB,CAAC,CAAC;IAC3B,OAAO,KAAK;EAChB,CAAC,CAAC;EACF/E,6CAAC,CAAC,eAAe,CAAC,CAACsI,EAAE,CAAC,UAAU,EAAE,MAAM;IACpChB,gBAAgB,CAAC,CAAC;EACtB,CAAC,CAAC;AACN,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS2I,oBAAoBA,CAACC,OAAO,EAAEC,QAAQ,EAA0B;EAAA,IAAxBC,UAAU,GAAAC,SAAA,CAAAhL,MAAA,QAAAgL,SAAA,QAAA9N,SAAA,GAAA8N,SAAA,MAAG9N,SAAS;EACnE;EACA,IAAI+N,OAAO,GAAGJ,OAAO,CAACxM,KAAK,CAAC,CAAC;EAC7B,IAAI6M,OAAO,GAAGL,OAAO,CAACjH,OAAO,CAAC,IAAI,CAAC,CAAC7E,QAAQ,CAAC,CAAC,CAACP,KAAK,CAAC,CAAC,CAACC,QAAQ,CAAC,eAAe,CAAC;EAChF;EACA,IAAIyM,OAAO,EAAE;IACTD,OAAO,EAAE;EACb;EACA,IAAIE,MAAM,GAAGN,OAAO,CAAC3C,OAAO,CAAC,gBAAgB,CAAC;EAC9C,IAAI,CAACiD,MAAM,CAACnL,MAAM,EAAE;IAChBmL,MAAM,GAAGN,OAAO,CAAC3C,OAAO,CAAC,OAAO,CAAC,CAAChC,QAAQ,CAAC,gBAAgB,CAAC;EAChE;EACA,IAAIkF,IAAI,GAAGD,MAAM,CAAC5M,IAAI,CAAC,UAAU,CAAC,CAACA,IAAI,CAAC,SAAS,CAAC,CAACM,EAAE,CAACoM,OAAO,CAAC;EAC9D,IAAIF,UAAU,KAAK7N,SAAS,EAAE;IAC1BkO,IAAI,CAACC,WAAW,CAACP,QAAQ,CAAC;EAC9B,CAAC,MACI;IACDM,IAAI,CAACC,WAAW,CAACP,QAAQ,EAAEC,UAAU,CAAC;EAC1C;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,SAASO,mBAAmBA,CAACC,MAAM,EAAE;EACjC,IAAIC,MAAM,GAAG,sBAAsB;EACnC,IAAIC,SAAS,GAAG,kBAAkB;EAClC,IAAIC,OAAO,GAAG,uBAAuB;EACrC,IAAIC,QAAQ,GAAG,uBAAuB;EACtC,IAAIC,OAAO,GAAG,IAAI;EAClB,IAAIC,MAAM,GAAG5Q,4DAAY,CAACwB,GAAG,CAAC,eAAe,CAAC;EAC9C,IAAIsE,MAAM,GAAGwK,MAAM,CAACtH,WAAW,CAAC,CAAC;EACjClD,MAAM,IAAI8K,MAAM,GAAG,mBAAmB;EACtClR,kDAAM,CAAC4Q,MAAM,CAAC5M,IAAI,CAAC,MAAM,CAAC,EAAEoC,MAAM,EAAE,UAAUI,IAAI,EAAE;IAChD;IACAyK,OAAO,GAAGjR,6CAAC,CAAC,OAAO,CAAC,CAAC2E,MAAM,CAAC6B,IAAI,CAACgD,OAAO,CAAC,CAAC2H,MAAM,CAAC;MAC7CC,OAAO,EAAE;QACL,0BAA0B,EAAE;MAChC,CAAC;MACDC,KAAK,EAAE7P,MAAM,CAAC+D,QAAQ,CAAC+L,sBAAsB;MAC7CnH,KAAK,EAAEoH,IAAI,CAACC,GAAG,CAACxR,6CAAC,CAACwB,MAAM,CAAC,CAAC2I,KAAK,CAAC,CAAC,GAAG,GAAG,EAAE,GAAG,CAAC;MAC7CsH,SAAS,EAAEzR,6CAAC,CAACwB,MAAM,CAAC,CAAC4I,MAAM,CAAC,CAAC,GAAG,GAAG;MACnCsH,WAAW,EAAE,sBAAsB;MACnCC,KAAK,EAAE,SAAAA,CAAA,EAAY;QACf;QACA3R,6CAAC,CAAC+Q,OAAO,CAAC,CAAC3I,GAAG,CAAC,OAAO,EAAE,oBAAoB,CAAC;QAC7CpI,6CAAC,CAAC6Q,MAAM,CAAC,CAACzI,GAAG,CAAC,OAAO,EAAE0I,SAAS,CAAC;QACjC9Q,6CAAC,CAAC6Q,MAAM,CAAC,CAACzI,GAAG,CAAC,QAAQ,CAAC;QACvB;QACApI,6CAAC,CAAC,IAAI,CAAC,CAACqE,MAAM,CAAC,CAAC;MACpB,CAAC;MACDgL,KAAK,EAAE;IACX,CAAC,CAAC;EACN,CAAC,CAAC,CAACuC,IAAI,CAAC,YAAY;IAChB,IAAIC,OAAO,GAAG,KAAK;IACnB7R,6CAAC,CAAC+Q,OAAO,CAAC,CAACzI,EAAE,CAAC,OAAO,EAAE,oBAAoB,EAAE,UAAUM,CAAC,EAAE;MACtDA,CAAC,CAACC,cAAc,CAAC,CAAC;MAClB,IAAIiJ,MAAM,GAAGlB,MAAM,CAACmB,IAAI,CAAC,kBAAkB,CAAC;MAC5C;MACA,IAAID,MAAM,CAACzM,MAAM,KAAK,CAAC,EAAE;QACrByM,MAAM,GAAGlB,MAAM,CAAC3H,OAAO,CAAC,YAAY,CAAC,CAAC8I,IAAI,CAAC,WAAW,CAAC;MAC3D;MACA;MACAD,MAAM,CAACxP,GAAG,CAACtC,6CAAC,CAAC,IAAI,CAAC,CAACwG,IAAI,CAAC,KAAK,CAAC,CAAC;MAC/B;MACAsL,MAAM,CAACnJ,OAAO,CAAC,QAAQ,CAAC;MACxBsI,OAAO,CAACE,MAAM,CAAC,OAAO,CAAC;IAC3B,CAAC,CAAC;IACFnR,6CAAC,CAAC6Q,MAAM,CAAC,CAACvI,EAAE,CAAC,OAAO,EAAEwI,SAAS,EAAE,YAAY;MACzCe,OAAO,GAAG,IAAI;IAClB,CAAC,CAAC;IACF7R,6CAAC,CAAC6Q,MAAM,CAAC,CAACvI,EAAE,CAAC,QAAQ,EAAE,UAAUM,CAAC,EAAE;MAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;MAClB;MACA;MACA,IAAI7I,6CAAC,CAACgR,QAAQ,CAAC,CAAC1O,GAAG,CAAC,CAAC,KAAKtC,6CAAC,CAACgR,QAAQ,CAAC,CAACxK,IAAI,CAAC,KAAK,CAAC,EAAE;QAC/CxG,6CAAC,CAAC6Q,MAAM,CAAC,CAACjN,IAAI,CAAC,kBAAkB,CAAC,CAACtB,GAAG,CAAC,GAAG,CAAC;MAC/C;MACA,IAAI0P,UAAU,GAAGhS,6CAAC,CAAC,IAAI,CAAC,CAACiS,cAAc,CAAC,CAAC;MACzC;MACA;MACA,IAAIJ,OAAO,EAAE;QACTG,UAAU,CAACjE,IAAI,CAAC;UACZpI,IAAI,EAAE3F,6CAAC,CAAC8Q,SAAS,CAAC,CAAC9M,IAAI,CAAC,MAAM,CAAC;UAC/Bd,KAAK,EAAElD,6CAAC,CAAC8Q,SAAS,CAAC,CAACxO,GAAG,CAAC;QAC5B,CAAC,CAAC;MACN;MACA;MACAtC,kDAAM,CAACA,6CAAC,CAAC,IAAI,CAAC,CAACgE,IAAI,CAAC,QAAQ,CAAC,GAAG,iBAAiB,EAAEgO,UAAU,EAAE,UAAUxL,IAAI,EAAE;QAC3E,IAAI0L,IAAI,GAAGlS,6CAAC,CAAC,OAAO,CAAC,CAACiG,IAAI,CAACO,IAAI,CAACgD,OAAO,CAAC;QACxCxJ,6CAAC,CAAC6Q,MAAM,CAAC,CAAC5K,IAAI,CAACiM,IAAI,CAACtO,IAAI,CAACiN,MAAM,CAAC,CAAC5K,IAAI,CAAC,CAAC,CAAC;QACxCjG,6CAAC,CAAC+Q,OAAO,CAAC,CAAC9K,IAAI,CAACiM,IAAI,CAACtO,IAAI,CAACmN,OAAO,CAAC,CAAC9K,IAAI,CAAC,CAAC,CAAC;MAC9C,CAAC,CAAC;MACF4L,OAAO,GAAG,KAAK;IACnB,CAAC,CAAC;EACN,CAAC,CAAC;AACN;AACA;AACA;AACA;AACA;AACA,SAAStQ,eAAeA,CAAA,EAAG;EACvB,IAAIS,EAAE,GAAGhC,6CAAC,CAAC,kBAAkB,CAAC,CAACsC,GAAG,CAAC,CAAC;EACpC,IAAIL,KAAK,GAAGjC,6CAAC,CAAC,qBAAqB,CAAC,CAACsC,GAAG,CAAC,CAAC;EAC1C,IAAIjB,GAAG,GAAGW,EAAE;EACZ,IAAIC,KAAK,KAAKM,SAAS,EAAE;IACrBlB,GAAG,IAAI,GAAG,GAAGY,KAAK;EACtB;EACA,OAAO,eAAe,GAAGZ,GAAG;AAChC;AACA,SAAS8Q,eAAeA,CAAA,EAAG;EACvB,IAAI9Q,GAAG,GAAGC,GAAG,CAACC,eAAe,CAAC,CAAC;EAC/B,IAAIX,oFAAkB,CAAC,cAAc,CAAC,IAClC,OAAOY,MAAM,CAACC,YAAY,CAACmF,OAAO,CAACvF,GAAG,CAAC,KAAK,QAAQ,EAAE;IACtDZ,yEAAe,CAACe,MAAM,CAAC+D,QAAQ,CAAC6M,oBAAoB,CAAC;IACrD;EACJ,CAAC,MACI,IAAI5Q,MAAM,CAACG,OAAO,CAACG,GAAG,CAACT,GAAG,EAAE;IAAEQ,IAAI,EAAEvB,4DAAY,CAACwB,GAAG,CAAC,UAAU;EAAE,CAAC,CAAC,EAAE;IACtErB,yEAAe,CAACe,MAAM,CAAC+D,QAAQ,CAAC6M,oBAAoB,CAAC;EACzD;AACJ;AACAnS,kDAAI,CAACoI,cAAc,CAAC,QAAQ,EAAE,YAAY;EACtCrI,6CAAC,CAAC,MAAM,CAAC,CAACsI,EAAE,CAAC,OAAO,EAAE,kBAAkB,EAAE,UAAUM,CAAC,EAAE;IACnDA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBvH,GAAG,CAACqP,mBAAmB,CAAC3Q,6CAAC,CAAC,IAAI,CAAC,CAAC;EACpC,CAAC,CAAC;EACF;AACJ;AACA;EACIA,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,YAAY,EAAE,2BAA2B,EAAE,YAAY;IAClEhH,GAAG,CAAC2O,oBAAoB,CAACjQ,6CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC;EACpD,CAAC,CAAC;EACFA,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,YAAY,EAAE,2BAA2B,EAAE,YAAY;IAClEhH,GAAG,CAAC2O,oBAAoB,CAACjQ,6CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,KAAK,CAAC;EACrD,CAAC,CAAC;EACF;AACJ;AACA;EACIA,6CAAC,CAAC+C,QAAQ,CAAC,CAACuF,EAAE,CAAC,OAAO,EAAE,0BAA0B,EAAE,YAAY;IAC5DhH,GAAG,CAAC2O,oBAAoB,CAACjQ,6CAAC,CAAC,IAAI,CAAC,EAAE,QAAQ,CAAC;EAC/C,CAAC,CAAC;EACF;AACJ;AACA;EACIA,6CAAC,CAAC,kBAAkB,CAAC,CAAC2I,OAAO,CAAC,UAAU,CAAC;EACzC;AACJ;AACA;EACI;EACA,IAAInH,MAAM,CAACqB,gBAAgB,IAAIE,QAAQ,CAACC,OAAO,EAAE;IAC7C1B,GAAG,CAAC6Q,eAAe,CAAC,CAAC;EACzB;AACJ,CAAC,CAAC;AACF,SAASE,mBAAmBA,CAAA,EAAG;EAC3B,MAAMC,oBAAoB,GAAGvP,QAAQ,CAACwP,cAAc,CAAC,sBAAsB,CAAC;EAC5E,IAAI,CAACD,oBAAoB,EAAE;IACvB;EACJ;EACA,MAAME,aAAa,GAAGF,oBAAoB,CAACxE,YAAY,CAAC,iBAAiB,CAAC;EAC1E,IAAI2E,SAAS,GAAG,IAAI;EACpB,IAAI;IACAA,SAAS,GAAGtQ,IAAI,CAACM,KAAK,CAAC+P,aAAa,CAAC;EACzC,CAAC,CACD,OAAO5J,CAAC,EAAE;IACN;EACJ;EACA,IAAI,EAAE6J,SAAS,IAAI,QAAQ,IAAIA,SAAS,IAAI,MAAM,IAAIA,SAAS,CAAC,EAAE;IAC9D;EACJ;EACA,MAAMC,IAAI,GAAGpS,4DAAY,CAACwB,GAAG,CAAC,MAAM,CAAC;EACrC,MAAM6Q,YAAY,GAAG,IAAIC,IAAI,CAACC,YAAY,CAACH,IAAI,CAAC1R,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE;IAC/D+I,KAAK,EAAE,MAAM;IACb+I,IAAI,EAAE,QAAQ;IACdC,WAAW,EAAE,MAAM;IACnBC,QAAQ,EAAE;EACd,CAAC,CAAC;EACF,IAAIxR,MAAM,CAACyR,KAAK,CAACX,oBAAoB,EAAE;IACnChM,IAAI,EAAE,KAAK;IACXE,IAAI,EAAE;MACF0M,MAAM,EAAET,SAAS,CAACS,MAAM;MACxBC,QAAQ,EAAE,CAAC;QAAE3M,IAAI,EAAEiM,SAAS,CAACjM;MAAK,CAAC;IACvC,CAAC;IACDQ,OAAO,EAAE;MACLoM,OAAO,EAAE;QACLC,MAAM,EAAE;UAAErJ,QAAQ,EAAE;QAAS,CAAC;QAC9BsJ,OAAO,EAAE;UAAEC,SAAS,EAAE;YAAEC,KAAK,EAAEC,OAAO,IAAIA,OAAO,CAACC,MAAM,GAAGf,YAAY,CAACgB,MAAM,CAACF,OAAO,CAACC,MAAM,CAAC,GAAG;UAAG;QAAE;MAC1G;IACJ;EACJ,CAAC,CAAC;AACN;AACA;AACA;AACA;AACA,SAASE,mBAAmBA,CAAA,EAAG;EAC3B,IAAI,CAAC5T,2DAAa,EAAE;IAChB;EACJ;EACA;EACAA,6CAAC,CAAC,eAAe,CAAC,CACb4D,IAAI,CAAC,UAAU,CAAC,CAChBwE,GAAG,CAAC,iBAAiB,CAAC;EAC3BpI,6CAAC,CAAC,eAAe,CAAC,CAAC6T,WAAW,CAAC;IAC3BC,OAAO,EAAE,CAAC,OAAO,CAAC;IAClBC,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAClBC,cAAc,EAAE,SAAAA,CAAUC,IAAI,EAAE;MAC5B,IAAIA,IAAI,CAAC7P,QAAQ,CAACiB,MAAM,GAAG,CAAC,EAAE;QAC1B,OAAO4O,IAAI,CAAC7P,QAAQ,CAAC,CAAC,CAAC,CAAC8P,SAAS;MACrC,CAAC,MACI;QACD,OAAOD,IAAI,CAACC,SAAS;MACzB;IACJ;EACJ,CAAC,CAAC;EACF;EACAlU,6CAAC,CAAC,sBAAsB,CAAC,CACpB4D,IAAI,CAAC,UAAU,CAAC,CAChBwE,GAAG,CAAC,iBAAiB,CAAC;EAC3BpI,6CAAC,CAAC,sBAAsB,CAAC,CAAC6T,WAAW,CAAC;IAClCC,OAAO,EAAE,CAAC,OAAO,CAAC;IAClBC,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAClBC,cAAc,EAAE,SAAAA,CAAUC,IAAI,EAAE;MAC5B,IAAIA,IAAI,CAAC7P,QAAQ,CAACiB,MAAM,GAAG,CAAC,EAAE;QAC1B,OAAO4O,IAAI,CAAC7P,QAAQ,CAAC,CAAC,CAAC,CAAC8P,SAAS;MACrC,CAAC,MACI;QACD,OAAOD,IAAI,CAACC,SAAS;MACzB;IACJ;EACJ,CAAC,CAAC;AACN;AACAjU,kDAAI,CAACoI,cAAc,CAAC,QAAQ,EAAE,YAAY;EACtC/G,GAAG,CAACsS,mBAAmB,CAAC,CAAC;EACzBvB,mBAAmB,CAAC,CAAC;AACzB,CAAC,CAAC;AACF,MAAM/Q,GAAG,GAAG;EACRT,SAAS,EAAEA,SAAS;EACpBI,SAAS,EAAEA,SAAS;EACpBE,QAAQ,EAAEA,QAAQ;EAClBY,aAAa,EAAEA,aAAa;EAC5BM,gBAAgB,EAAEA,gBAAgB;EAClCc,gBAAgB,EAAEA,gBAAgB;EAClCC,kBAAkB,EAAEA,kBAAkB;EACtCE,YAAY,EAAEA,YAAY;EAC1B2M,oBAAoB,EAAEA,oBAAoB;EAC1CU,mBAAmB,EAAEA,mBAAmB;EACxCpP,eAAe,EAAEA,eAAe;EAChC4Q,eAAe,EAAEA,eAAe;EAChCyB,mBAAmB,EAAEA;AACzB,CAAC;AACDpS,MAAM,CAACF,GAAG,GAAGA,GAAG;;;;;;;ACtwChB","sources":["webpack://phpmyadmin/./resources/js/src/sql.ts","webpack://phpmyadmin/external var \"jQuery\""],"sourcesContent":["import $ from 'jquery';\nimport { AJAX } from './modules/ajax.ts';\nimport { checkFormElementInRange, checkSqlQuery, prepareForAjaxRequest } from './modules/functions.ts';\nimport { Navigation } from './modules/navigation.ts';\nimport { CommonParams } from './modules/common.ts';\nimport highlightSql from './modules/sql-highlight.ts';\nimport { ajaxRemoveMessage, ajaxShowMessage } from './modules/ajax-message.ts';\nimport { escapeHtml } from './modules/functions/escape.ts';\nimport refreshMainContent from './modules/functions/refreshMainContent.ts';\nimport isStorageSupported from './modules/functions/isStorageSupported.ts';\n/**\n * @fileoverview    functions used wherever an sql query form is used\n *\n * @test-module Sql\n */\n/**\n * decode a string URL_encoded\n *\n * @param {string} str\n * @return {string} the URL-decoded string\n */\nfunction urlDecode(str) {\n    if (typeof str !== 'undefined') {\n        return decodeURIComponent(str.replace(/\\+/g, '%20'));\n    }\n}\n/**\n * encode a string URL_decoded\n *\n * @param {string} str\n * @return {string} the URL-encoded string\n */\nfunction urlEncode(str) {\n    if (typeof str !== 'undefined') {\n        return encodeURIComponent(str).replace(/%20/g, '+');\n    }\n}\n/**\n * Saves SQL query in local storage or cookie\n *\n * @param {string} query SQL query\n */\nfunction autoSave(query) {\n    if (query) {\n        var key = Sql.getAutoSavedKey();\n        if (isStorageSupported('localStorage')) {\n            window.localStorage.setItem(key, query);\n        }\n        else {\n            window.Cookies.set(key, query, { path: CommonParams.get('rootPath') });\n        }\n    }\n}\n/**\n * Saves SQL query in local storage or cookie\n *\n * @param {string} db database name\n * @param {string} table table name\n * @param {string} query SQL query\n */\nfunction showThisQuery(db, table, query) {\n    var showThisQueryObject = {\n        'db': db,\n        'table': table,\n        'query': query\n    };\n    if (isStorageSupported('localStorage')) {\n        window.localStorage.showThisQuery = 1;\n        window.localStorage.showThisQueryObject = JSON.stringify(showThisQueryObject);\n    }\n    else {\n        window.Cookies.set('showThisQuery', '1', { path: CommonParams.get('rootPath') });\n        window.Cookies.set('showThisQueryObject', JSON.stringify(showThisQueryObject), { path: CommonParams.get('rootPath') });\n    }\n}\n/**\n * Set query to codemirror if show this query is\n * checked and query for the db and table pair exists\n */\nfunction setShowThisQuery() {\n    var db = $('input[name=\"db\"]').val();\n    var table = $('input[name=\"table\"]').val();\n    if (isStorageSupported('localStorage')) {\n        if (window.localStorage.showThisQueryObject !== undefined) {\n            var storedDb = JSON.parse(window.localStorage.showThisQueryObject).db;\n            var storedTable = JSON.parse(window.localStorage.showThisQueryObject).table;\n            var storedQuery = JSON.parse(window.localStorage.showThisQueryObject).query;\n        }\n        if (window.localStorage.showThisQuery !== undefined\n            && window.localStorage.showThisQuery === '1') {\n            $('input[name=\"show_query\"]').prop('checked', true);\n            if (db === storedDb && table === storedTable) {\n                if (window.codeMirrorEditor) {\n                    window.codeMirrorEditor.setValue(storedQuery);\n                    // @ts-ignore\n                }\n                else if (document.sqlform) {\n                    // @ts-ignore\n                    document.sqlform.sql_query.value = storedQuery;\n                }\n            }\n        }\n        else {\n            $('input[name=\"show_query\"]').prop('checked', false);\n        }\n    }\n}\n/**\n * Saves SQL query with sort in local storage or cookie\n *\n * @param {string} query SQL query\n */\nfunction autoSaveWithSort(query) {\n    if (query) {\n        if (isStorageSupported('localStorage')) {\n            window.localStorage.setItem('autoSavedSqlSort', query);\n        }\n        else {\n            window.Cookies.set('autoSavedSqlSort', query, { path: CommonParams.get('rootPath') });\n        }\n    }\n}\n/**\n * Clear saved SQL query with sort in local storage or cookie\n */\nfunction clearAutoSavedSort() {\n    if (isStorageSupported('localStorage')) {\n        window.localStorage.removeItem('autoSavedSqlSort');\n    }\n    else {\n        window.Cookies.set('autoSavedSqlSort', '', { path: CommonParams.get('rootPath') });\n    }\n}\n/**\n * Get the field name for the current field.  Required to construct the query\n * for grid editing\n *\n * @param $tableResults enclosing results table\n * @param $thisField    jQuery object that points to the current field's tr\n *\n * @return {string}\n */\nfunction getFieldName($tableResults, $thisField) {\n    var thisFieldIndex = $thisField.index();\n    // ltr or rtl direction does not impact how the DOM was generated\n    // check if the action column in the left exist\n    var leftActionExist = !$tableResults.find('th').first().hasClass('draggable');\n    // number of column span for checkbox and Actions\n    var leftActionSkip = leftActionExist ? $tableResults.find('th').first().attr('colspan') - 1 : 0;\n    // If this column was sorted, the text of the a element contains something\n    // like <small>1</small> that is useful to indicate the order in case\n    // of a sort on multiple columns; however, we dont want this as part\n    // of the column name so we strip it ( .clone() to .end() )\n    var fieldName = $tableResults\n        .find('thead')\n        .find('th')\n        .eq(thisFieldIndex - leftActionSkip)\n        .find('a')\n        .clone() // clone the element\n        .children() // select all the children\n        .remove() // remove all of them\n        .end() // go back to the selected element\n        .text(); // grab the text\n    // happens when just one row (headings contain no a)\n    if (fieldName === '') {\n        var $heading = $tableResults.find('thead').find('th').eq(thisFieldIndex - leftActionSkip).children('span');\n        // may contain column comment enclosed in a span - detach it temporarily to read the column name\n        var $tempColComment = $heading.children().detach();\n        fieldName = $heading.text();\n        // re-attach the column comment\n        $heading.append($tempColComment);\n    }\n    fieldName = fieldName.trim();\n    return fieldName;\n}\n/**\n * @type {boolean} lock for the sqlbox textarea in the querybox\n */\nlet sqlBoxLocked = false;\n/**\n * @type {boolean[]} holds elements which content should only selected once\n */\nconst onlyOnceElements = [];\n/**\n * Handles 'Simulate query' button on SQL query box.\n */\nconst handleSimulateQueryButton = function () {\n    const updateRegExp = /^\\s*UPDATE\\b\\s*(((`([^`]|``)+`)|([a-z0-9_$]+))\\s*\\.\\s*)?((`([^`]|``)+`)|([a-z0-9_$]+))\\s*\\bSET\\b/i;\n    const deleteRegExp = /^\\s*DELETE\\b\\s*((((`([^`]|``)+`)|([a-z0-9_$]+))\\s*\\.\\s*)?((`([^`]|``)+`)|([a-z0-9_$]+))\\s*)?\\bFROM\\b/i;\n    const query = window.codeMirrorEditor ? window.codeMirrorEditor.getValue() : $('#sqlquery').val();\n    const $simulateDml = $('#simulate_dml');\n    if (updateRegExp.test(query) || deleteRegExp.test(query)) {\n        if (!$simulateDml.length) {\n            $('#button_submit_query').before('<input type=\"button\" id=\"simulate_dml\"' +\n                'tabindex=\"199\" class=\"btn btn-primary\" value=\"' + window.Messages.strSimulateDML + '\">');\n        }\n    }\n    else {\n        if ($simulateDml.length) {\n            $simulateDml.remove();\n        }\n    }\n};\n/**\n * selects the content of a given object, f.e. a textarea\n *\n * @param {HTMLTextAreaElement} element Element of which the content will be selected\n */\nconst selectContent = function (element) {\n    if (onlyOnceElements[element.name]) {\n        return;\n    }\n    onlyOnceElements[element.name] = true;\n    if (sqlBoxLocked) {\n        return;\n    }\n    element.select();\n};\n/**\n * Sets current value for query box.\n * @param {string} query\n */\nconst setQuery = function (query) {\n    if (window.codeMirrorEditor) {\n        window.codeMirrorEditor.setValue(query);\n        window.codeMirrorEditor.focus();\n        // @ts-ignore\n    }\n    else if (document.sqlform) {\n        // @ts-ignore\n        document.sqlform.sql_query.value = query;\n        // @ts-ignore\n        document.sqlform.sql_query.focus();\n    }\n};\n/**\n * Create quick sql statements.\n *\n * @param {'clear'|'format'|'saved'|'selectall'|'select'|'insert'|'update'|'delete'} queryType\n *\n */\nconst insertQuery = function (queryType) {\n    var table;\n    if (queryType === 'clear') {\n        setQuery('');\n        return;\n    }\n    else if (queryType === 'format' || queryType === 'formatSingleLine') {\n        if (window.codeMirrorEditor) {\n            $('#querymessage').html(window.Messages.strFormatting +\n                '&nbsp;<img class=\"ajaxIcon\" src=\"' +\n                window.themeImagePath + 'ajax_clock_small.gif\" alt=\"\">');\n            var params = {\n                'ajax_request': true,\n                'sql': window.codeMirrorEditor.getValue(),\n                'server': CommonParams.get('server'),\n                'formatSingleLine': queryType === 'formatSingleLine'\n            };\n            $.ajax({\n                type: 'POST',\n                url: 'index.php?route=/database/sql/format',\n                data: params,\n                success: function (data) {\n                    if (data.success) {\n                        window.codeMirrorEditor.setValue(data.sql);\n                    }\n                    $('#querymessage').html('');\n                },\n                error: function () {\n                    $('#querymessage').html('');\n                }\n            });\n        }\n        return;\n    }\n    else if (queryType === 'saved') {\n        var db = $('input[name=\"db\"]').val();\n        table = $('input[name=\"table\"]').val();\n        var key = db;\n        if (table !== undefined) {\n            key += '.' + table;\n        }\n        key = 'autoSavedSql_' + key;\n        if (isStorageSupported('localStorage') &&\n            typeof window.localStorage.getItem(key) === 'string') {\n            setQuery(window.localStorage.getItem(key));\n            // @ts-ignore\n        }\n        else if (window.Cookies.get(key, { path: CommonParams.get('rootPath') })) {\n            // @ts-ignore\n            setQuery(window.Cookies.get(key, { path: CommonParams.get('rootPath') }));\n        }\n        else {\n            ajaxShowMessage(window.Messages.strNoAutoSavedQuery);\n        }\n        return;\n    }\n    var query = '';\n    // @ts-ignore\n    var myListBox = document.sqlform.dummy;\n    // @ts-ignore\n    table = document.sqlform.table.value;\n    if (myListBox.options.length > 0) {\n        sqlBoxLocked = true;\n        var columnsList = '';\n        var valDis = '';\n        var editDis = '';\n        var NbSelect = 0;\n        for (var i = 0; i < myListBox.options.length; i++) {\n            NbSelect++;\n            if (NbSelect > 1) {\n                columnsList += ', ';\n                valDis += ',';\n                editDis += ',';\n            }\n            columnsList += myListBox.options[i].value;\n            valDis += '\\'[value-' + NbSelect + ']\\'';\n            editDis += myListBox.options[i].value + '=\\'[value-' + NbSelect + ']\\'';\n        }\n        if (queryType === 'selectall') {\n            query = 'SELECT * FROM `' + table + '` WHERE 1';\n        }\n        else if (queryType === 'select') {\n            query = 'SELECT ' + columnsList + ' FROM `' + table + '` WHERE 1';\n        }\n        else if (queryType === 'insert') {\n            query = 'INSERT INTO `' + table + '`(' + columnsList + ') VALUES (' + valDis + ')';\n        }\n        else if (queryType === 'update') {\n            query = 'UPDATE `' + table + '` SET ' + editDis + ' WHERE 1';\n        }\n        else if (queryType === 'delete') {\n            query = 'DELETE FROM `' + table + '` WHERE 0';\n        }\n        setQuery(query);\n        sqlBoxLocked = false;\n    }\n};\n/**\n * Inserts multiple fields.\n *\n */\nconst insertValueQuery = function () {\n    // @ts-ignore\n    var myQuery = document.sqlform.sql_query;\n    // @ts-ignore\n    var myListBox = document.sqlform.dummy;\n    if (myListBox.options.length > 0) {\n        sqlBoxLocked = true;\n        var columnsList = '';\n        var NbSelect = 0;\n        for (var i = 0; i < myListBox.options.length; i++) {\n            if (myListBox.options[i].selected) {\n                NbSelect++;\n                if (NbSelect > 1) {\n                    columnsList += ', ';\n                }\n                columnsList += myListBox.options[i].value;\n            }\n        }\n        /* CodeMirror support */\n        if (window.codeMirrorEditor) {\n            window.codeMirrorEditor.replaceSelection(columnsList);\n            window.codeMirrorEditor.focus();\n            // IE support\n            // @ts-ignore\n        }\n        else if (document.selection) {\n            myQuery.focus();\n            // @ts-ignore\n            var sel = document.selection.createRange();\n            sel.text = columnsList;\n            // MOZILLA/NETSCAPE support\n            // @ts-ignore\n        }\n        else if (document.sqlform.sql_query.selectionStart || document.sqlform.sql_query.selectionStart === '0') {\n            // @ts-ignore\n            var startPos = document.sqlform.sql_query.selectionStart;\n            // @ts-ignore\n            var endPos = document.sqlform.sql_query.selectionEnd;\n            // @ts-ignore\n            var SqlString = document.sqlform.sql_query.value;\n            myQuery.value = SqlString.substring(0, startPos) + columnsList + SqlString.substring(endPos, SqlString.length);\n            myQuery.focus();\n        }\n        else {\n            myQuery.value += columnsList;\n        }\n        // eslint-disable-next-line no-unused-vars\n        sqlBoxLocked = false;\n    }\n};\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('sql.js', function () {\n    $(document).off('click', 'a.delete_row.ajax');\n    $(document).off('submit', '.bookmarkQueryForm');\n    $('input#bkm_label').off('input');\n    $(document).off('makeGrid', '.sqlqueryresults');\n    $('#togglequerybox').off('click');\n    $(document).off('click', '#button_submit_query');\n    $(document).off('change', '#id_bookmark');\n    $('input[name=\\'bookmark_variable\\']').off('keypress');\n    $(document).off('submit', '#sqlqueryform.ajax');\n    $(document).off('click', 'input[name=navig].ajax');\n    $(document).off('submit', 'form[name=\\'displayOptionsForm\\'].ajax');\n    $(document).off('mouseenter', 'th.column_heading.pointer');\n    $(document).off('mouseleave', 'th.column_heading.pointer');\n    $(document).off('click', 'th.column_heading.marker');\n    $(document).off('keyup', '.filter_rows');\n    if (window.codeMirrorEditor) {\n        // @ts-ignore\n        window.codeMirrorEditor.off('change');\n    }\n    else {\n        $('#sqlquery').off('input propertychange');\n    }\n    $('body').off('click', '.navigation .showAllRows');\n    $('body').off('click', 'a.browse_foreign');\n    $('body').off('click', '#simulate_dml');\n    $('body').off('keyup', '#sqlqueryform');\n    $('body').off('click', 'form[name=\"resultsForm\"].ajax button[name=\"submit_mult\"], form[name=\"resultsForm\"].ajax input[name=\"submit_mult\"]');\n    $(document).off('submit', '.maxRowsForm');\n    $(document).off('click', '#view_as');\n    $(document).off('click', '#sqlquery');\n    $(document).off('click', 'input.sqlbutton');\n    $('#fieldsSelect').off('dblclick');\n});\n/**\n * @description <p>Ajax scripts for sql and browse pages</p>\n *\n * Actions ajaxified here:\n * <ul>\n * <li>Retrieve results of an SQL query</li>\n * <li>Paginate the results table</li>\n * <li>Sort the results table</li>\n * <li>Change table according to display options</li>\n * <li>Grid editing of data</li>\n * <li>Saving a bookmark</li>\n * </ul>\n *\n * @name        document.ready\n * @memberOf    jQuery\n */\nAJAX.registerOnload('sql.js', function () {\n    // @ts-ignore\n    if (window.codeMirrorEditor || document.sqlform) {\n        Sql.setShowThisQuery();\n    }\n    $(function () {\n        if (window.codeMirrorEditor) {\n            window.codeMirrorEditor.on('change', function () {\n                Sql.autoSave(window.codeMirrorEditor.getValue());\n            });\n        }\n        else {\n            $('#sqlquery').on('input propertychange', function () {\n                Sql.autoSave($('#sqlquery').val());\n            });\n            var useLocalStorageValue = isStorageSupported('localStorage') && typeof window.localStorage.autoSavedSqlSort !== 'undefined';\n            // Save sql query with sort\n            if ($('#RememberSorting') !== undefined && $('#RememberSorting').is(':checked')) {\n                $('select[name=\"sql_query\"]').on('change', function () {\n                    Sql.autoSaveWithSort($(this).val());\n                });\n                $('.sortlink').on('click', function () {\n                    Sql.clearAutoSavedSort();\n                });\n            }\n            else {\n                Sql.clearAutoSavedSort();\n            }\n            // If sql query with sort for current table is stored, change sort by key select value\n            var sortStoredQuery = useLocalStorageValue\n                ? window.localStorage.autoSavedSqlSort\n                // @ts-ignore\n                : window.Cookies.get('autoSavedSqlSort', { path: CommonParams.get('rootPath') });\n            if (typeof sortStoredQuery !== 'undefined' && sortStoredQuery !== $('select[name=\"sql_query\"]').val() && $('select[name=\"sql_query\"] option[value=\"' + sortStoredQuery + '\"]').length !== 0) {\n                $('select[name=\"sql_query\"]').val(sortStoredQuery).trigger('change');\n            }\n        }\n    });\n    // Delete row from SQL results\n    $(document).on('click', 'a.delete_row.ajax', function (e) {\n        e.preventDefault();\n        var question = window.sprintf(window.Messages.strDoYouReally, escapeHtml($(this).closest('td').find('div').text()));\n        var $link = $(this);\n        $link.confirm(question, $link.attr('href'), function (url) {\n            ajaxShowMessage();\n            var argsep = CommonParams.get('arg_separator');\n            var params = 'ajax_request=1' + argsep + 'is_js_confirmed=1';\n            var postData = $link.getPostData();\n            if (postData) {\n                params += argsep + postData;\n            }\n            $.post(url, params, function (data) {\n                if (data.success) {\n                    ajaxShowMessage(data.message);\n                    $link.closest('tr').remove();\n                }\n                else {\n                    ajaxShowMessage(data.error, false);\n                }\n            });\n        });\n    });\n    // Ajaxification for 'Bookmark this SQL query'\n    $(document).on('submit', '.bookmarkQueryForm', function (e) {\n        e.preventDefault();\n        ajaxShowMessage();\n        var argsep = CommonParams.get('arg_separator');\n        $.post($(this).attr('action'), 'ajax_request=1' + argsep + $(this).serialize(), function (data) {\n            if (data.success) {\n                ajaxShowMessage(data.message);\n            }\n            else {\n                ajaxShowMessage(data.error, false);\n            }\n        });\n    });\n    /* Hides the bookmarkoptions checkboxes when the bookmark label is empty */\n    $('input#bkm_label').on('input', function () {\n        $('input#id_bkm_all_users, input#id_bkm_replace')\n            .parent()\n            .toggle($(this).val().length > 0);\n    }).trigger('input');\n    /**\n     * Attach Event Handler for 'Copy to clipboard'\n     */\n    $(document).on('click', '#copyToClipBoard', function (event) {\n        event.preventDefault();\n        var textArea = document.createElement('textarea');\n        //\n        // *** This styling is an extra step which is likely not required. ***\n        //\n        // Why is it here? To ensure:\n        // 1. the element is able to have focus and selection.\n        // 2. if element was to flash render it has minimal visual impact.\n        // 3. less flakyness with selection and copying which **might** occur if\n        //    the textarea element is not visible.\n        //\n        // The likelihood is the element won't even render, not even a flash,\n        // so some of these are just precautions. However in IE the element\n        // is visible whilst the popup box asking the user for permission for\n        // the web page to copy to the clipboard.\n        //\n        // Place in top-left corner of screen regardless of scroll position.\n        textArea.style.position = 'fixed';\n        textArea.style.top = '0';\n        textArea.style.left = '0';\n        // Ensure it has a small width and height. Setting to 1px / 1em\n        // doesn't work as this gives a negative w/h on some browsers.\n        textArea.style.width = '2em';\n        textArea.style.height = '2em';\n        // We don't need padding, reducing the size if it does flash render.\n        textArea.style.padding = '0';\n        // Clean up any borders.\n        textArea.style.border = 'none';\n        textArea.style.outline = 'none';\n        textArea.style.boxShadow = 'none';\n        // Avoid flash of white box if rendered for any reason.\n        textArea.style.background = 'transparent';\n        textArea.value = '';\n        $('#server-breadcrumb a').each(function () {\n            textArea.value += $(this).data('raw-text') + '/';\n        });\n        textArea.value += '\\t\\t' + window.location.href;\n        textArea.value += '\\n';\n        $('.alert-success').each(function () {\n            textArea.value += $(this).text() + '\\n\\n';\n        });\n        $('.sql pre').each(function () {\n            textArea.value += $(this).text() + '\\n\\n';\n        });\n        $('.table_results .column_heading a').each(function () {\n            // Don't copy ordering number text within <small> tag\n            textArea.value += $(this).clone().find('small').remove().end().text() + '\\t';\n        });\n        textArea.value += '\\n';\n        $('.table_results tbody tr').each(function () {\n            $(this).find('.data span').each(function () {\n                // Extract <em> tag for NULL values before converting to string to not mess up formatting\n                var data = $(this).find('em').length !== 0 ? $(this).find('em')[0] : this;\n                textArea.value += $(data).text() + '\\t';\n            });\n            textArea.value += '\\n';\n        });\n        // eslint-disable-next-line compat/compat\n        document.body.appendChild(textArea);\n        textArea.select();\n        try {\n            document.execCommand('copy');\n        }\n        catch (err) {\n            alert('Sorry! Unable to copy');\n        }\n        // eslint-disable-next-line compat/compat\n        document.body.removeChild(textArea);\n    }); // end of Copy to Clipboard action\n    /**\n     * Attach the {@link makeGrid} function to a custom event, which will be\n     * triggered manually everytime the table of results is reloaded\n     * @memberOf    jQuery\n     */\n    $(document).on('makeGrid', '.sqlqueryresults', function () {\n        $('.table_results').each(function () {\n            window.makeGrid(this);\n        });\n    });\n    /**\n     * Append the \"Show/Hide query box\" message to the query input form\n     *\n     * @memberOf jQuery\n     * @name    appendToggleSpan\n     */\n    // do not add this link more than once\n    if (!$('#sqlqueryform').find('button').is('#togglequerybox')) {\n        $('<button class=\"btn btn-secondary\" id=\"togglequerybox\"></button>')\n            .html(window.Messages.strHideQueryBox)\n            .appendTo('#sqlqueryform')\n            // initially hidden because at this point, nothing else\n            // appears under the link\n            .hide();\n        // Attach the toggling of the query box visibility to a click\n        $('#togglequerybox').on('click', function () {\n            var $link = $(this);\n            $link.siblings().slideToggle('fast');\n            if ($link.text() === window.Messages.strHideQueryBox) {\n                $link.text(window.Messages.strShowQueryBox);\n                // cheap trick to add a spacer between the menu tabs\n                // and \"Show query box\"; feel free to improve!\n                $('#togglequerybox_spacer').remove();\n                $link.before('<br id=\"togglequerybox_spacer\">');\n            }\n            else {\n                $link.text(window.Messages.strHideQueryBox);\n            }\n            // avoid default click action\n            return false;\n        });\n    }\n    /**\n     * Event handler for sqlqueryform.ajax button_submit_query\n     *\n     * @memberOf    jQuery\n     */\n    $(document).on('click', '#button_submit_query', function () {\n        $('.alert-success,.alert-danger').hide();\n        // hide already existing error or success message\n        var $form = $(this).closest('form');\n        // the Go button related to query submission was clicked,\n        // instead of the one related to Bookmarks, so empty the\n        // id_bookmark selector to avoid misinterpretation in\n        // /import about what needs to be done\n        $form.find('select[name=id_bookmark]').val('');\n        var isShowQuery = $('input[name=\"show_query\"]').is(':checked');\n        if (isShowQuery) {\n            window.localStorage.showThisQuery = '1';\n            var db = $('input[name=\"db\"]').val();\n            var table = $('input[name=\"table\"]').val();\n            var query;\n            if (window.codeMirrorEditor) {\n                query = window.codeMirrorEditor.getValue();\n            }\n            else {\n                query = $('#sqlquery').val();\n            }\n            Sql.showThisQuery(db, table, query);\n        }\n        else {\n            window.localStorage.showThisQuery = '0';\n        }\n    });\n    /**\n     * Event handler to show appropriate number of variable boxes\n     * based on the bookmarked query\n     */\n    $(document).on('change', '#id_bookmark', function () {\n        var varCount = $(this).find('option:selected').data('varcount');\n        if (typeof varCount === 'undefined') {\n            varCount = 0;\n        }\n        var $varDiv = $('#bookmarkVariables');\n        $varDiv.empty();\n        for (var i = 1; i <= varCount; i++) {\n            $varDiv.append($('<div class=\"mb-3\">'));\n            $varDiv.append($('<label for=\"bookmarkVariable' + i + '\">' + window.sprintf(window.Messages.strBookmarkVariable, i) + '</label>'));\n            $varDiv.append($('<input class=\"form-control\" type=\"text\" size=\"10\" name=\"bookmark_variable[' + i + ']\" id=\"bookmarkVariable' + i + '\">'));\n            $varDiv.append($('</div>'));\n        }\n        if (varCount === 0) {\n            $varDiv.parent().hide();\n        }\n        else {\n            $varDiv.parent().show();\n        }\n    });\n    /**\n     * Event handler for hitting enter on sqlqueryform bookmark_variable\n     * (the Variable textfield in Bookmarked SQL query section)\n     *\n     * @memberOf    jQuery\n     */\n    $('input[name=bookmark_variable]').on('keypress', function (event) {\n        // force the 'Enter Key' to implicitly click the #button_submit_bookmark\n        var keycode = (event.keyCode ? event.keyCode : (event.which ? event.which : event.charCode));\n        if (keycode === 13) { // keycode for enter key\n            // When you press enter in the sqlqueryform, which\n            // has 2 submit buttons, the default is to run the\n            // #button_submit_query, because of the tabindex\n            // attribute.\n            // This submits #button_submit_bookmark instead,\n            // because when you are in the Bookmarked SQL query\n            // section and hit enter, you expect it to do the\n            // same action as the Go button in that section.\n            $('#button_submit_bookmark').trigger('click');\n            return false;\n        }\n        else {\n            return true;\n        }\n    });\n    /**\n     * Ajax Event handler for 'SQL Query Submit'\n     *\n     * @see         ajaxShowMessage()\n     * @memberOf    jQuery\n     * @name        sqlqueryform_submit\n     */\n    $(document).on('submit', '#sqlqueryform.ajax', function (event) {\n        event.preventDefault();\n        var $form = $(this);\n        if (window.codeMirrorEditor) {\n            $form[0].elements.sql_query.value = window.codeMirrorEditor.getValue();\n        }\n        if (!checkSqlQuery($form[0])) {\n            return false;\n        }\n        // remove any div containing a previous error message\n        $('.alert-danger').remove();\n        var $msgbox = ajaxShowMessage();\n        var $sqlqueryresultsouter = $('#sqlqueryresultsouter');\n        prepareForAjaxRequest($form);\n        var argsep = CommonParams.get('arg_separator');\n        $.post($form.attr('action'), $form.serialize() + argsep + 'ajax_page_request=true', function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                // success happens if the query returns rows or not\n                // show a message that stays on screen\n                if (typeof data.action_bookmark !== 'undefined') {\n                    // view only\n                    if ('1' === data.action_bookmark) {\n                        $('#sqlquery').text(data.sql_query);\n                        // send to codemirror if possible\n                        setQuery(data.sql_query);\n                    }\n                    // delete\n                    if ('2' === data.action_bookmark) {\n                        $('#id_bookmark option[value=\\'' + data.id_bookmark + '\\']').remove();\n                        // if there are no bookmarked queries now (only the empty option),\n                        // remove the bookmark section\n                        if ($('#id_bookmark option').length === 1) {\n                            $('#fieldsetBookmarkOptions').hide();\n                            $('#fieldsetBookmarkOptionsFooter').hide();\n                        }\n                    }\n                }\n                $sqlqueryresultsouter\n                    .show()\n                    .html(data.message);\n                highlightSql($sqlqueryresultsouter);\n                if (data.menu) {\n                    history.replaceState({\n                        menu: data.menu\n                    }, null);\n                    AJAX.handleMenu.replace(data.menu);\n                }\n                if (data.params) {\n                    Navigation.update(CommonParams.setAll(data.params));\n                }\n                if (typeof data.ajax_reload !== 'undefined') {\n                    if (data.ajax_reload.reload) {\n                        if (data.ajax_reload.table_name) {\n                            Navigation.update(CommonParams.set('table', data.ajax_reload.table_name));\n                            refreshMainContent();\n                        }\n                        else {\n                            Navigation.reload();\n                        }\n                    }\n                }\n                else if (typeof data.reload !== 'undefined') {\n                    // this happens if a USE or DROP command was typed\n                    if (data.db !== CommonParams.get('db')) {\n                        Navigation.update(CommonParams.setAll({ 'db': data.db, 'table': '' }));\n                    }\n                    var url;\n                    if (data.db) {\n                        if (data.table) {\n                            url = 'index.php?route=/table/sql';\n                        }\n                        else {\n                            url = 'index.php?route=/database/sql';\n                        }\n                    }\n                    else {\n                        url = 'index.php?route=/server/sql';\n                    }\n                    refreshMainContent(url);\n                    AJAX.callback = () => {\n                        $('#sqlqueryresultsouter')\n                            .show()\n                            .html(data.message);\n                        highlightSql($('#sqlqueryresultsouter'));\n                    };\n                }\n                $('.sqlqueryresults').trigger('makeGrid');\n                $('#togglequerybox').show();\n                if (typeof data.action_bookmark === 'undefined') {\n                    if ($('#sqlqueryform input[name=\"retain_query_box\"]').is(':checked') !== true) {\n                        if ($('#togglequerybox').siblings(':visible').length > 0) {\n                            $('#togglequerybox').trigger('click');\n                        }\n                    }\n                }\n            }\n            else if (typeof data !== 'undefined' && data.success === false) {\n                // show an error message that stays on screen\n                $sqlqueryresultsouter\n                    .show()\n                    .html(data.error);\n                $('html, body').animate({ scrollTop: $(document).height() }, 200);\n            }\n            ajaxRemoveMessage($msgbox);\n        }); // end $.post()\n    }); // end SQL Query submit\n    /**\n     * Ajax Event handler for the display options\n     * @memberOf    jQuery\n     * @name        displayOptionsForm_submit\n     */\n    $(document).on('submit', 'form[name=\\'displayOptionsForm\\'].ajax', function (event) {\n        event.preventDefault();\n        var $form = $(this);\n        var $msgbox = ajaxShowMessage();\n        var argsep = CommonParams.get('arg_separator');\n        $.post($form.attr('action'), $form.serialize() + argsep + 'ajax_request=true', function (data) {\n            ajaxRemoveMessage($msgbox);\n            var $sqlqueryresults = $form.parents('.sqlqueryresults');\n            $sqlqueryresults\n                .html(data.message)\n                .trigger('makeGrid');\n            highlightSql($sqlqueryresults);\n        }); // end $.post()\n    }); // end displayOptionsForm handler\n    // Filter row handling. --STARTS--\n    $(document).on('keyup', '.filter_rows', function () {\n        var uniqueId = $(this).data('for');\n        var $targetTable = $('.table_results[data-uniqueId=\\'' + uniqueId + '\\']');\n        var $headerCells = $targetTable.find('th[data-column]');\n        var targetColumns = [];\n        // To handle colspan=4, in case of edit, copy, etc options (Table row links). Add 3 dummy <TH> elements - only when the Table row links are NOT on the \"Right\"\n        var rowLinksLocation = ($targetTable.find('thead > tr > th')).first();\n        var dummyTh = (rowLinksLocation[0].getAttribute('colspan') !== null) ? '<th class=\"hide dummy_th\"></th><th class=\"hide dummy_th\"></th><th class=\"hide dummy_th\"></th>' : ''; // Selecting columns that will be considered for filtering and searching.\n        // Selecting columns that will be considered for filtering and searching.\n        $headerCells.each(function () {\n            targetColumns.push($(this).text().trim());\n        });\n        var phrase = $(this).val();\n        // Set same value to both Filter rows fields.\n        $('.filter_rows[data-for=\\'' + uniqueId + '\\']').not(this).val(phrase);\n        // Handle colspan.\n        $targetTable.find('thead > tr').prepend(dummyTh);\n        $.uiTableFilter($targetTable, phrase, targetColumns);\n        $targetTable.find('th.dummy_th').remove();\n    });\n    // Filter row handling. --ENDS--\n    // Prompt to confirm on Show All\n    $('body').on('click', '.navigation .showAllRows', function (e) {\n        e.preventDefault();\n        var $form = $(this).parents('form');\n        const submitShowAllForm = function () {\n            var argsep = CommonParams.get('arg_separator');\n            var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true';\n            ajaxShowMessage();\n            AJAX.source = $form;\n            $.post($form.attr('action'), submitData, AJAX.responseHandler);\n        };\n        if (!$(this).is(':checked')) { // already showing all rows\n            submitShowAllForm();\n        }\n        else {\n            $form.confirm(window.Messages.strShowAllRowsWarning, $form.attr('action'), function () {\n                submitShowAllForm();\n            });\n        }\n    });\n    $('body').on('keyup', '#sqlqueryform', function () {\n        handleSimulateQueryButton();\n    });\n    /**\n     * Ajax event handler for 'Simulate DML'.\n     */\n    $('body').on('click', '#simulate_dml', function () {\n        var $form = $('#sqlqueryform');\n        var query = '';\n        var delimiter = $('#id_sql_delimiter').val();\n        var dbName = $form.find('input[name=\"db\"]').val();\n        if (window.codeMirrorEditor) {\n            query = window.codeMirrorEditor.getValue();\n        }\n        else {\n            query = $('#sqlquery').val();\n        }\n        if (query.length === 0) {\n            alert(window.Messages.strFormEmpty);\n            $('#sqlquery').trigger('focus');\n            return false;\n        }\n        var $msgbox = ajaxShowMessage();\n        $.ajax({\n            type: 'POST',\n            url: 'index.php?route=/import/simulate-dml',\n            data: {\n                'server': CommonParams.get('server'),\n                'db': dbName,\n                'ajax_request': '1',\n                'sql_query': query,\n                'sql_delimiter': delimiter\n            },\n            success: function (response) {\n                ajaxRemoveMessage($msgbox);\n                if (response.success) {\n                    var dialogContent = '<div class=\"preview_sql\">';\n                    if (response.sql_data) {\n                        var len = response.sql_data.length;\n                        for (var i = 0; i < len; i++) {\n                            dialogContent += '<strong>' + window.Messages.strSQLQuery +\n                                '</strong>' + response.sql_data[i].sql_query +\n                                window.Messages.strAffectedRows +\n                                ' <a href=\"' + response.sql_data[i].matched_rows_url +\n                                '\">' + response.sql_data[i].matched_rows + '</a><br>';\n                            if (i < len - 1) {\n                                dialogContent += '<hr>';\n                            }\n                        }\n                    }\n                    else {\n                        dialogContent += response.message;\n                    }\n                    dialogContent += '</div>';\n                    var $dialogContent = $(dialogContent);\n                    var modal = $('#simulateDmlModal');\n                    modal.modal('show');\n                    modal.find('.modal-body').first()\n                        // @ts-ignore\n                        .html($dialogContent);\n                    modal.on('shown.bs.modal', function () {\n                        highlightSql(modal);\n                    });\n                }\n                else {\n                    ajaxShowMessage(response.error);\n                }\n            },\n            error: function () {\n                ajaxShowMessage(window.Messages.strErrorProcessingRequest);\n            }\n        });\n    });\n    /**\n     * Handles multi submits of results browsing page such as edit, delete and export\n     */\n    $('body').on('click', 'form[name=\"resultsForm\"].ajax button[name=\"submit_mult\"], form[name=\"resultsForm\"].ajax input[name=\"submit_mult\"]', function (e) {\n        e.preventDefault();\n        var $button = $(this);\n        var action = $button.val();\n        var $form = $button.closest('form');\n        var argsep = CommonParams.get('arg_separator');\n        var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true' + argsep;\n        ajaxShowMessage();\n        AJAX.source = $form;\n        var url;\n        if (action === 'edit') {\n            submitData = submitData + argsep + 'default_action=update';\n            url = 'index.php?route=/table/change/rows';\n        }\n        else if (action === 'copy') {\n            submitData = submitData + argsep + 'default_action=insert';\n            url = 'index.php?route=/table/change/rows';\n        }\n        else if (action === 'export') {\n            url = 'index.php?route=/table/export/rows';\n        }\n        else if (action === 'delete') {\n            url = 'index.php?route=/table/delete/confirm';\n        }\n        else {\n            return;\n        }\n        $.post(url, submitData, AJAX.responseHandler);\n    });\n    $(document).on('submit', '.maxRowsForm', function () {\n        var unlimNumRows = Number($(this).find('input[name=\"unlim_num_rows\"]').val());\n        var maxRowsCheck = checkFormElementInRange(this, 'session_max_rows', window.Messages.strNotValidRowNumber, 1);\n        var posCheck = checkFormElementInRange(this, 'pos', window.Messages.strNotValidRowNumber, 0, unlimNumRows > 0 ? unlimNumRows - 1 : null);\n        return maxRowsCheck && posCheck;\n    });\n    $('#insertBtn').on('click', function () {\n        insertValueQuery();\n    });\n    $('#view_as').on('click', function () {\n        selectContent(this);\n    });\n    $('#sqlquery').on('click', function () {\n        if ($(this).data('textarea-auto-select') === true) {\n            selectContent(this);\n        }\n    });\n    $(document).on('click', 'input.sqlbutton', function (evt) {\n        insertQuery(evt.target.id);\n        handleSimulateQueryButton();\n        return false;\n    });\n    $('#fieldsSelect').on('dblclick', () => {\n        insertValueQuery();\n    });\n});\n/**\n * Starting from some th, change the class of all td under it.\n * If isAddClass is specified, it will be used to determine whether to add or remove the class.\n *\n * @param $thisTh\n * @param {string} newClass\n * @param isAddClass\n */\nfunction changeClassForColumn($thisTh, newClass, isAddClass = undefined) {\n    // index 0 is the th containing the big T\n    var thIndex = $thisTh.index();\n    var hasBigT = $thisTh.closest('tr').children().first().hasClass('column_action');\n    // .eq() is zero-based\n    if (hasBigT) {\n        thIndex--;\n    }\n    var $table = $thisTh.parents('.table_results');\n    if (!$table.length) {\n        $table = $thisTh.parents('table').siblings('.table_results');\n    }\n    var $tds = $table.find('tbody tr').find('td.data').eq(thIndex);\n    if (isAddClass === undefined) {\n        $tds.toggleClass(newClass);\n    }\n    else {\n        $tds.toggleClass(newClass, isAddClass);\n    }\n}\n/**\n * Handles browse foreign values modal dialog\n *\n * @param {object} $thisA reference to the browse foreign value link\n */\nfunction browseForeignDialog($thisA) {\n    var formId = '#browse_foreign_form';\n    var showAllId = '#foreign_showAll';\n    var tableId = '#browse_foreign_table';\n    var filterId = '#input_foreign_filter';\n    var $dialog = null;\n    var argSep = CommonParams.get('arg_separator');\n    var params = $thisA.getPostData();\n    params += argSep + 'ajax_request=true';\n    $.post($thisA.attr('href'), params, function (data) {\n        // Creates browse foreign value dialog\n        $dialog = $('<div>').append(data.message).dialog({\n            classes: {\n                'ui-dialog-titlebar-close': 'btn-close'\n            },\n            title: window.Messages.strBrowseForeignValues,\n            width: Math.min($(window).width() - 100, 700),\n            maxHeight: $(window).height() - 100,\n            dialogClass: 'browse_foreign_modal',\n            close: function () {\n                // remove event handlers attached to elements related to dialog\n                $(tableId).off('click', 'td a.foreign_value');\n                $(formId).off('click', showAllId);\n                $(formId).off('submit');\n                // remove dialog itself\n                $(this).remove();\n            },\n            modal: true\n        });\n    }).done(function () {\n        var showAll = false;\n        $(tableId).on('click', 'td a.foreign_value', function (e) {\n            e.preventDefault();\n            var $input = $thisA.prev('input[type=text]');\n            // Check if input exists or get CEdit edit_box\n            if ($input.length === 0) {\n                $input = $thisA.closest('.edit_area').prev('.edit_box');\n            }\n            // Set selected value as input value\n            $input.val($(this).data('key'));\n            // Unchecks the Ignore checkbox for the current row\n            $input.trigger('change');\n            $dialog.dialog('close');\n        });\n        $(formId).on('click', showAllId, function () {\n            showAll = true;\n        });\n        $(formId).on('submit', function (e) {\n            e.preventDefault();\n            // if filter value is not equal to old value\n            // then reset page number to 1\n            if ($(filterId).val() !== $(filterId).data('old')) {\n                $(formId).find('select[name=pos]').val('0');\n            }\n            var postParams = $(this).serializeArray();\n            // if showAll button was clicked to submit form then\n            // add showAll button parameter to form\n            if (showAll) {\n                postParams.push({\n                    name: $(showAllId).attr('name'),\n                    value: $(showAllId).val()\n                });\n            }\n            // updates values in dialog\n            $.post($(this).attr('action') + '&ajax_request=1', postParams, function (data) {\n                var $obj = $('<div>').html(data.message);\n                $(formId).html($obj.find(formId).html());\n                $(tableId).html($obj.find(tableId).html());\n            });\n            showAll = false;\n        });\n    });\n}\n/**\n * Get the auto saved query key\n * @return {string}\n */\nfunction getAutoSavedKey() {\n    var db = $('input[name=\"db\"]').val();\n    var table = $('input[name=\"table\"]').val();\n    var key = db;\n    if (table !== undefined) {\n        key += '.' + table;\n    }\n    return 'autoSavedSql_' + key;\n}\nfunction checkSavedQuery() {\n    var key = Sql.getAutoSavedKey();\n    if (isStorageSupported('localStorage') &&\n        typeof window.localStorage.getItem(key) === 'string') {\n        ajaxShowMessage(window.Messages.strPreviousSaveQuery);\n        // @ts-ignore\n    }\n    else if (window.Cookies.get(key, { path: CommonParams.get('rootPath') })) {\n        ajaxShowMessage(window.Messages.strPreviousSaveQuery);\n    }\n}\nAJAX.registerOnload('sql.js', function () {\n    $('body').on('click', 'a.browse_foreign', function (e) {\n        e.preventDefault();\n        Sql.browseForeignDialog($(this));\n    });\n    /**\n     * vertical column highlighting in horizontal mode when hovering over the column header\n     */\n    $(document).on('mouseenter', 'th.column_heading.pointer', function () {\n        Sql.changeClassForColumn($(this), 'hover', true);\n    });\n    $(document).on('mouseleave', 'th.column_heading.pointer', function () {\n        Sql.changeClassForColumn($(this), 'hover', false);\n    });\n    /**\n     * vertical column marking in horizontal mode when clicking the column header\n     */\n    $(document).on('click', 'th.column_heading.marker', function () {\n        Sql.changeClassForColumn($(this), 'marked');\n    });\n    /**\n     * create resizable table\n     */\n    $('.sqlqueryresults').trigger('makeGrid');\n    /**\n     * Check if there is any saved query\n     */\n    // @ts-ignore\n    if (window.codeMirrorEditor || document.sqlform) {\n        Sql.checkSavedQuery();\n    }\n});\nfunction buildProfilingChart() {\n    const profilingChartCanvas = document.getElementById('profilingChartCanvas');\n    if (!profilingChartCanvas) {\n        return;\n    }\n    const chartDataJson = profilingChartCanvas.getAttribute('data-chart-data');\n    let chartData = null;\n    try {\n        chartData = JSON.parse(chartDataJson);\n    }\n    catch (e) {\n        return;\n    }\n    if (!(chartData && 'labels' in chartData && 'data' in chartData)) {\n        return;\n    }\n    const lang = CommonParams.get('lang');\n    const numberFormat = new Intl.NumberFormat(lang.replace('_', '-'), {\n        style: 'unit',\n        unit: 'second',\n        unitDisplay: 'long',\n        notation: 'engineering',\n    });\n    new window.Chart(profilingChartCanvas, {\n        type: 'pie',\n        data: {\n            labels: chartData.labels,\n            datasets: [{ data: chartData.data }],\n        },\n        options: {\n            plugins: {\n                legend: { position: 'bottom' },\n                tooltip: { callbacks: { label: context => context.parsed ? numberFormat.format(context.parsed) : '' } },\n            },\n        },\n    });\n}\n/**\n * initialize profiling data tables\n */\nfunction initProfilingTables() {\n    if (!$.tablesorter) {\n        return;\n    }\n    // Added to allow two direction sorting\n    $('#profiletable')\n        .find('thead th')\n        .off('click mousedown');\n    $('#profiletable').tablesorter({\n        widgets: ['zebra'],\n        sortList: [[0, 0]],\n        textExtraction: function (node) {\n            if (node.children.length > 0) {\n                return node.children[0].innerHTML;\n            }\n            else {\n                return node.innerHTML;\n            }\n        }\n    });\n    // Added to allow two direction sorting\n    $('#profilesummarytable')\n        .find('thead th')\n        .off('click mousedown');\n    $('#profilesummarytable').tablesorter({\n        widgets: ['zebra'],\n        sortList: [[1, 1]],\n        textExtraction: function (node) {\n            if (node.children.length > 0) {\n                return node.children[0].innerHTML;\n            }\n            else {\n                return node.innerHTML;\n            }\n        }\n    });\n}\nAJAX.registerOnload('sql.js', function () {\n    Sql.initProfilingTables();\n    buildProfilingChart();\n});\nconst Sql = {\n    urlDecode: urlDecode,\n    urlEncode: urlEncode,\n    autoSave: autoSave,\n    showThisQuery: showThisQuery,\n    setShowThisQuery: setShowThisQuery,\n    autoSaveWithSort: autoSaveWithSort,\n    clearAutoSavedSort: clearAutoSavedSort,\n    getFieldName: getFieldName,\n    changeClassForColumn: changeClassForColumn,\n    browseForeignDialog: browseForeignDialog,\n    getAutoSavedKey: getAutoSavedKey,\n    checkSavedQuery: checkSavedQuery,\n    initProfilingTables: initProfilingTables,\n};\nwindow.Sql = Sql;\n","module.exports = jQuery;"],"names":["$","AJAX","checkFormElementInRange","checkSqlQuery","prepareForAjaxRequest","Navigation","CommonParams","highlightSql","ajaxRemoveMessage","ajaxShowMessage","escapeHtml","refreshMainContent","isStorageSupported","urlDecode","str","decodeURIComponent","replace","urlEncode","encodeURIComponent","autoSave","query","key","Sql","getAutoSavedKey","window","localStorage","setItem","Cookies","set","path","get","showThisQuery","db","table","showThisQueryObject","JSON","stringify","setShowThisQuery","val","undefined","storedDb","parse","storedTable","storedQuery","prop","codeMirrorEditor","setValue","document","sqlform","sql_query","value","autoSaveWithSort","clearAutoSavedSort","removeItem","getFieldName","$tableResults","$thisField","thisFieldIndex","index","leftActionExist","find","first","hasClass","leftActionSkip","attr","fieldName","eq","clone","children","remove","end","text","$heading","$tempColComment","detach","append","trim","sqlBoxLocked","onlyOnceElements","handleSimulateQueryButton","updateRegExp","deleteRegExp","getValue","$simulateDml","test","length","before","Messages","strSimulateDML","selectContent","element","name","select","setQuery","focus","insertQuery","queryType","html","strFormatting","themeImagePath","params","ajax","type","url","data","success","sql","error","getItem","strNoAutoSavedQuery","myListBox","dummy","options","columnsList","valDis","editDis","NbSelect","i","insertValueQuery","myQuery","selected","replaceSelection","selection","sel","createRange","selectionStart","startPos","endPos","selectionEnd","SqlString","substring","registerTeardown","off","registerOnload","on","useLocalStorageValue","autoSavedSqlSort","is","sortStoredQuery","trigger","e","preventDefault","question","sprintf","strDoYouReally","closest","$link","confirm","argsep","postData","getPostData","post","message","serialize","parent","toggle","event","textArea","createElement","style","position","top","left","width","height","padding","border","outline","boxShadow","background","each","location","href","body","appendChild","execCommand","err","alert","removeChild","makeGrid","strHideQueryBox","appendTo","hide","siblings","slideToggle","strShowQueryBox","$form","isShowQuery","varCount","$varDiv","empty","strBookmarkVariable","show","keycode","keyCode","which","charCode","elements","$msgbox","$sqlqueryresultsouter","action_bookmark","id_bookmark","menu","history","replaceState","handleMenu","update","setAll","ajax_reload","reload","table_name","callback","animate","scrollTop","$sqlqueryresults","parents","uniqueId","$targetTable","$headerCells","targetColumns","rowLinksLocation","dummyTh","getAttribute","push","phrase","not","prepend","uiTableFilter","submitShowAllForm","submitData","source","responseHandler","strShowAllRowsWarning","delimiter","dbName","strFormEmpty","response","dialogContent","sql_data","len","strSQLQuery","strAffectedRows","matched_rows_url","matched_rows","$dialogContent","modal","strErrorProcessingRequest","$button","action","unlimNumRows","Number","maxRowsCheck","strNotValidRowNumber","posCheck","evt","target","id","changeClassForColumn","$thisTh","newClass","isAddClass","arguments","thIndex","hasBigT","$table","$tds","toggleClass","browseForeignDialog","$thisA","formId","showAllId","tableId","filterId","$dialog","argSep","dialog","classes","title","strBrowseForeignValues","Math","min","maxHeight","dialogClass","close","done","showAll","$input","prev","postParams","serializeArray","$obj","checkSavedQuery","strPreviousSaveQuery","buildProfilingChart","profilingChartCanvas","getElementById","chartDataJson","chartData","lang","numberFormat","Intl","NumberFormat","unit","unitDisplay","notation","Chart","labels","datasets","plugins","legend","tooltip","callbacks","label","context","parsed","format","initProfilingTables","tablesorter","widgets","sortList","textExtraction","node","innerHTML"],"sourceRoot":""}