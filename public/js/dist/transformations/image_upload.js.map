{"version":3,"file":"transformations/image_upload.js","mappings":";;;;;;;;;;AAAuB;AACmB;AAC1C;AACA;AACA;AACA;AACA;AACAC,kDAAI,CAACC,cAAc,CAAC,iCAAiC,EAAE,YAAY;EAC/D;EACA;EACAF,6CAAC,CAAC,oBAAoB,CAAC,CAACG,EAAE,CAAC,QAAQ,EAAE,YAAY;IAC7C,MAAMC,SAAS,GAAG,IAAI;IACtB,IAAIA,SAAS,CAACC,KAAK,IAAID,SAAS,CAACC,KAAK,CAAC,CAAC,CAAC,EAAE;MACvC,IAAIC,MAAM,GAAG,IAAIC,UAAU,CAAC,CAAC;MAC7B,IAAIC,MAAM,GAAGR,6CAAC,CAAC,IAAI,CAAC;MACpBM,MAAM,CAACG,MAAM,GAAG,UAAUC,CAAC,EAAE;QACzBF,MAAM,CAACG,OAAO,CAAC,KAAK,CAAC,CAACC,IAAI,CAAC,KAAK,EAAEF,CAAC,CAACG,MAAM,CAACC,MAAM,CAAC;MACtD,CAAC;MACDR,MAAM,CAACS,aAAa,CAACX,SAAS,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC5C;EACJ,CAAC,CAAC;AACN,CAAC,CAAC;AACF;AACA;AACA;AACAJ,kDAAI,CAACe,gBAAgB,CAAC,iCAAiC,EAAE,YAAY;EACjEhB,6CAAC,CAAC,oBAAoB,CAAC,CAACiB,GAAG,CAAC,QAAQ,CAAC;AACzC,CAAC,CAAC;;;;;;;AC3BF","sources":["webpack://phpmyadmin/./resources/js/src/transformations/image_upload.ts","webpack://phpmyadmin/external var \"jQuery\""],"sourcesContent":["import $ from 'jquery';\nimport { AJAX } from '../modules/ajax.ts';\n/**\n * Image upload transformations plugin js\n *\n * @package PhpMyAdmin\n */\nAJAX.registerOnload('transformations/image_upload.js', function () {\n    // Change thumbnail when image file is selected\n    // through file upload dialog\n    $('input.image-upload').on('change', function () {\n        const fileInput = this;\n        if (fileInput.files && fileInput.files[0]) {\n            var reader = new FileReader();\n            var $input = $(this);\n            reader.onload = function (e) {\n                $input.prevAll('img').attr('src', e.target.result);\n            };\n            reader.readAsDataURL(fileInput.files[0]);\n        }\n    });\n});\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('transformations/image_upload.js', function () {\n    $('input.image-upload').off('change');\n});\n","module.exports = jQuery;"],"names":["$","AJAX","registerOnload","on","fileInput","files","reader","FileReader","$input","onload","e","prevAll","attr","target","result","readAsDataURL","registerTeardown","off"],"sourceRoot":""}