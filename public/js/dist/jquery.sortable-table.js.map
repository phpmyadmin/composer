{"version":3,"file":"jquery.sortable-table.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./resources/js/src/jquery.sortable-table.ts"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\n/**\n * This file is internal to phpMyAdmin.\n * @license see the main phpMyAdmin license.\n *\n * @fileoverview    A jquery plugin that allows drag&drop sorting in tables.\n *                  Coded because JQuery UI sortable doesn't support tables. Also it has no animation\n *\n * @name            Sortable Table JQuery plugin\n *\n * @requires        jQuery\n */\n/**\n * Options:\n *\n * $('table').sortableTable({\n *   ignoreRect: { top, left, width, height } - Relative coordinates on each element. If the user clicks\n *                                              in this area, it is not seen as a drag&drop request. Useful for toolbars etc.\n *   events: {\n *     start: callback function when the user starts dragging\n *     drop: callback function after an element has been dropped\n *   }\n * })\n */\n/**\n * Commands:\n *\n * $('table').sortableTable('init')    - equivalent to $('table').sortableTable()\n * $('table').sortableTable('refresh') - if the table has been changed, refresh correctly assigns all events again\n * $('table').sortableTable('destroy') - removes all events from the table\n */\n/**\n * Setup:\n *\n * Can be applied on any table, there is just one convention.\n * Each cell (<td>) has to contain one and only one element (preferably div or span)\n * which is the actually draggable element.\n */\n(function ($) {\n    $.fn.sortableTable = function (method) {\n        var methods = {\n            init: function (options) {\n                var tb = new SortableTableInstance(this, options);\n                tb.init();\n                $(this).data('sortableTable', tb);\n            },\n            refresh: function () {\n                $(this).data('sortableTable').refresh();\n            },\n            destroy: function () {\n                $(this).data('sortableTable').destroy();\n            }\n        };\n        if (methods[method]) {\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n        }\n        else if (typeof method === 'object' || !method) {\n            return methods.init.apply(this, arguments);\n        }\n        else {\n            $.error('Method ' + method + ' does not exist on jQuery.sortableTable');\n        }\n        function SortableTableInstance(table, options = {}) {\n            var down = false;\n            var $draggedEl;\n            var oldCell;\n            var previewMove;\n            var id;\n            /* Mouse handlers on the child elements */\n            var onMouseUp = function (e) {\n                dropAt(e.pageX, e.pageY);\n            };\n            var onMouseDown = function (e) {\n                $draggedEl = $(this).children();\n                if ($draggedEl.length === 0) {\n                    return;\n                }\n                if (options.ignoreRect && insideRect({\n                    x: e.pageX - $draggedEl.offset().left,\n                    y: e.pageY - $draggedEl.offset().top\n                }, options.ignoreRect)) {\n                    return;\n                }\n                down = true;\n                oldCell = this;\n                if (options.events && options.events.start) {\n                    options.events.start(this);\n                }\n                return false;\n            };\n            var globalMouseMove = function (e) {\n                if (down) {\n                    move(e.pageX, e.pageY);\n                    if (inside($(oldCell), e.pageX, e.pageY)) {\n                        if (previewMove !== null) {\n                            moveTo(previewMove);\n                            previewMove = null;\n                        }\n                    }\n                    else {\n                        $(table).find('td').each(function () {\n                            if (inside($(this), e.pageX, e.pageY)) {\n                                if ($(previewMove).attr('class') !== $(this).children().first().attr('class')) {\n                                    if (previewMove !== null) {\n                                        moveTo(previewMove);\n                                    }\n                                    previewMove = $(this).children().first();\n                                    if (previewMove.length > 0) {\n                                        moveTo($(previewMove), {\n                                            pos: {\n                                                top: $(oldCell).offset().top - $(previewMove).parent().offset().top,\n                                                left: $(oldCell).offset().left - $(previewMove).parent().offset().left\n                                            }\n                                        });\n                                    }\n                                }\n                                return false;\n                            }\n                        });\n                    }\n                }\n                return false;\n            };\n            var globalMouseOut = function () {\n                if (down) {\n                    down = false;\n                    if (previewMove) {\n                        moveTo(previewMove);\n                    }\n                    moveTo($draggedEl);\n                    previewMove = null;\n                }\n            };\n            // Initialize sortable table\n            this.init = function () {\n                id = 1;\n                // Add some required css to each child element in the <td>s\n                $(table).find('td').children().each(function () {\n                    // Remove any old occurrences of our added draggable-num class\n                    $(this).attr('class', $(this).attr('class').replace(/\\s*draggable-\\d+/g, ''));\n                    $(this).addClass('draggable-' + (id++));\n                });\n                // Mouse events\n                $(table).find('td').on('mouseup', onMouseUp);\n                $(table).find('td').on('mousedown', onMouseDown);\n                $(document).on('mousemove', globalMouseMove);\n                $(document).on('mouseleave', globalMouseOut);\n            };\n            // Call this when the table has been updated\n            this.refresh = function () {\n                this.destroy();\n                this.init();\n            };\n            this.destroy = function () {\n                // Add some required css to each child element in the <td>s\n                $(table).find('td').children().each(function () {\n                    // Remove any old occurrences of our added draggable-num class\n                    $(this).attr('class', $(this).attr('class').replace(/\\s*draggable-\\d+/g, ''));\n                });\n                // Mouse events\n                $(table).find('td').off('mouseup', onMouseUp);\n                $(table).find('td').off('mousedown', onMouseDown);\n                $(document).off('mousemove', globalMouseMove);\n                $(document).off('mouseleave', globalMouseOut);\n            };\n            function switchElement(drag, dropTo) {\n                var dragPosDiff = {\n                    left: $(drag).children().first().offset().left - $(dropTo).offset().left,\n                    top: $(drag).children().first().offset().top - $(dropTo).offset().top\n                };\n                var dropPosDiff = null;\n                if ($(dropTo).children().length > 0) {\n                    dropPosDiff = {\n                        left: $(dropTo).children().first().offset().left - $(drag).offset().left,\n                        top: $(dropTo).children().first().offset().top - $(drag).offset().top\n                    };\n                }\n                /* I love you append(). It moves the DOM Elements so gracefully <3 */\n                // Put the element in the way to old place\n                $(drag).append($(dropTo).children().first()).children()\n                    .stop(true, true)\n                    .on('mouseup', onMouseUp);\n                if (dropPosDiff) {\n                    $(drag).append($(dropTo).children().first()).children()\n                        .css('left', dropPosDiff.left + 'px')\n                        .css('top', dropPosDiff.top + 'px');\n                }\n                // Put our dragged element into the space we just freed up\n                $(dropTo).append($(drag).children().first()).children()\n                    .on('mouseup', onMouseUp)\n                    .css('left', dragPosDiff.left + 'px')\n                    .css('top', dragPosDiff.top + 'px');\n                moveTo($(dropTo).children().first(), { duration: 100 });\n                moveTo($(drag).children().first(), { duration: 100 });\n                if (options.events && options.events.drop) {\n                    // Drop event. The drag child element is moved into the drop element\n                    // and vice versa. So the parameters are switched.\n                    // Calculate row and column index\n                    const colIdx = $(dropTo).prevAll().length;\n                    const rowIdx = $(dropTo).parent().prevAll().length;\n                    options.events.drop(drag, dropTo, { col: colIdx, row: rowIdx });\n                }\n            }\n            function move(x, y) {\n                $draggedEl.offset({\n                    top: Math.min($(document).height(), Math.max(0, y - $draggedEl.height() / 2)),\n                    left: Math.min($(document).width(), Math.max(0, x - $draggedEl.width() / 2))\n                });\n            }\n            function inside($el, x, y) {\n                var off = $el.offset();\n                return y >= off.top && x >= off.left && x < off.left + $el.width() && y < off.top + $el.height();\n            }\n            function insideRect(pos, r) {\n                return pos.y > r.top && pos.x > r.left && pos.y < r.top + r.height && pos.x < r.left + r.width;\n            }\n            function dropAt(x, y) {\n                if (!down) {\n                    return;\n                }\n                down = false;\n                var switched = false;\n                $(table).find('td').each(function () {\n                    if ($(this).children().first().attr('class') !== $(oldCell).children().first().attr('class') && inside($(this), x, y)) {\n                        switchElement(oldCell, this);\n                        switched = true;\n                    }\n                });\n                if (!switched) {\n                    if (previewMove) {\n                        moveTo(previewMove);\n                    }\n                    moveTo($draggedEl);\n                }\n                previewMove = null;\n            }\n            function moveTo(elem, opts = {}) {\n                if (!opts.pos) {\n                    opts.pos = { left: 0, top: 0 };\n                }\n                if (!opts.duration) {\n                    opts.duration = 200;\n                }\n                $(elem).css('position', 'relative');\n                $(elem).animate({ top: opts.pos.top, left: opts.pos.left }, {\n                    duration: opts.duration,\n                    complete: function () {\n                        if (opts.pos.left === 0 && opts.pos.top === 0) {\n                            $(elem)\n                                .css('position', '')\n                                .css('left', '')\n                                .css('top', '');\n                        }\n                    }\n                });\n            }\n        }\n    };\n}($));\n"],"names":["$","fn","sortableTable","method","methods","init","options","tb","SortableTableInstance","data","refresh","destroy","apply","Array","prototype","slice","call","arguments","error","table","length","undefined","down","$draggedEl","oldCell","previewMove","id","onMouseUp","e","dropAt","pageX","pageY","onMouseDown","children","ignoreRect","insideRect","x","offset","left","y","top","events","start","globalMouseMove","move","inside","moveTo","find","each","attr","first","pos","parent","globalMouseOut","replace","addClass","on","document","off","switchElement","drag","dropTo","dragPosDiff","dropPosDiff","append","stop","css","duration","drop","colIdx","prevAll","rowIdx","col","row","Math","min","height","max","width","$el","r","switched","elem","opts","animate","complete"],"sourceRoot":""}