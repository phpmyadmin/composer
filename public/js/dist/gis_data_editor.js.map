{"version":3,"file":"gis_data_editor.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./resources/js/src/gis_data_editor.ts"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { AJAX } from './modules/ajax.ts';\nimport { CommonParams } from './modules/common.ts';\nimport { ajaxShowMessage } from './modules/ajax-message.ts';\n/**\n * @fileoverview    functions used in GIS data editor\n *\n * @requires    jQuery\n */\nlet gisEditorLoaded = false;\nlet visualizationController;\nfunction disposeGISEditorVisualization() {\n    if (visualizationController) {\n        visualizationController.dispose();\n        visualizationController = undefined;\n    }\n}\n/**\n * Initialize the visualization in the GIS data editor.\n */\nfunction initGISEditorVisualization(olData) {\n    visualizationController = new window.GisVisualizationController(olData);\n}\nfunction withIndex(prefix, ...index) {\n    let result = prefix;\n    for (let i = 0; i < index.length; ++i) {\n        result += '[' + index[i] + ']';\n    }\n    return result;\n}\nfunction makeDataLengthInput(prefix, length) {\n    return '<input type=\"hidden\" name=\"' + prefix + '[data_length]\" value=\"' + length + '\">';\n}\nfunction makeAddButton(prefix, cls, label, type) {\n    return ('<button type=\"button\"' +\n        ' data-prefix=\"' + prefix + '\"' +\n        ' data-geometry-type=\"' + type + '\"' +\n        ' class=\"btn btn-secondary addJs ' + cls + '\">' +\n        '+ ' + label +\n        '</button>');\n}\nfunction makeCoordinateInputs(prefix, data) {\n    return ('<div class=\"col\"><label class=\"input-group input-group-sm\"><span class=\"input-group-text\">' +\n        window.Messages.strX +\n        '</span><input class=\"form-control\" type=\"text\" name=\"' + prefix + '[x]\" value=\"' + (data ? data.x : '') + '\">' +\n        '</label></div>' +\n        '<div class=\"col\"><label class=\"input-group input-group-sm\"><span class=\"input-group-text\">' +\n        window.Messages.strY +\n        '</span><input class=\"form-control\" type=\"text\" name=\"' + prefix + '[y]\" value=\"' + (data ? data.y : '') + '\">' +\n        '</label></div>');\n}\nfunction makePointNInputs(prefix, index, data) {\n    return ('<div class=\"gis-coordinates row gx-2 align-items-center mb-2\"><div class=\"col-3\">' +\n        window.Messages.strPoint + ' ' + (index + 1) + ':</div>' +\n        makeCoordinateInputs(withIndex(prefix, index), data) +\n        '</div>');\n}\nfunction makePointInputs(prefix, data) {\n    return ('<div class=\"gis-coordinates-list card-body\">' +\n        '<div class=\"gis-coordinates row gx-2 align-items-center\"><div class=\"col-3\">' +\n        window.Messages.strPoint + ':</div>' +\n        makeCoordinateInputs(prefix, data) +\n        '</div>' +\n        '</div>');\n}\nfunction makeMultiPointInputs(prefix, data) {\n    const d = data || [];\n    const inputs = [];\n    let i = 0;\n    while (d[i] || i < 1) {\n        inputs.push(makePointNInputs(prefix, i, d[i]));\n        ++i;\n    }\n    return ('<div class=\"gis-coordinates-list card-body\">' +\n        inputs.join('') +\n        makeDataLengthInput(prefix, i) +\n        makeAddButton(prefix, 'addPoint', window.Messages.strAddPoint, 'POINT') +\n        '</div>');\n}\nfunction makeLineStringInputs(prefix, data, type) {\n    const d = data || [];\n    const inputs = [];\n    let i = 0;\n    const min = type === 'POLYGON' || type === 'MULTIPOLYGON' ? 4 : 2;\n    while (d[i] || i < min) {\n        inputs.push(makePointNInputs(prefix, i, d[i]));\n        ++i;\n    }\n    return ('<div class=\"gis-coordinates-list card-body\">' +\n        inputs.join('') +\n        makeDataLengthInput(prefix, i) +\n        makeAddButton(prefix, 'addPoint', window.Messages.strAddPoint, 'LINESTRING') +\n        '</div>');\n}\nfunction makeMultiLineStringInputs(prefix, data) {\n    const d = data || [];\n    const inputs = [];\n    let i = 0;\n    while (d[i] || i < 1) {\n        inputs.push('<div class=\"card mb-3\"><div class=\"card-header\">', window.Messages.strLineString + ' ' + (i + 1) + ':</div>', makeLineStringInputs(withIndex(prefix, i), d[i], 'MULTILINESTRING'), '</div>');\n        ++i;\n    }\n    return ('<div class=\"gis-coordinates-list card-body\">' +\n        inputs.join('') +\n        makeDataLengthInput(prefix, i) +\n        makeAddButton(prefix, 'addLine', window.Messages.strAddLineString, 'MULTILINESTRING') +\n        '</div>');\n}\nfunction makePolygonInputs(prefix, data, type) {\n    const d = data || [];\n    const inputs = [];\n    let i = 0;\n    while (d[i] || i < 1) {\n        inputs.push('<div class=\"card mb-3\"><div class=\"card-header\">', (i === 0 ? window.Messages.strOuterRing : window.Messages.strInnerRing + ' ' + i) + ':</div>', makeLineStringInputs(withIndex(prefix, i), d[i], type), '</div>');\n        ++i;\n    }\n    return ('<div class=\"gis-coordinates-list card-body\">' +\n        inputs.join('') +\n        makeDataLengthInput(prefix, i) +\n        makeAddButton(prefix, 'addLine', window.Messages.strAddInnerRing, 'POLYGON') +\n        '</div>');\n}\nfunction makeMultiPolygonInputs(prefix, data) {\n    const d = data || [];\n    const inputs = [];\n    let i = 0;\n    while (d[i] || i < 1) {\n        inputs.push('<div class=\"card mb-3\"><div class=\"card-header\">', window.Messages.strPolygon + ' ' + (i + 1) + ':</div>', makePolygonInputs(withIndex(prefix, i), d[i], 'MULTIPOLYGON'), '</div>');\n        ++i;\n    }\n    return ('<div class=\"gis-coordinates-list card-body\">' +\n        inputs.join('') +\n        makeDataLengthInput(prefix, i) +\n        makeAddButton(prefix, 'addPolygon', window.Messages.strAddPolygon, 'MULTIPOLYGON') +\n        '</div>');\n}\nconst INPUTS_GENERATOR = {\n    POINT: makePointInputs,\n    MULTIPOINT: makeMultiPointInputs,\n    LINESTRING: makeLineStringInputs,\n    MULTILINESTRING: makeMultiLineStringInputs,\n    POLYGON: makePolygonInputs,\n    MULTIPOLYGON: makeMultiPolygonInputs,\n};\nfunction makeGeometryCollectionGeometryInputs(prefix, index, data) {\n    const type = data ? data.gis_type : 'POINT';\n    const fn = INPUTS_GENERATOR[type];\n    const $geomType = $('#gis_type_template').contents().filter('select').clone();\n    const select = $geomType.get(0);\n    select.value = type || 'POINT';\n    select.selectedOptions[0].setAttribute('selected', 'selected');\n    select.setAttribute('name', withIndex(prefix, index, 'gis_type'));\n    return ('<div class=\"gis-geometry card mb-3\">' +\n        '<div class=\"gis-geometry-type card-header\"><div class=\"row align-items-center\"><div class=\"col-auto\">' +\n        window.Messages.strGeometry + ' ' + (index + 1) + ':</div><div class=\"col\">' + select.outerHTML +\n        '</div></div></div>' +\n        fn(withIndex(prefix, index, type), data ? data[type] : null, type) +\n        '</div>');\n}\nfunction makeGeometryCollectionInputs(prefix, data) {\n    let i = 0;\n    let inputs = [];\n    while (data[i]) {\n        inputs.push(makeGeometryCollectionGeometryInputs(prefix, i, data[i]));\n        ++i;\n    }\n    return ('<div class=\"gis-geometry-list card\"><div class=\"card-body\">' +\n        inputs.join('') +\n        makeDataLengthInput('gis_data[GEOMETRYCOLLECTION]', i) +\n        makeAddButton(prefix, 'addGeom', window.Messages.strAddGeometry, 'GEOMETRYCOLLECTION') +\n        '</div></div>');\n}\nfunction makeGeometryInputs(gisData) {\n    const type = gisData.gis_type;\n    const geometry = gisData[0][type];\n    const fn = INPUTS_GENERATOR[type];\n    return '<div class=\"card\">' + fn(withIndex('gis_data', 0, type), geometry, type) + '</div>';\n}\n/**\n * Loads JavaScript files and the GIS editor.\n *\n * @param {function} resolve\n */\nfunction loadJSAndGISEditor(resolve) {\n    let script;\n    script = document.createElement('script');\n    script.src = 'js/dist/table/gis_visualization.js';\n    document.head.appendChild(script);\n    // OpenLayers.js is BIG and takes time. So asynchronous loading would not work.\n    // Load the JS and do a callback to load the content for the GIS Editor.\n    script = document.createElement('script');\n    script.src = 'js/vendor/openlayers/OpenLayers.js';\n    script.addEventListener('load', function () {\n        resolve();\n    });\n    script.addEventListener('error', function () {\n        resolve();\n    });\n    document.head.appendChild(script);\n    gisEditorLoaded = true;\n}\n/**\n * Loads the GIS editor via AJAX\n *\n * @param value      current value of the geometry field\n * @param field      field name\n * @param type       geometry type\n * @param inputName name of the input field\n */\nfunction loadGISEditor(value, field, type, inputName) {\n    const $gisEditorModal = $('#gisEditorModal');\n    const data = {\n        'field': field,\n        'value': value,\n        'type': type,\n        'input_name': inputName,\n        'ajax_request': true,\n        'server': CommonParams.get('server'),\n    };\n    $.post('index.php?route=/gis-data-editor', data, function (data) {\n        if (typeof data === 'undefined' || data.success !== true) {\n            ajaxShowMessage(data.error, false);\n            return;\n        }\n        disposeGISEditorVisualization();\n        $gisEditorModal.find('.modal-title').first().html(data.gis_editor_title);\n        $gisEditorModal.find('.modal-body').first().html(data.gis_editor);\n        initGISEditorVisualization(JSON.parse($('#visualization-placeholder').attr('data-ol-data')));\n        const gisData = $('#gis_data').data('gisData');\n        if (gisData) {\n            let html;\n            if (gisData.gis_type === 'GEOMETRYCOLLECTION') {\n                html = makeGeometryCollectionInputs('gis_data', gisData);\n            }\n            else {\n                html = makeGeometryInputs(gisData);\n            }\n            $('#gis_data').append(html);\n        }\n    }, 'json');\n}\n/**\n * Opens up the dialog for the GIS data editor.\n *\n * @param value      current value of the geometry field\n * @param field      field name\n * @param type       geometry type\n * @param inputName name of the input field\n */\nfunction openGISEditor(value, field, type, inputName) {\n    if (gisEditorLoaded) {\n        loadGISEditor(value, field, type, inputName);\n    }\n    else {\n        loadJSAndGISEditor(loadGISEditor.bind(this, value, field, type, inputName));\n    }\n}\n/**\n * Prepare and insert the GIS data in Well Known Text format\n * to the input field.\n */\nfunction insertDataAndClose() {\n    const $form = $('form#gis_data_editor_form');\n    const inputName = $form.find('input[name=\\'input_name\\']').val();\n    const argsep = CommonParams.get('arg_separator');\n    const params = $form.serialize() + argsep + 'generate=true' + argsep + 'ajax_request=true';\n    $.post('index.php?route=/gis-data-editor', params, function (data) {\n        if (typeof data === 'undefined' || data.success !== true) {\n            ajaxShowMessage(data.error, false);\n            return;\n        }\n        $('input[name=\\'' + inputName + '\\']').val(data.result);\n    }, 'json');\n}\nfunction onCoordinateEdit(data) {\n    if (typeof data === 'undefined' || data.success !== true) {\n        ajaxShowMessage(data.error, false);\n        return;\n    }\n    disposeGISEditorVisualization();\n    $('#visualization-placeholder > .visualization-target-svg').html(data.visualization);\n    $('#gis_data_textarea').val(data.result);\n    initGISEditorVisualization(data.openLayersData);\n}\n/**\n * Handles adding data points\n */\nfunction addPoint() {\n    const $a = $(this);\n    const prefix = $a.data('prefix');\n    const dataLength = this.parentElement.querySelectorAll(':scope > .gis-coordinates').length;\n    $('input[name=\\'' + prefix + '[data_length]' + '\\']').val(dataLength + 1);\n    const html = makePointNInputs(prefix, dataLength, null);\n    $a.before(html);\n    updateResult();\n}\n/**\n * Handles adding linestrings and inner rings\n */\nfunction addLineStringOrInnerRing() {\n    const $a = $(this);\n    const prefix = $a.data('prefix');\n    const type = $a.data('geometryType');\n    const dataLength = this.parentElement.querySelectorAll(':scope > .card > .gis-coordinates-list').length;\n    $('input[name=\\'' + prefix + '[data_length]' + '\\']').val(dataLength + 1);\n    const label = type === 'MULTILINESTRING' ? window.Messages.strLineString : window.Messages.strInnerRing;\n    const n = type === 'MULTILINESTRING' ? dataLength + 1 : dataLength;\n    const html = makeLineStringInputs(withIndex(prefix, dataLength), null, type);\n    $a.before('<div class=\"card mb-3\"><div class=\"gis-geometry-type card-header\">' + label + ' ' + n + ':</div>' + html + '</div>');\n    updateResult();\n}\n/**\n * Handles adding polygons\n */\nfunction addPolygon() {\n    const $a = $(this);\n    const prefix = $a.data('prefix');\n    const dataLength = this.parentElement.querySelectorAll(':scope > .card > .gis-coordinates-list').length;\n    $('input[name=\\'' + prefix + '[data_length]' + '\\']').val(dataLength + 1);\n    const html = makePolygonInputs(withIndex(prefix, dataLength), null, 'MULTIPOLYGON');\n    $a.before('<div class=\"card mb-3\"><div class=\"gis-geometry-type card-header\">' + window.Messages.strPolygon + ' ' + (dataLength + 1) + ':</div>' + html + '</div>');\n    updateResult();\n}\n/**\n * Handles adding geoms\n */\nfunction addGeometry() {\n    const dataLength = this.parentElement.querySelectorAll(':scope > .gis-geometry').length;\n    $('input[name=\"gis_data[GEOMETRYCOLLECTION][data_length]\"]').val(dataLength + 1);\n    const html = makeGeometryCollectionGeometryInputs('gis_data', dataLength, null);\n    $(this).before(html);\n    updateResult();\n}\n/**\n * Update the form on change of the GIS type.\n */\nfunction onGeometryTypeChange() {\n    const typeSelect = this;\n    const prefix = typeSelect.getAttribute('name').match(/^(.*)\\[gis_type\\]$/)[1];\n    const isSubGeom = prefix !== 'gis_data';\n    const type = typeSelect.value;\n    let html;\n    if (isSubGeom) {\n        const fn = INPUTS_GENERATOR[type];\n        html = fn(withIndex(prefix, type), null, type);\n        $(typeSelect.parentElement.parentElement.parentElement.nextElementSibling).replaceWith(html);\n    }\n    else {\n        html = type === 'GEOMETRYCOLLECTION'\n            ? makeGeometryCollectionInputs(prefix, {})\n            : makeGeometryInputs({ 'gis_type': type, '0': {} });\n        $(typeSelect.parentElement.parentElement.nextElementSibling).replaceWith(html);\n    }\n    updateResult();\n}\n/**\n * Trigger asynchronous calls on data change and update the output.\n */\nfunction updateResult() {\n    const $form = $('form#gis_data_editor_form');\n    const argsep = CommonParams.get('arg_separator');\n    const data = $form.serialize() + argsep + 'generate=true' + argsep + 'ajax_request=true';\n    $.post('index.php?route=/gis-data-editor', data, onCoordinateEdit, 'json');\n}\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('gis_data_editor.js', function () {\n    $(document).off('click', '#gis_editor button.gis-copy-data');\n    $(document).off('change', '#gis_editor input[type=\\'text\\']');\n    $(document).off('change', '#gis_editor select.gis_type');\n    $(document).off('click', '#gis_editor button.addJs.addPoint');\n    $(document).off('click', '#gis_editor button.addJs.addLine');\n    $(document).off('click', '#gis_editor button.addJs.addPolygon');\n    $(document).off('click', '#gis_editor button.addJs.addGeom');\n});\nAJAX.registerOnload('gis_data_editor.js', function () {\n    $(document).on('click', '#gis_editor button.gis-copy-data', insertDataAndClose);\n    $(document).on('change', '#gis_editor input[type=\\'text\\']', updateResult);\n    $(document).on('change', '#gis_editor select.gis_type', onGeometryTypeChange);\n    $(document).on('click', '#gis_editor button.addJs.addPoint', addPoint);\n    $(document).on('click', '#gis_editor button.addJs.addLine', addLineStringOrInnerRing);\n    $(document).on('click', '#gis_editor button.addJs.addPolygon', addPolygon);\n    $(document).on('click', '#gis_editor button.addJs.addGeom', addGeometry);\n});\nwindow.openGISEditor = openGISEditor;\n"],"names":["$","AJAX","CommonParams","ajaxShowMessage","gisEditorLoaded","visualizationController","disposeGISEditorVisualization","dispose","undefined","initGISEditorVisualization","olData","window","GisVisualizationController","withIndex","prefix","result","i","arguments","length","makeDataLengthInput","makeAddButton","cls","label","type","makeCoordinateInputs","data","Messages","strX","x","strY","y","makePointNInputs","index","strPoint","makePointInputs","makeMultiPointInputs","d","inputs","push","join","strAddPoint","makeLineStringInputs","min","makeMultiLineStringInputs","strLineString","strAddLineString","makePolygonInputs","strOuterRing","strInnerRing","strAddInnerRing","makeMultiPolygonInputs","strPolygon","strAddPolygon","INPUTS_GENERATOR","POINT","MULTIPOINT","LINESTRING","MULTILINESTRING","POLYGON","MULTIPOLYGON","makeGeometryCollectionGeometryInputs","gis_type","fn","$geomType","contents","filter","clone","select","get","value","selectedOptions","setAttribute","strGeometry","outerHTML","makeGeometryCollectionInputs","strAddGeometry","makeGeometryInputs","gisData","geometry","loadJSAndGISEditor","resolve","script","document","createElement","src","head","appendChild","addEventListener","loadGISEditor","field","inputName","$gisEditorModal","post","success","error","find","first","html","gis_editor_title","gis_editor","JSON","parse","attr","append","openGISEditor","bind","insertDataAndClose","$form","val","argsep","params","serialize","onCoordinateEdit","visualization","openLayersData","addPoint","$a","dataLength","parentElement","querySelectorAll","before","updateResult","addLineStringOrInnerRing","n","addPolygon","addGeometry","onGeometryTypeChange","typeSelect","getAttribute","match","isSubGeom","nextElementSibling","replaceWith","registerTeardown","off","registerOnload","on"],"sourceRoot":""}