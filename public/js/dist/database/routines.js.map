{"version":3,"file":"database/routines.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./resources/js/src/database/routines.ts"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { AJAX } from '../modules/ajax.ts';\nimport { addDatepicker, getSqlEditor, slidingMessage } from '../modules/functions.ts';\nimport { Navigation } from '../modules/navigation.ts';\nimport { ajaxRemoveMessage, ajaxShowMessage } from '../modules/ajax-message.ts';\nimport getJsConfirmCommonParam from '../modules/functions/getJsConfirmCommonParam.ts';\nAJAX.registerTeardown('database/routines.js', function () {\n    $(document).off('click', 'a.ajax.add_anchor');\n    $(document).off('click', 'a.ajax.edit_anchor');\n    $(document).off('click', 'a.ajax.exec_anchor');\n    $(document).off('click', 'a.ajax.export_anchor');\n    $(document).off('click', '#bulkActionExportButton');\n    $(document).off('click', 'a.ajax.drop_anchor');\n    $(document).off('click', '#bulkActionDropButton');\n    $(document).off('change', 'select[name=item_type]');\n    $(document).off('change', 'select[name^=item_param_type]');\n    $(document).off('change', 'select[name=item_returntype]');\n    $(document).off('click', '#addRoutineParameterButton');\n    $(document).off('click', 'a.routine_param_remove_anchor');\n});\nconst DatabaseRoutines = {\n    /**\n     * @var {string} paramTemplate Template for a row in the routine editor\n     */\n    paramTemplate: '',\n    /**\n     * @var syntaxHiglighter Reference to the codemirror editor\n     */\n    syntaxHiglighter: null,\n    /**\n     * Validate editor form fields.\n     *\n     * @return {boolean}\n     */\n    validate: function () {\n        /**\n         * @var $elm a jQuery object containing the reference\n         *           to an element that is being validated\n         */\n        var $elm = null;\n        // Common validation. At the very least the name\n        // and the definition must be provided for an item\n        $elm = $('table.rte_table').last().find('input[name=item_name]');\n        if ($elm.val() === '') {\n            $elm.trigger('focus');\n            alert(window.Messages.strFormEmpty);\n            return false;\n        }\n        $elm = $('table.rte_table').find('textarea[name=item_definition]');\n        if ($elm.val() === '') {\n            if (this.syntaxHiglighter !== null) {\n                this.syntaxHiglighter.focus();\n            }\n            else {\n                $('textarea[name=item_definition]').last().trigger('focus');\n            }\n            alert(window.Messages.strFormEmpty);\n            return false;\n        }\n        // The validation has so far passed, so now\n        // we can validate item-specific fields.\n        return this.validateCustom();\n    },\n    exportDialog: function ($this) {\n        var $msg = ajaxShowMessage();\n        if ($this.attr('id') === 'bulkActionExportButton') {\n            var combined = {\n                success: true,\n                title: window.Messages.strExport,\n                message: '',\n                error: ''\n            };\n            // export anchors of all selected rows\n            var exportAnchors = $('input.checkall:checked').parents('tr').find('.export_anchor');\n            var count = exportAnchors.length;\n            var returnCount = 0;\n            // No routine is exportable (due to privilege issues)\n            if (count === 0) {\n                ajaxShowMessage(window.Messages.NoExportable);\n            }\n            var p = $.when();\n            exportAnchors.each(function () {\n                var h = $(this).attr('href');\n                p = p.then(function () {\n                    return $.get(h, { 'ajax_request': true }, function (data) {\n                        returnCount++;\n                        if (data.success === true) {\n                            combined.message += '\\n' + data.message + '\\n';\n                            if (returnCount === count) {\n                                showExport(combined);\n                            }\n                        }\n                        else {\n                            // complain even if one export is failing\n                            combined.success = false;\n                            combined.error += '\\n' + data.error + '\\n';\n                            if (returnCount === count) {\n                                showExport(combined);\n                            }\n                        }\n                    });\n                });\n            });\n        }\n        else {\n            $.get($this.attr('href'), { 'ajax_request': true }, showExport);\n        }\n        ajaxRemoveMessage($msg);\n        function showExport(data) {\n            if (data.success !== true) {\n                ajaxShowMessage(data.error, false);\n                return;\n            }\n            ajaxRemoveMessage($msg);\n            const routinesExportTextarea = '<textarea id=\"routinesExportTextarea\" cols=\"40\" rows=\"15\" class=\"form-control\" aria-label=\"' + window.Messages.strRoutine + '\"></textarea>';\n            const routinesExportModal = document.getElementById('routinesExportModal');\n            routinesExportModal.addEventListener('shown.bs.modal', function () {\n                routinesExportModal.querySelector('.modal-title').textContent = data.title;\n                routinesExportModal.querySelector('.modal-body').innerHTML = routinesExportTextarea;\n                document.getElementById('routinesExportTextarea').textContent = data.message;\n                getSqlEditor($('#routinesExportTextarea'));\n            });\n            routinesExportModal.addEventListener('hidden.bs.modal', function () {\n                routinesExportModal.querySelector('.modal-body').innerHTML = routinesExportTextarea;\n            });\n            window.bootstrap.Modal.getOrCreateInstance(routinesExportModal).show();\n        }\n    },\n    editorDialog: function (isNew, $this) {\n        var that = this;\n        /**\n         * @var $edit_row jQuery object containing the reference to\n         *                the row of the the item being edited\n         *                from the list of items\n         */\n        var $editRow = null;\n        if ($this.hasClass('edit_anchor')) {\n            // Remember the row of the item being edited for later,\n            // so that if the edit is successful, we can replace the\n            // row with info about the modified item.\n            $editRow = $this.parents('tr');\n        }\n        /**\n         * @var $msg jQuery object containing the reference to\n         *           the AJAX message shown to the user\n         */\n        var $msg = ajaxShowMessage();\n        $.get($this.attr('href'), { 'ajax_request': true }, function (data) {\n            if (data.success !== true) {\n                ajaxShowMessage(data.error, false);\n                return;\n            }\n            // We have successfully fetched the editor form\n            ajaxRemoveMessage($msg);\n            let isEditMode = false;\n            const routinesEditorModalSaveEventHandler = function () {\n                // Move the data from the codemirror editor back to the\n                // textarea, where it can be used in the form submission.\n                if (typeof window.CodeMirror !== 'undefined') {\n                    that.syntaxHiglighter.save();\n                }\n                // Validate editor and submit request, if passed.\n                if (!that.validate()) {\n                    return;\n                }\n                /**\n                 * @var data Form data to be sent in the AJAX request\n                 */\n                var data = $('form.rte_form').last().serialize();\n                $msg = ajaxShowMessage(window.Messages.strProcessingRequest);\n                var url = $('form.rte_form').last().attr('action');\n                $.post(url, data, function (data) {\n                    if (data.success !== true) {\n                        ajaxShowMessage(data.error, false);\n                        return;\n                    }\n                    // Item created successfully\n                    ajaxRemoveMessage($msg);\n                    slidingMessage(data.message);\n                    window.bootstrap.Modal.getOrCreateInstance('#routinesEditorModal').hide();\n                    var tableId = '#' + data.tableType + 'Table';\n                    // If we are in 'edit' mode, we must\n                    // remove the reference to the old row.\n                    if (isEditMode && $editRow !== null) {\n                        $editRow.remove();\n                    }\n                    // Sometimes, like when moving a trigger from\n                    // a table to another one, the new row should\n                    // not be inserted into the list. In this case\n                    // \"data.insert\" will be set to false.\n                    if (data.insert) {\n                        // Insert the new row at the correct\n                        // location in the list of items\n                        /**\n                         * @var text Contains the name of an item from\n                         *           the list that is used in comparisons\n                         *           to find the correct location where\n                         *           to insert a new row.\n                         */\n                        var text = '';\n                        /**\n                         * @var inserted Whether a new item has been\n                         *               inserted in the list or not\n                         */\n                        var inserted = false;\n                        $(tableId + '.data').find('tr').each(function () {\n                            text = $(this)\n                                .children('td')\n                                .eq(0)\n                                .find('strong')\n                                .text()\n                                .toUpperCase()\n                                .trim();\n                            if (text !== '' && text > data.name) {\n                                $(this).before(data.new_row);\n                                inserted = true;\n                                return false;\n                            }\n                        });\n                        if (!inserted) {\n                            // If we didn't manage to insert the row yet,\n                            // it must belong at the end of the list,\n                            // so we insert it there.\n                            $(tableId + '.data').append(data.new_row);\n                        }\n                        // Fade-in the new row\n                        $('tr.ajaxInsert')\n                            .show('slow')\n                            .removeClass('ajaxInsert');\n                    }\n                    else if ($(tableId + '.data').find('tr').has('td').length === 0) {\n                        // If we are not supposed to insert the new row,\n                        // we will now check if the table is empty and\n                        // needs to be hidden. This will be the case if\n                        // we were editing the only item in the list,\n                        // which we removed and will not be inserting\n                        // something else in its place.\n                        $(tableId + '.data').hide('slow', function () {\n                            $('#nothing2display').show('slow');\n                        });\n                    }\n                    // Now we have inserted the row at the correct\n                    // position, but surely at least some row classes\n                    // are wrong now. So we will iterate through\n                    // all rows and assign correct classes to them\n                    /**\n                     * @var ct Count of processed rows\n                     */\n                    var ct = 0;\n                    /**\n                     * @var rowclass Class to be attached to the row\n                     *               that is being processed\n                     */\n                    var rowclass = '';\n                    $(tableId + '.data').find('tr').has('td').each(function () {\n                        rowclass = (ct % 2 === 0) ? 'odd' : 'even';\n                        $(this).removeClass('odd even').addClass(rowclass);\n                        ct++;\n                    });\n                    // If this is the first item being added, remove\n                    // the \"No items\" message and show the list.\n                    if ($(tableId + '.data').find('tr').has('td').length > 0 &&\n                        $('#nothing2display').is(':visible')) {\n                        $('#nothing2display').hide('slow', function () {\n                            $(tableId + '.data').show('slow');\n                        });\n                    }\n                    Navigation.reload();\n                });\n            };\n            const routinesEditorModal = document.getElementById('routinesEditorModal');\n            routinesEditorModal.addEventListener('shown.bs.modal', function () {\n                /**\n                 * Issue #15810 - use button titles for modals (eg: new procedure)\n                 * Respect the order: title on href tag, href content, title sent in response\n                 */\n                routinesEditorModal.querySelector('.modal-title').textContent = $this.attr('title') || $this.text() || $(data.title).text();\n                routinesEditorModal.querySelector('.modal-body').innerHTML = data.message;\n                const routinesEditorModalSaveButton = document.getElementById('routinesEditorModalSaveButton');\n                routinesEditorModalSaveButton?.addEventListener('click', routinesEditorModalSaveEventHandler);\n                $(this).find('input[name=item_name]').trigger('focus');\n                $(this).find('input.datefield').each(function () {\n                    addDatepicker($(this).css('width', '95%'), 'date');\n                });\n                $(this).find('input.datetimefield').each(function () {\n                    addDatepicker($(this).css('width', '95%'), 'datetime');\n                });\n                // @ts-ignore\n                $.datepicker.initialized = false;\n                if ($('input[name=editor_process_edit]').length > 0) {\n                    isEditMode = true;\n                }\n                // Attach syntax highlighted editor to the definition\n                /**\n                 * @var elm jQuery object containing the reference to\n                 *                 the Definition textarea.\n                 */\n                var $elm = $('textarea[name=item_definition]').last();\n                var linterOptions = {\n                    editorType: 'routine',\n                };\n                that.syntaxHiglighter = getSqlEditor($elm, {}, 'vertical', linterOptions);\n                window.codeMirrorEditor = that.syntaxHiglighter;\n                // Execute item-specific code\n                that.postDialogShow(data);\n            });\n            routinesEditorModal.addEventListener('hidden.bs.modal', function () {\n                const routinesEditorModalSaveButton = document.getElementById('routinesEditorModalSaveButton');\n                routinesEditorModalSaveButton?.removeEventListener('click', routinesEditorModalSaveEventHandler);\n                document.getElementById('routinesEditorModal').querySelector('.modal-body').innerHTML = '<div class=\"spinner-border\" role=\"status\">' +\n                    '<span class=\"visually-hidden\">' + window.Messages.strLoading + '</span></div>';\n            });\n            window.bootstrap.Modal.getOrCreateInstance(routinesEditorModal).show();\n        });\n    },\n    dropDialog: function ($this) {\n        /**\n         * @var $curr_row Object containing reference to the current row\n         */\n        var $currRow = $this.parents('tr');\n        /**\n         * @var question String containing the question to be asked for confirmation\n         */\n        var question = $('<div></div>').text($currRow.children('td').children('.drop_sql').html());\n        // We ask for confirmation first here, before submitting the ajax request\n        $this.confirm(question, $this.attr('href'), function (url) {\n            /**\n             * @var msg jQuery object containing the reference to\n             *          the AJAX message shown to the user\n             */\n            var $msg = ajaxShowMessage(window.Messages.strProcessingRequest);\n            var params = getJsConfirmCommonParam(this, $this.getPostData());\n            $.post(url, params, function (data) {\n                if (data.success !== true) {\n                    ajaxShowMessage(data.error, false);\n                    return;\n                }\n                /**\n                 * @var $table Object containing reference\n                 *             to the main list of elements\n                 */\n                var $table = $currRow.parent().parent();\n                // Check how many rows will be left after we remove\n                // the one that the user has requested us to remove\n                if ($table.find('tr').length === 3) {\n                    // If there are two rows left, it means that they are\n                    // the header of the table and the rows that we are\n                    // about to remove, so after the removal there will be\n                    // nothing to show in the table, so we hide it.\n                    $table.hide('slow', function () {\n                        $(this).find('tr.even, tr.odd').remove();\n                        $('.withSelected').remove();\n                        $('#nothing2display').show('slow');\n                    });\n                }\n                else {\n                    $currRow.hide('slow', function () {\n                        $(this).remove();\n                        // Now we have removed the row from the list, but maybe\n                        // some row classes are wrong now. So we will iterate\n                        // through all rows and assign correct classes to them.\n                        /**\n                         * @var ct Count of processed rows\n                         */\n                        var ct = 0;\n                        /**\n                         * @var rowclass Class to be attached to the row\n                         *               that is being processed\n                         */\n                        var rowclass = '';\n                        $table.find('tr').has('td').each(function () {\n                            rowclass = (ct % 2 === 1) ? 'odd' : 'even';\n                            $(this).removeClass('odd even').addClass(rowclass);\n                            ct++;\n                        });\n                    });\n                }\n                // Get rid of the \"Loading\" message\n                ajaxRemoveMessage($msg);\n                // Show the query that we just executed\n                slidingMessage(data.sql_query);\n                Navigation.reload();\n            }); // end $.post()\n        });\n    },\n    dropMultipleDialog: function ($this) {\n        // We ask for confirmation here\n        $this.confirm(window.Messages.strDropRTEitems, '', function () {\n            /**\n             * @var msg jQuery object containing the reference to\n             *          the AJAX message shown to the user\n             */\n            var $msg = ajaxShowMessage(window.Messages.strProcessingRequest);\n            // drop anchors of all selected rows\n            var dropAnchors = $('input.checkall:checked').parents('tr').find('.drop_anchor');\n            var success = true;\n            var count = dropAnchors.length;\n            var returnCount = 0;\n            dropAnchors.each(function () {\n                var $anchor = $(this);\n                /**\n                 * @var $curr_row Object containing reference to the current row\n                 */\n                var $currRow = $anchor.parents('tr');\n                var params = getJsConfirmCommonParam(this, $anchor.getPostData());\n                $.post($anchor.attr('href'), params, function (data) {\n                    returnCount++;\n                    if (data.success !== true) {\n                        ajaxShowMessage(data.error, false);\n                        success = false;\n                        if (returnCount === count) {\n                            Navigation.reload();\n                        }\n                        return;\n                    }\n                    /**\n                     * @var $table Object containing reference\n                     *             to the main list of elements\n                     */\n                    var $table = $currRow.parent().parent();\n                    // Check how many rows will be left after we remove\n                    // the one that the user has requested us to remove\n                    if ($table.find('tr').length === 3) {\n                        // If there are two rows left, it means that they are\n                        // the header of the table and the rows that we are\n                        // about to remove, so after the removal there will be\n                        // nothing to show in the table, so we hide it.\n                        $table.hide('slow', function () {\n                            $(this).find('tr.even, tr.odd').remove();\n                            $('.withSelected').remove();\n                            $('#nothing2display').show('slow');\n                        });\n                    }\n                    else {\n                        $currRow.hide('fast', function () {\n                            // we will iterate\n                            // through all rows and assign correct classes to them.\n                            /**\n                             * @var ct Count of processed rows\n                             */\n                            var ct = 0;\n                            /**\n                             * @var rowclass Class to be attached to the row\n                             *               that is being processed\n                             */\n                            var rowclass = '';\n                            $table.find('tr').has('td').each(function () {\n                                rowclass = (ct % 2 === 1) ? 'odd' : 'even';\n                                $(this).removeClass('odd even').addClass(rowclass);\n                                ct++;\n                            });\n                        });\n                        $currRow.remove();\n                    }\n                    if (returnCount === count) {\n                        if (success) {\n                            // Get rid of the \"Loading\" message\n                            ajaxRemoveMessage($msg);\n                            $('#rteListForm_checkall').prop({ checked: false, indeterminate: false });\n                        }\n                        Navigation.reload();\n                    }\n                }); // end $.post()\n            }); // end drop_anchors.each()\n        });\n    },\n    /**\n     * Execute some code after the ajax dialog for the editor is shown.\n     *\n     * @param data JSON-encoded data from the ajax request\n     */\n    postDialogShow: function (data) {\n        // Cache the template for a parameter table row\n        DatabaseRoutines.paramTemplate = data.paramTemplate;\n        var that = this;\n        // Make adjustments in the dialog to make it AJAX compatible\n        $('td.routine_param_remove').show();\n        // Enable/disable the 'options' dropdowns for parameters as necessary\n        $('table.routine_params_table').last().find('th[colspan=2]').attr('colspan', '1');\n        $('table.routine_params_table').last().find('tr').has('td').each(function () {\n            that.setOptionsForParameter($(this).find('select[name^=item_param_type]'), $(this).find('input[name^=item_param_length]'), $(this).find('select[name^=item_param_opts_text]'), $(this).find('select[name^=item_param_opts_num]'));\n        });\n        // Enable/disable the 'options' dropdowns for\n        // function return value as necessary\n        this.setOptionsForParameter($('table.rte_table').last().find('select[name=item_returntype]'), $('table.rte_table').last().find('input[name=item_returnlength]'), $('table.rte_table').last().find('select[name=item_returnopts_text]'), $('table.rte_table').last().find('select[name=item_returnopts_num]'));\n        // Allow changing parameter order\n        $('.routine_params_table tbody').sortable({\n            containment: '.routine_params_table tbody',\n            handle: '.dragHandle',\n            stop: function () {\n                that.reindexParameters();\n            },\n        });\n    },\n    /**\n     * Reindexes the parameters after dropping a parameter or reordering parameters\n     */\n    reindexParameters: function () {\n        /**\n         * @var index Counter used for reindexing the input\n         *            fields in the routine parameters table\n         */\n        var index = 0;\n        $('table.routine_params_table tbody').find('tr').each(function () {\n            $(this).find(':input').each(function () {\n                /**\n                 * @var inputname The value of the name attribute of\n                 *                the input field being reindexed\n                 */\n                var inputname = $(this).attr('name');\n                if (inputname.startsWith('item_param_dir')) {\n                    $(this).attr('name', inputname.substring(0, 14) + '[' + index + ']');\n                }\n                else if (inputname.startsWith('item_param_name')) {\n                    $(this).attr('name', inputname.substring(0, 15) + '[' + index + ']');\n                }\n                else if (inputname.startsWith('item_param_type')) {\n                    $(this).attr('name', inputname.substring(0, 15) + '[' + index + ']');\n                }\n                else if (inputname.startsWith('item_param_length')) {\n                    $(this).attr('name', inputname.substring(0, 17) + '[' + index + ']');\n                    $(this).attr('id', 'item_param_length_' + index);\n                }\n                else if (inputname.startsWith('item_param_opts_text')) {\n                    $(this).attr('name', inputname.substring(0, 20) + '[' + index + ']');\n                }\n                else if (inputname.startsWith('item_param_opts_num')) {\n                    $(this).attr('name', inputname.substring(0, 19) + '[' + index + ']');\n                }\n            });\n            index++;\n        });\n    },\n    /**\n     * Validate custom editor form fields.\n     *\n     * @return {boolean}\n     */\n    validateCustom: function () {\n        /**\n         * @var isSuccess Stores the outcome of the validation\n         */\n        var isSuccess = true;\n        /**\n         * @var inputname The value of the \"name\" attribute for\n         *                the field that is being processed\n         */\n        var inputname = '';\n        const routinesEditorModal = $('#routinesEditorModal');\n        routinesEditorModal.find('table.routine_params_table').last().find('tr').each(function () {\n            // Every parameter of a routine must have\n            // a non-empty direction, name and type\n            if (!isSuccess) {\n                return false;\n            }\n            $(this).find(':input').each(function () {\n                inputname = $(this).attr('name');\n                if (inputname.startsWith('item_param_dir') ||\n                    inputname.startsWith('item_param_name') ||\n                    inputname.startsWith('item_param_type')) {\n                    if ($(this).val() === '') {\n                        $(this).trigger('focus');\n                        isSuccess = false;\n                        return false;\n                    }\n                }\n            });\n        });\n        if (!isSuccess) {\n            alert(window.Messages.strFormEmpty);\n            return false;\n        }\n        routinesEditorModal.find('table.routine_params_table').last().find('tr').each(function () {\n            // SET, ENUM, VARCHAR and VARBINARY fields must have length/values\n            var $inputtyp = $(this).find('select[name^=item_param_type]');\n            var $inputlen = $(this).find('input[name^=item_param_length]');\n            if ($inputtyp.length && $inputlen.length) {\n                if (($inputtyp.val() === 'ENUM' || $inputtyp.val() === 'SET' || $inputtyp.val().startsWith('VAR')) &&\n                    $inputlen.val() === '') {\n                    $inputlen.trigger('focus');\n                    isSuccess = false;\n                    return false;\n                }\n            }\n        });\n        if (!isSuccess) {\n            alert(window.Messages.strFormEmpty);\n            return false;\n        }\n        if (routinesEditorModal.find('select[name=item_type]').find(':selected').val() === 'FUNCTION') {\n            // The length/values of return variable for functions must\n            // be set, if the type is SET, ENUM, VARCHAR or VARBINARY.\n            var $returntyp = routinesEditorModal.find('select[name=item_returntype]');\n            var $returnlen = routinesEditorModal.find('input[name=item_returnlength]');\n            if (($returntyp.val() === 'ENUM' || $returntyp.val() === 'SET' || $returntyp.val().startsWith('VAR')) &&\n                $returnlen.val() === '') {\n                $returnlen.trigger('focus');\n                alert(window.Messages.strFormEmpty);\n                return false;\n            }\n        }\n        if ($('select[name=item_type]').find(':selected').val() === 'FUNCTION') {\n            // A function must contain a RETURN statement in its definition\n            const itemDefinitionValue = routinesEditorModal.find('table.rte_table').find('textarea[name=item_definition]').val();\n            if (itemDefinitionValue.toUpperCase().indexOf('RETURN') < 0) {\n                this.syntaxHiglighter.focus();\n                alert(window.Messages.MissingReturn);\n                return false;\n            }\n        }\n        return true;\n    },\n    /**\n     * Enable/disable the \"options\" dropdown and \"length\" input for\n     * parameters and the return variable in the routine editor\n     * as necessary.\n     *\n     * @param $type a jQuery object containing the reference\n     *              to the \"Type\" dropdown box\n     * @param $len  a jQuery object containing the reference\n     *              to the \"Length\" input box\n     * @param $text a jQuery object containing the reference\n     *              to the dropdown box with options for\n     *              parameters of text type\n     * @param $num  a jQuery object containing the reference\n     *              to the dropdown box with options for\n     *              parameters of numeric type\n     */\n    setOptionsForParameter: function ($type, $len, $text, $num) {\n        /**\n         * @var no_opts a jQuery object containing the reference\n         *              to an element to be displayed when no\n         *              options are available\n         */\n        var $noOpts = $text.parent().parent().find('.no_opts');\n        /**\n         * @var no_len a jQuery object containing the reference\n         *             to an element to be displayed when no\n         *             \"length/values\" field is available\n         */\n        var $noLen = $len.parent().parent().find('.no_len');\n        // Process for parameter options\n        switch ($type.val()) {\n            case 'TINYINT':\n            case 'SMALLINT':\n            case 'MEDIUMINT':\n            case 'INT':\n            case 'BIGINT':\n            case 'DECIMAL':\n            case 'FLOAT':\n            case 'DOUBLE':\n            case 'REAL':\n                $text.parent().hide();\n                $num.parent().show();\n                $noOpts.hide();\n                break;\n            case 'TINYTEXT':\n            case 'TEXT':\n            case 'MEDIUMTEXT':\n            case 'LONGTEXT':\n            case 'CHAR':\n            case 'VARCHAR':\n            case 'SET':\n            case 'ENUM':\n                $text.parent().show();\n                $num.parent().hide();\n                $noOpts.hide();\n                break;\n            default:\n                $text.parent().hide();\n                $num.parent().hide();\n                $noOpts.show();\n                break;\n        }\n        // Process for parameter length\n        switch ($type.val()) {\n            case 'DATE':\n            case 'TINYBLOB':\n            case 'TINYTEXT':\n            case 'BLOB':\n            case 'TEXT':\n            case 'MEDIUMBLOB':\n            case 'MEDIUMTEXT':\n            case 'LONGBLOB':\n            case 'LONGTEXT':\n                $text.closest('tr').find('a').first().hide();\n                $len.parent().hide();\n                $noLen.show();\n                break;\n            default:\n                if ($type.val() === 'ENUM' || $type.val() === 'SET') {\n                    $text.closest('tr').find('a').first().show();\n                }\n                else {\n                    $text.closest('tr').find('a').first().hide();\n                }\n                $len.parent().show();\n                $noLen.hide();\n                break;\n        }\n    },\n    executeDialog: function ($this) {\n        /**\n         * @var msg jQuery object containing the reference to\n         *          the AJAX message shown to the user\n         */\n        var $msg = ajaxShowMessage();\n        var params = getJsConfirmCommonParam($this[0], $this.getPostData());\n        $.post($this.attr('href'), params, function (data) {\n            if (data.success !== true) {\n                ajaxShowMessage(data.error, false);\n                return;\n            }\n            ajaxRemoveMessage($msg);\n            // If 'data.dialog' is true we show a dialog with a form\n            // to get the input parameters for routine, otherwise\n            // we just show the results of the query\n            if (!data.dialog) {\n                // Routine executed successfully\n                slidingMessage(data.message);\n                return;\n            }\n            const routinesExecuteModal = document.getElementById('routinesExecuteModal');\n            const modal = window.bootstrap.Modal.getOrCreateInstance(routinesExecuteModal);\n            const routinesExecuteButtonEventHandler = function () {\n                /**\n                 * @var data Form data to be sent in the AJAX request\n                 */\n                var data = $('form.rte_form').last().serialize();\n                $msg = ajaxShowMessage(window.Messages.strProcessingRequest);\n                $.post('index.php?route=/database/routines', data, function (data) {\n                    if (data.success === true) {\n                        // Routine executed successfully\n                        ajaxRemoveMessage($msg);\n                        slidingMessage(data.message);\n                        modal.hide();\n                    }\n                    else {\n                        ajaxShowMessage(data.error, false);\n                    }\n                });\n            };\n            routinesExecuteModal.addEventListener('hidden.bs.modal', function () {\n                routinesExecuteModal.querySelector('.modal-title').textContent = '';\n                routinesExecuteModal.querySelector('.modal-body').innerHTML = '';\n                const routinesExecuteModalExecuteButton = document.getElementById('routinesExecuteModalExecuteButton');\n                routinesExecuteModalExecuteButton?.removeEventListener('click', routinesExecuteButtonEventHandler);\n            });\n            routinesExecuteModal.addEventListener('shown.bs.modal', function () {\n                routinesExecuteModal.querySelector('.modal-title').textContent = data.title;\n                routinesExecuteModal.querySelector('.modal-body').innerHTML = data.message;\n                const routinesExecuteModalExecuteButton = document.getElementById('routinesExecuteModalExecuteButton');\n                routinesExecuteModalExecuteButton?.addEventListener('click', routinesExecuteButtonEventHandler);\n                const modalBody = $('#routinesExecuteModal .modal-body');\n                modalBody.find('input[name^=params]').first().trigger('focus');\n                /**\n                 * Attach the datepickers to the relevant form fields\n                 */\n                modalBody.find('input.datefield, input.datetimefield').each(function () {\n                    addDatepicker($(this).css('width', '95%'));\n                });\n                /*\n                * Define the function if the user presses enter\n                */\n                $('form.rte_form').on('keyup', function (event) {\n                    event.preventDefault();\n                    if (event.keyCode !== 13) {\n                        return;\n                    }\n                    /**\n                     * @var data Form data to be sent in the AJAX request\n                     */\n                    var data = $(this).serialize();\n                    $msg = ajaxShowMessage(window.Messages.strProcessingRequest);\n                    var url = $(this).attr('action');\n                    $.post(url, data, function (data) {\n                        if (data.success !== true) {\n                            ajaxShowMessage(data.error, false);\n                            return;\n                        }\n                        // Routine executed successfully\n                        ajaxRemoveMessage($msg);\n                        slidingMessage(data.message);\n                        $('form.rte_form').off('keyup');\n                        modal.hide();\n                    });\n                });\n            });\n            modal.show();\n        });\n    }\n};\nAJAX.registerOnload('database/routines.js', function () {\n    $(document).on('click', 'a.ajax.add_anchor', function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        $.datepicker.initialized = false;\n        DatabaseRoutines.editorDialog(true, $(this));\n    });\n    $(document).on('click', 'a.ajax.edit_anchor', function (event) {\n        event.preventDefault();\n        DatabaseRoutines.editorDialog(false, $(this));\n    });\n    $(document).on('click', 'a.ajax.exec_anchor', function (event) {\n        event.preventDefault();\n        DatabaseRoutines.executeDialog($(this));\n    });\n    $(document).on('click', 'a.ajax.export_anchor', function (event) {\n        event.preventDefault();\n        DatabaseRoutines.exportDialog($(this));\n    });\n    $(document).on('click', '#bulkActionExportButton', function (event) {\n        event.preventDefault();\n        DatabaseRoutines.exportDialog($(this));\n    });\n    $(document).on('click', 'a.ajax.drop_anchor', function (event) {\n        event.preventDefault();\n        DatabaseRoutines.dropDialog($(this));\n    });\n    $(document).on('click', '#bulkActionDropButton', function (event) {\n        event.preventDefault();\n        DatabaseRoutines.dropMultipleDialog($(this));\n    });\n    $(document).on('change', 'select[name=item_type]', function () {\n        $(this).closest('table').find('tr.routine_return_row, .routine_direction_cell').toggle();\n    });\n    $(document).on('change', 'select[name^=item_param_type]', function () {\n        const $row = $(this).parents('tr').first();\n        DatabaseRoutines.setOptionsForParameter($row.find('select[name^=item_param_type]'), $row.find('input[name^=item_param_length]'), $row.find('select[name^=item_param_opts_text]'), $row.find('select[name^=item_param_opts_num]'));\n    });\n    $(document).on('change', 'select[name=item_returntype]', function () {\n        const $table = $(this).closest('table.rte_table');\n        DatabaseRoutines.setOptionsForParameter($table.find('select[name=item_returntype]'), $table.find('input[name=item_returnlength]'), $table.find('select[name=item_returnopts_text]'), $table.find('select[name=item_returnopts_num]'));\n    });\n    $(document).on('click', '#addRoutineParameterButton', function (event) {\n        event.preventDefault();\n        /**\n         * @var routine_params_table jQuery object containing the reference\n         *                           to the routine parameters table\n         */\n        const $routineParamsTable = $(this).closest('div.modal').find('.routine_params_table');\n        /**\n         * @var new_param_row A string containing the HTML code for the\n         *                    new row for the routine parameters table\n         */\n        const newParamRow = DatabaseRoutines.paramTemplate.replace(/%s/g, ($routineParamsTable.find('tr').length - 1).toString());\n        // Append the new row to the parameters table\n        $routineParamsTable.append(newParamRow);\n        // Make sure that the row is correctly shown according to the type of routine\n        if ($(this).closest('div.modal').find('table.rte_table select[name=item_type]').val() === 'FUNCTION') {\n            $('tr.routine_return_row').show();\n            $('td.routine_direction_cell').hide();\n        }\n        /**\n         * @var newrow jQuery object containing the reference to the newly\n         *             inserted row in the routine parameters table\n         */\n        const $newrow = $(this).closest('div.modal').find('table.routine_params_table').find('tr').has('td').last();\n        // Enable/disable the 'options' dropdowns for parameters as necessary\n        DatabaseRoutines.setOptionsForParameter($newrow.find('select[name^=item_param_type]'), $newrow.find('input[name^=item_param_length]'), $newrow.find('select[name^=item_param_opts_text]'), $newrow.find('select[name^=item_param_opts_num]'));\n    });\n    $(document).on('click', 'a.routine_param_remove_anchor', function (event) {\n        event.preventDefault();\n        $(this).parent().parent().remove();\n        // After removing a parameter, the indices of the name attributes in\n        // the input fields lose the correct order and need to be reordered.\n        DatabaseRoutines.reindexParameters();\n    });\n});\n"],"names":["$","AJAX","addDatepicker","getSqlEditor","slidingMessage","Navigation","ajaxRemoveMessage","ajaxShowMessage","getJsConfirmCommonParam","registerTeardown","document","off","DatabaseRoutines","paramTemplate","syntaxHiglighter","validate","$elm","last","find","val","trigger","alert","window","Messages","strFormEmpty","focus","validateCustom","exportDialog","$this","$msg","attr","combined","success","title","strExport","message","error","exportAnchors","parents","count","length","returnCount","NoExportable","p","when","each","h","then","get","data","showExport","routinesExportTextarea","strRoutine","routinesExportModal","getElementById","addEventListener","querySelector","textContent","innerHTML","bootstrap","Modal","getOrCreateInstance","show","editorDialog","isNew","that","$editRow","hasClass","isEditMode","routinesEditorModalSaveEventHandler","CodeMirror","save","serialize","strProcessingRequest","url","post","hide","tableId","tableType","remove","insert","text","inserted","children","eq","toUpperCase","trim","name","before","new_row","append","removeClass","has","ct","rowclass","addClass","is","reload","routinesEditorModal","routinesEditorModalSaveButton","css","datepicker","initialized","linterOptions","editorType","codeMirrorEditor","postDialogShow","removeEventListener","strLoading","dropDialog","$currRow","question","html","confirm","params","getPostData","$table","parent","sql_query","dropMultipleDialog","strDropRTEitems","dropAnchors","$anchor","prop","checked","indeterminate","setOptionsForParameter","sortable","containment","handle","stop","reindexParameters","index","inputname","startsWith","substring","isSuccess","$inputtyp","$inputlen","$returntyp","$returnlen","itemDefinitionValue","indexOf","MissingReturn","$type","$len","$text","$num","$noOpts","$noLen","closest","first","executeDialog","dialog","routinesExecuteModal","modal","routinesExecuteButtonEventHandler","routinesExecuteModalExecuteButton","modalBody","on","event","preventDefault","keyCode","registerOnload","toggle","$row","$routineParamsTable","newParamRow","replace","toString","$newrow"],"sourceRoot":""}