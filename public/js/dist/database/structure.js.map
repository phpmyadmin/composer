{"version":3,"file":"database/structure.js","mappings":";;;;;;AAAA;;;;;;;;;;;;;;;;;;ACAuB;AACmB;AACoD;AACxC;AACF;AAC4B;AACM;AACV;AACZ;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,kDAAI,CAACW,gBAAgB,CAAC,uBAAuB,EAAE,YAAY;EACvDZ,6CAAC,CAACa,QAAQ,CAAC,CAACC,GAAG,CAAC,OAAO,EAAE,8BAA8B,CAAC;EACxDd,6CAAC,CAACa,QAAQ,CAAC,CAACC,GAAG,CAAC,OAAO,EAAE,0BAA0B,CAAC;EACpDd,6CAAC,CAACa,QAAQ,CAAC,CAACC,GAAG,CAAC,OAAO,EAAE,8BAA8B,CAAC;EACxDd,6CAAC,CAAC,kBAAkB,CAAC,CAACc,GAAG,CAAC,OAAO,CAAC;EAClCd,6CAAC,CAAC,iBAAiB,CAAC,CAACc,GAAG,CAAC,OAAO,CAAC;EACjCd,6CAAC,CAAC,0BAA0B,CAAC,CAACc,GAAG,CAAC,QAAQ,CAAC;AAC/C,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA,SAASC,iBAAiBA,CAACC,OAAO,EAAE;EAChC,IAAIC,SAAS,GAAGjB,6CAAC,CAAC,iBAAiB,CAAC,CAACkB,IAAI,CAAC,WAAW,CAAC,CACjDC,KAAK,CAAC,CAAC,CACPC,KAAK,CAAC,CAAC,CACPC,GAAG,CAAC;IAAEC,UAAU,EAAE,SAAS;IAAEC,OAAO,EAAE;EAAe,CAAC,CAAC,CACvDC,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC;EACvBR,OAAO,CAACS,IAAI,CAACR,SAAS,CAAC;EACvBjB,kDAAM,CAAC;IACH2B,IAAI,EAAE,KAAK;IACXC,GAAG,EAAEZ,OAAO,CAACa,IAAI,CAAC,MAAM,CAAC;IACzBC,KAAK,EAAE,KAAK;IACZC,QAAQ,EAAE,MAAM;IAChBC,OAAO,EAAE,SAAAA,CAAUC,QAAQ,EAAE;MACzB,IAAIA,QAAQ,CAACD,OAAO,EAAE;QAClB;QACA,IAAIC,QAAQ,CAACC,kBAAkB,EAAE;UAC7BlC,kDAAM,CAACiC,QAAQ,CAACC,kBAAkB,EAAE,UAAUE,KAAK,EAAEC,KAAK,EAAE;YACxD;YACArC,6CAAC,CAAC,6BAA6B,GAAGU,4EAAc,CAAC2B,KAAK,CAACA,KAAK,CAAC,GAAG,IAAI,CAAC,CAChEC,IAAI,CAACD,KAAK,CAACE,SAAS,CAAC;UAC9B,CAAC,CAAC;QACN;QACA;QACA,IAAIN,QAAQ,CAACO,cAAc,EAAE;UACzB;UACAxB,OAAO,CAACyB,MAAM,CAAC,CAAC,CAACH,IAAI,CAACL,QAAQ,CAACO,cAAc,CAAC;QAClD;QACA;QACA7B,8EAAY,CAAC,CAAC;MAClB,CAAC,MACI;QACDJ,yEAAe,CAACmC,MAAM,CAACC,QAAQ,CAACC,oBAAoB,CAAC;MACzD;IACJ,CAAC;IACDC,KAAK,EAAE,SAAAA,CAAA,EAAY;MACftC,yEAAe,CAACmC,MAAM,CAACC,QAAQ,CAACC,oBAAoB,CAAC;IACzD;EACJ,CAAC,CAAC;AACN;AACA,SAASE,yBAAyBA,CAAA,EAAG;EACjCjC,QAAQ,CAACkC,gBAAgB,CAAC,wBAAwB,CAAC,CAACC,OAAO,CAAEC,mBAAmB,IAAK;IACjF,IAAIP,MAAM,CAACQ,SAAS,CAACC,OAAO,CAACF,mBAAmB,CAAC;EACrD,CAAC,CAAC;AACN;AACAhD,kDAAI,CAACmD,cAAc,CAAC,uBAAuB,EAAE,YAAY;EACrD;AACJ;AACA;EACIpD,6CAAC,CAAC,0BAA0B,CAAC,CAACwB,EAAE,CAAC,QAAQ,EAAE,UAAU6B,KAAK,EAAE;IACxD,IAAIzB,GAAG,GAAG,qCAAqC;IAC/C,IAAI0B,MAAM,GAAGtD,6CAAC,CAAC,IAAI,CAAC,CAACuD,GAAG,CAAC,CAAC;IAC1B,IAAID,MAAM,KAAK,mCAAmC,EAAE;MAChDD,KAAK,CAACG,cAAc,CAAC,CAAC;MACtBH,KAAK,CAACI,eAAe,CAAC,CAAC;MACvBzD,6CAAC,CAAC,qCAAqC,CAAC,CAAC0D,KAAK,CAAC,MAAM,CAAC,CAAClC,EAAE,CAAC,gBAAgB,EAAE,YAAY;QACpFxB,6CAAC,CAAC,wCAAwC,CAAC,CAACwB,EAAE,CAAC,OAAO,EAAE,YAAY;UAChE,MAAMmC,KAAK,GAAG3D,6CAAC,CAAC,aAAa,CAAC;UAC9B,MAAM4D,MAAM,GAAGvD,4DAAY,CAACwD,GAAG,CAAC,eAAe,CAAC;UAChD,MAAMC,IAAI,GAAGH,KAAK,CAACI,SAAS,CAAC,CAAC,GAAGH,MAAM,GAAG,mBAAmB,GAAGA,MAAM,GAAG,wBAAwB;UACjGrD,yEAAe,CAAC,CAAC;UACjBN,kDAAI,CAAC+D,MAAM,GAAGL,KAAK;UACnB3D,kDAAM,CAAC,qEAAqE,EAAE8D,IAAI,EAAE7D,kDAAI,CAACiE,eAAe,CAAC;UACzGlE,6CAAC,CAAC,qCAAqC,CAAC,CAAC0D,KAAK,CAAC,MAAM,CAAC;QAC1D,CAAC,CAAC;MACN,CAAC,CAAC;MACF;IACJ;IACA,IAAIJ,MAAM,KAAK,UAAU,IACrBA,MAAM,KAAK,gBAAgB,IAC3BA,MAAM,KAAK,oBAAoB,IAC/BA,MAAM,KAAK,wBAAwB,EAAE;MACrCD,KAAK,CAACG,cAAc,CAAC,CAAC;MACtBH,KAAK,CAACI,eAAe,CAAC,CAAC;MACvB,IAAIzD,6CAAC,CAAC,sCAAsC,CAAC,CAACmE,MAAM,KAAK,CAAC,EAAE;QACxD,OAAO,KAAK;MAChB;MACA,IAAIC,QAAQ,GAAGpE,6CAAC,CAAC,aAAa,CAAC,CAAC+D,SAAS,CAAC,CAAC;MAC3C,IAAIM,UAAU,GAAG,EAAE;MACnB,IAAIf,MAAM,KAAK,UAAU,EAAE;QACvB1B,GAAG,GAAG,+CAA+C;QACrDyC,UAAU,GAAG3B,MAAM,CAACC,QAAQ,CAAC2B,eAAe;MAChD,CAAC,MACI,IAAIhB,MAAM,KAAK,gBAAgB,EAAE;QAClC1B,GAAG,GAAG,gDAAgD;QACtDyC,UAAU,GAAG3B,MAAM,CAACC,QAAQ,CAAC4B,YAAY;MAC7C,CAAC,MACI,IAAIjB,MAAM,KAAK,oBAAoB,EAAE;QACtC1B,GAAG,GAAG,wDAAwD;QAC9DyC,UAAU,GAAG3B,MAAM,CAACC,QAAQ,CAAC6B,gBAAgB;MACjD,CAAC,MACI,IAAIlB,MAAM,KAAK,wBAAwB,EAAE;QAC1C1B,GAAG,GAAG,wDAAwD;QAC9DyC,UAAU,GAAG3B,MAAM,CAACC,QAAQ,CAAC8B,aAAa;MAC9C;MACAzE,kDAAM,CAAC;QACH2B,IAAI,EAAE,MAAM;QACZC,GAAG,EAAEA,GAAG;QACRG,QAAQ,EAAE,MAAM;QAChB+B,IAAI,EAAEM;MACV,CAAC,CAAC,CAACM,IAAI,CAAC,UAAUC,SAAS,EAAE;QACzB,MAAMC,eAAe,GAAG5E,6CAAC,CAAC,kBAAkB,CAAC;QAC7C4E,eAAe,CAACpD,EAAE,CAAC,eAAe,EAAE,YAAY;UAC5C,IAAI,CAACqD,aAAa,CAAC,cAAc,CAAC,CAACC,SAAS,GAAGT,UAAU;UACzD,IAAI,CAACQ,aAAa,CAAC,aAAa,CAAC,CAACE,SAAS,GAAGJ,SAAS;QAC3D,CAAC,CAAC;QACFC,eAAe,CAAClB,KAAK,CAAC,MAAM,CAAC,CAAClC,EAAE,CAAC,gBAAgB,EAAE,YAAY;UAC3DxB,6CAAC,CAAC,qBAAqB,CAAC,CAACwB,EAAE,CAAC,OAAO,EAAE,YAAY;YAC7CxB,6CAAC,CAAC,YAAY,CAAC,CAACgF,OAAO,CAAC,QAAQ,CAAC;YACjChF,6CAAC,CAAC,kBAAkB,CAAC,CAAC0D,KAAK,CAAC,MAAM,CAAC;UACvC,CAAC,CAAC;QACN,CAAC,CAAC;MACN,CAAC,CAAC;MACF;IACJ;IACA,IAAIJ,MAAM,KAAK,aAAa,EAAE;MAC1B1B,GAAG,GAAG,4CAA4C;IACtD,CAAC,MACI,IAAI0B,MAAM,KAAK,kCAAkC,EAAE;MACpD1B,GAAG,GAAG,yDAAyD;IACnE,CAAC,MACI,IAAI0B,MAAM,KAAK,oCAAoC,EAAE;MACtD1B,GAAG,GAAG,4DAA4D;IACtE,CAAC,MACI,IAAI0B,MAAM,KAAK,WAAW,EAAE;MAC7B1B,GAAG,GAAG,0CAA0C;IACpD,CAAC,MACI,IAAI0B,MAAM,KAAK,cAAc,EAAE;MAChC1B,GAAG,GAAG,6CAA6C;IACvD,CAAC,MACI,IAAI0B,MAAM,KAAK,UAAU,EAAE;MAC5B1B,GAAG,GAAG,+CAA+C;IACzD,CAAC,MACI,IAAI0B,MAAM,KAAK,WAAW,EAAE;MAC7B1B,GAAG,GAAG,gDAAgD;IAC1D,CAAC,MACI,IAAI0B,MAAM,KAAK,QAAQ,EAAE;MAC1B1B,GAAG,GAAG,gCAAgC;IAC1C,CAAC,MACI,IAAI0B,MAAM,KAAK,cAAc,EAAE;MAChC1B,GAAG,GAAG,6CAA6C;IACvD,CAAC,MACI,IAAI0B,MAAM,KAAK,YAAY,EAAE;MAC9B1B,GAAG,GAAG,2CAA2C;IACrD,CAAC,MACI,IAAI0B,MAAM,KAAK,aAAa,EAAE;MAC/B1B,GAAG,GAAG,iDAAiD;IAC3D,CAAC,MACI;MACD5B,6CAAC,CAAC,aAAa,CAAC,CAACgF,OAAO,CAAC,QAAQ,CAAC;MAClC;IACJ;IACA,IAAIrB,KAAK,GAAG3D,6CAAC,CAAC,IAAI,CAAC,CAACiF,OAAO,CAAC,MAAM,CAAC;IACnC,IAAIC,MAAM,GAAG7E,4DAAY,CAACwD,GAAG,CAAC,eAAe,CAAC;IAC9C,IAAIC,IAAI,GAAGH,KAAK,CAACI,SAAS,CAAC,CAAC,GAAGmB,MAAM,GAAG,mBAAmB,GAAGA,MAAM,GAAG,wBAAwB;IAC/F3E,yEAAe,CAAC,CAAC;IACjBN,kDAAI,CAAC+D,MAAM,GAAGL,KAAK;IACnB3D,kDAAM,CAAC4B,GAAG,EAAEkC,IAAI,EAAE7D,kDAAI,CAACiE,eAAe,CAAC;EAC3C,CAAC,CAAC;EACF;AACJ;AACA;EACIlE,6CAAC,CAACa,QAAQ,CAAC,CAACW,EAAE,CAAC,OAAO,EAAE,8BAA8B,EAAE,UAAU6B,KAAK,EAAE;IACrEA,KAAK,CAACG,cAAc,CAAC,CAAC;IACtB;AACR;AACA;IACQ,IAAI2B,WAAW,GAAGnF,6CAAC,CAAC,IAAI,CAAC;IACzB;IACA;AACR;AACA;IACQ,IAAIoF,aAAa,GAAGD,WAAW,CAACF,OAAO,CAAC,IAAI,CAAC,CAACI,QAAQ,CAAC,IAAI,CAAC,CAACA,QAAQ,CAAC,GAAG,CAAC,CAAC/C,IAAI,CAAC,CAAC;IACjF;AACR;AACA;IACQ,IAAIgD,QAAQ,GAAG5C,MAAM,CAACC,QAAQ,CAAC4C,6BAA6B,GAAG,GAAG,GAC9D7C,MAAM,CAAC8C,OAAO,CAAC9C,MAAM,CAACC,QAAQ,CAAC8C,cAAc,EAAE,YAAY,GAAGhF,wEAAU,CAAC2E,aAAa,CAAC,GAAG,GAAG,CAAC,GAC9FlF,kFAA2B,CAAC,CAAC;IACjCiF,WAAW,CAACO,OAAO,CAACJ,QAAQ,EAAEH,WAAW,CAACtD,IAAI,CAAC,MAAM,CAAC,EAAE,UAAUD,GAAG,EAAE;MACnErB,yEAAe,CAACmC,MAAM,CAACC,QAAQ,CAACgD,oBAAoB,CAAC;MACrD,IAAIC,MAAM,GAAGpF,yFAAuB,CAAC,IAAI,EAAE2E,WAAW,CAACU,WAAW,CAAC,CAAC,CAAC;MACrE7F,kDAAM,CAAC4B,GAAG,EAAEgE,MAAM,EAAE,UAAU9B,IAAI,EAAE;QAChC,IAAI,OAAOA,IAAI,KAAK,WAAW,IAAIA,IAAI,CAAC9B,OAAO,KAAK,IAAI,EAAE;UACtDzB,yEAAe,CAACuD,IAAI,CAACgC,OAAO,CAAC;UAC7B;UACA,IAAIC,GAAG,GAAGZ,WAAW,CAACa,OAAO,CAAC,IAAI,CAAC;UACnCD,GAAG,CAAC7E,IAAI,CAAC,WAAW,CAAC,CAACoB,IAAI,CAAC,GAAG,CAAC;UAC/ByD,GAAG,CAAC7E,IAAI,CAAC,0BAA0B,CAAC,CAACoB,IAAI,CAAC,GAAG,CAAC;UAC9C3B,8EAAY,CAAC,CAAC;QAClB,CAAC,MACI;UACDJ,yEAAe,CAACmC,MAAM,CAACC,QAAQ,CAACsD,yBAAyB,GAAG,KAAK,GAAGnC,IAAI,CAACjB,KAAK,EAAE,KAAK,CAAC;QAC1F;MACJ,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,EAAE1C,yEAAsB,CAAC;EAC9B,CAAC,CAAC,CAAC,CAAC;EACJ;AACJ;AACA;EACIH,6CAAC,CAACa,QAAQ,CAAC,CAACW,EAAE,CAAC,OAAO,EAAE,0BAA0B,EAAE,UAAU6B,KAAK,EAAE;IACjEA,KAAK,CAACG,cAAc,CAAC,CAAC;IACtB,IAAI2B,WAAW,GAAGnF,6CAAC,CAAC,IAAI,CAAC;IACzB;IACA;AACR;AACA;IACQ,IAAIkG,QAAQ,GAAGf,WAAW,CAACF,OAAO,CAAC,IAAI,CAAC;IACxC;AACR;AACA;IACQ,IAAIG,aAAa,GAAGc,QAAQ,CAACb,QAAQ,CAAC,IAAI,CAAC,CAACA,QAAQ,CAAC,GAAG,CAAC,CAAC/C,IAAI,CAAC,CAAC;IAChE;AACR;AACA;IACQ,IAAI6D,MAAM,GAAGD,QAAQ,CAACE,QAAQ,CAAC,SAAS,CAAC,IAAIjB,WAAW,CAACiB,QAAQ,CAAC,MAAM,CAAC;IACzE;AACR;AACA;IACQ,IAAId,QAAQ;IACZ,IAAI,CAACa,MAAM,EAAE;MACTb,QAAQ,GAAG5C,MAAM,CAACC,QAAQ,CAAC0D,yBAAyB,GAAG,GAAG,GACtD3D,MAAM,CAAC8C,OAAO,CAAC9C,MAAM,CAACC,QAAQ,CAAC8C,cAAc,EAAE,cAAc,GAAGhF,wEAAU,CAAC2E,aAAa,CAAC,GAAG,GAAG,CAAC;IACxG,CAAC,MACI;MACDE,QAAQ,GACJ5C,MAAM,CAAC8C,OAAO,CAAC9C,MAAM,CAACC,QAAQ,CAAC8C,cAAc,EAAE,aAAa,GAAGhF,wEAAU,CAAC2E,aAAa,CAAC,GAAG,GAAG,CAAC;IACvG;IACAE,QAAQ,IAAIpF,kFAA2B,CAAC,CAAC;IACzCiF,WAAW,CAACO,OAAO,CAACJ,QAAQ,EAAEH,WAAW,CAACtD,IAAI,CAAC,MAAM,CAAC,EAAE,UAAUD,GAAG,EAAE;MACnE,IAAI0E,IAAI,GAAG/F,yEAAe,CAACmC,MAAM,CAACC,QAAQ,CAACgD,oBAAoB,CAAC;MAChE,IAAIC,MAAM,GAAGpF,yFAAuB,CAAC,IAAI,EAAE2E,WAAW,CAACU,WAAW,CAAC,CAAC,CAAC;MACrE7F,kDAAM,CAAC4B,GAAG,EAAEgE,MAAM,EAAE,UAAU9B,IAAI,EAAE;QAChC,IAAI,OAAOA,IAAI,KAAK,WAAW,IAAIA,IAAI,CAAC9B,OAAO,KAAK,IAAI,EAAE;UACtDzB,yEAAe,CAACuD,IAAI,CAACgC,OAAO,CAAC;UAC7BI,QAAQ,CAACK,IAAI,CAAC,QAAQ,CAAC,CAACC,MAAM,CAAC,CAAC;UAChC7F,8EAAY,CAAC,CAAC;UACdP,8DAAU,CAACqG,MAAM,CAAC,CAAC;UACnBnG,2EAAiB,CAACgG,IAAI,CAAC;QAC3B,CAAC,MACI;UACD/F,yEAAe,CAACmC,MAAM,CAACC,QAAQ,CAACsD,yBAAyB,GAAG,KAAK,GAAGnC,IAAI,CAACjB,KAAK,EAAE,KAAK,CAAC;QAC1F;MACJ,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,EAAE1C,yEAAsB,CAAC;EAC9B,CAAC,CAAC,CAAC,CAAC;EACJ2C,yBAAyB,CAAC,CAAC;EAC3B;EACA9C,6CAAC,CAAC,kBAAkB,CAAC,CAACwB,EAAE,CAAC,OAAO,EAAE,UAAU6B,KAAK,EAAE;IAC/CA,KAAK,CAACG,cAAc,CAAC,CAAC;IACtBzC,iBAAiB,CAACf,6CAAC,CAAC,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC;EACF;EACAA,6CAAC,CAAC,iBAAiB,CAAC,CAACwB,EAAE,CAAC,OAAO,EAAE,UAAU6B,KAAK,EAAE;IAC9CA,KAAK,CAACG,cAAc,CAAC,CAAC;IACtBzC,iBAAiB,CAACf,6CAAC,CAAC,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC;AACN,CAAC,CAAC","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./resources/js/src/database/structure.ts"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { AJAX } from '../modules/ajax.ts';\nimport { getForeignKeyCheckboxLoader, loadForeignKeyCheckbox } from '../modules/functions.ts';\nimport { Navigation } from '../modules/navigation.ts';\nimport { CommonParams } from '../modules/common.ts';\nimport { ajaxRemoveMessage, ajaxShowMessage } from '../modules/ajax-message.ts';\nimport getJsConfirmCommonParam from '../modules/functions/getJsConfirmCommonParam.ts';\nimport { escapeHtml, escapeJsString } from '../modules/functions/escape.ts';\nimport adjustTotals from '../modules/functions/adjustTotals.ts';\n/**\n * @fileoverview    functions used on the database structure page\n * @name            Database Structure\n *\n * @requires    jQueryUI\n */\n/**\n * AJAX scripts for /database/structure\n *\n * Actions ajaxified here:\n * Drop Database\n * Truncate Table\n * Drop Table\n *\n */\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('database/structure.js', function () {\n    $(document).off('click', 'a.truncate_table_anchor.ajax');\n    $(document).off('click', 'a.drop_table_anchor.ajax');\n    $(document).off('click', 'a.favorite_table_anchor.ajax');\n    $('a.real_row_count').off('click');\n    $('a.row_count_sum').off('click');\n    $('select[name=submit_mult]').off('change');\n});\n/**\n * Gets the real row count for a table or DB.\n * @param {object} $target Target for appending the real count value.\n */\nfunction fetchRealRowCount($target) {\n    var $throbber = $('#pma_navigation').find('.throbber')\n        .first()\n        .clone()\n        .css({ visibility: 'visible', display: 'inline-block' })\n        .on('click', false);\n    $target.html($throbber);\n    $.ajax({\n        type: 'GET',\n        url: $target.attr('href'),\n        cache: false,\n        dataType: 'json',\n        success: function (response) {\n            if (response.success) {\n                // If to update all row counts for a DB.\n                if (response.real_row_count_all) {\n                    $.each(response.real_row_count_all, function (index, table) {\n                        // Update each table row count.\n                        $('table.data td[data-table*=\"' + escapeJsString(table.table) + '\"]')\n                            .text(table.row_count);\n                    });\n                }\n                // If to update a particular table's row count.\n                if (response.real_row_count) {\n                    // Append the parent cell with real row count.\n                    $target.parent().text(response.real_row_count);\n                }\n                // Adjust the 'Sum' displayed at the bottom.\n                adjustTotals();\n            }\n            else {\n                ajaxShowMessage(window.Messages.strErrorRealRowCount);\n            }\n        },\n        error: function () {\n            ajaxShowMessage(window.Messages.strErrorRealRowCount);\n        },\n    });\n}\nfunction addTooltipToFavoriteIcons() {\n    document.querySelectorAll('.favorite_table_anchor').forEach((favoriteTableAnchor) => {\n        new window.bootstrap.Tooltip(favoriteTableAnchor);\n    });\n}\nAJAX.registerOnload('database/structure.js', function () {\n    /**\n     * Event handler on select of \"Make consistent with central list\"\n     */\n    $('select[name=submit_mult]').on('change', function (event) {\n        var url = 'index.php?route=/database/structure';\n        var action = $(this).val();\n        if (action === 'make_consistent_with_central_list') {\n            event.preventDefault();\n            event.stopPropagation();\n            $('#makeConsistentWithCentralListModal').modal('show').on('shown.bs.modal', function () {\n                $('#makeConsistentWithCentralListContinue').on('click', function () {\n                    const $form = $('#tablesForm');\n                    const argSep = CommonParams.get('arg_separator');\n                    const data = $form.serialize() + argSep + 'ajax_request=true' + argSep + 'ajax_page_request=true';\n                    ajaxShowMessage();\n                    AJAX.source = $form;\n                    $.post('index.php?route=/database/structure/central-columns/make-consistent', data, AJAX.responseHandler);\n                    $('#makeConsistentWithCentralListModal').modal('hide');\n                });\n            });\n            return;\n        }\n        if (action === 'copy_tbl' ||\n            action === 'add_prefix_tbl' ||\n            action === 'replace_prefix_tbl' ||\n            action === 'copy_tbl_change_prefix') {\n            event.preventDefault();\n            event.stopPropagation();\n            if ($('input[name=\"selected_tbl[]\"]:checked').length === 0) {\n                return false;\n            }\n            var formData = $('#tablesForm').serialize();\n            var modalTitle = '';\n            if (action === 'copy_tbl') {\n                url = 'index.php?route=/database/structure/copy-form';\n                modalTitle = window.Messages.strCopyTablesTo;\n            }\n            else if (action === 'add_prefix_tbl') {\n                url = 'index.php?route=/database/structure/add-prefix';\n                modalTitle = window.Messages.strAddPrefix;\n            }\n            else if (action === 'replace_prefix_tbl') {\n                url = 'index.php?route=/database/structure/change-prefix-form';\n                modalTitle = window.Messages.strReplacePrefix;\n            }\n            else if (action === 'copy_tbl_change_prefix') {\n                url = 'index.php?route=/database/structure/change-prefix-form';\n                modalTitle = window.Messages.strCopyPrefix;\n            }\n            $.ajax({\n                type: 'POST',\n                url: url,\n                dataType: 'html',\n                data: formData\n            }).done(function (modalBody) {\n                const bulkActionModal = $('#bulkActionModal');\n                bulkActionModal.on('show.bs.modal', function () {\n                    this.querySelector('.modal-title').innerText = modalTitle;\n                    this.querySelector('.modal-body').innerHTML = modalBody;\n                });\n                bulkActionModal.modal('show').on('shown.bs.modal', function () {\n                    $('#bulkActionContinue').on('click', function () {\n                        $('#ajax_form').trigger('submit');\n                        $('#bulkActionModal').modal('hide');\n                    });\n                });\n            });\n            return;\n        }\n        if (action === 'analyze_tbl') {\n            url = 'index.php?route=/table/maintenance/analyze';\n        }\n        else if (action === 'sync_unique_columns_central_list') {\n            url = 'index.php?route=/database/structure/central-columns/add';\n        }\n        else if (action === 'delete_unique_columns_central_list') {\n            url = 'index.php?route=/database/structure/central-columns/remove';\n        }\n        else if (action === 'check_tbl') {\n            url = 'index.php?route=/table/maintenance/check';\n        }\n        else if (action === 'checksum_tbl') {\n            url = 'index.php?route=/table/maintenance/checksum';\n        }\n        else if (action === 'drop_tbl') {\n            url = 'index.php?route=/database/structure/drop-form';\n        }\n        else if (action === 'empty_tbl') {\n            url = 'index.php?route=/database/structure/empty-form';\n        }\n        else if (action === 'export') {\n            url = 'index.php?route=/export/tables';\n        }\n        else if (action === 'optimize_tbl') {\n            url = 'index.php?route=/table/maintenance/optimize';\n        }\n        else if (action === 'repair_tbl') {\n            url = 'index.php?route=/table/maintenance/repair';\n        }\n        else if (action === 'show_create') {\n            url = 'index.php?route=/database/structure/show-create';\n        }\n        else {\n            $('#tablesForm').trigger('submit');\n            return;\n        }\n        var $form = $(this).parents('form');\n        var argsep = CommonParams.get('arg_separator');\n        var data = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true';\n        ajaxShowMessage();\n        AJAX.source = $form;\n        $.post(url, data, AJAX.responseHandler);\n    });\n    /**\n     * Ajax Event handler for 'Truncate Table'\n     */\n    $(document).on('click', 'a.truncate_table_anchor.ajax', function (event) {\n        event.preventDefault();\n        /**\n         * @var $this_anchor Object  referring to the anchor clicked\n         */\n        var $thisAnchor = $(this);\n        // extract current table name and build the question string\n        /**\n         * @var curr_table_name String containing the name of the table to be truncated\n         */\n        var currTableName = $thisAnchor.parents('tr').children('th').children('a').text();\n        /**\n         * @var question    String containing the question to be asked for confirmation\n         */\n        var question = window.Messages.strTruncateTableStrongWarning + ' ' +\n            window.sprintf(window.Messages.strDoYouReally, 'TRUNCATE `' + escapeHtml(currTableName) + '`') +\n            getForeignKeyCheckboxLoader();\n        $thisAnchor.confirm(question, $thisAnchor.attr('href'), function (url) {\n            ajaxShowMessage(window.Messages.strProcessingRequest);\n            var params = getJsConfirmCommonParam(this, $thisAnchor.getPostData());\n            $.post(url, params, function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    ajaxShowMessage(data.message);\n                    // Adjust table statistics\n                    var $tr = $thisAnchor.closest('tr');\n                    $tr.find('.tbl_rows').text('0');\n                    $tr.find('.tbl_size, .tbl_overhead').text('-');\n                    adjustTotals();\n                }\n                else {\n                    ajaxShowMessage(window.Messages.strErrorProcessingRequest + ' : ' + data.error, false);\n                }\n            }); // end $.post()\n        }, loadForeignKeyCheckbox);\n    }); // end of Truncate Table Ajax action\n    /**\n     * Ajax Event handler for 'Drop Table' or 'Drop View'\n     */\n    $(document).on('click', 'a.drop_table_anchor.ajax', function (event) {\n        event.preventDefault();\n        var $thisAnchor = $(this);\n        // extract current table name and build the question string\n        /**\n         * @var $curr_row    Object containing reference to the current row\n         */\n        var $currRow = $thisAnchor.parents('tr');\n        /**\n         * @var curr_table_name String containing the name of the table to be truncated\n         */\n        var currTableName = $currRow.children('th').children('a').text();\n        /**\n         * @var is_view Boolean telling if we have a view\n         */\n        var isView = $currRow.hasClass('is_view') || $thisAnchor.hasClass('view');\n        /**\n         * @var question    String containing the question to be asked for confirmation\n         */\n        var question;\n        if (!isView) {\n            question = window.Messages.strDropTableStrongWarning + ' ' +\n                window.sprintf(window.Messages.strDoYouReally, 'DROP TABLE `' + escapeHtml(currTableName) + '`');\n        }\n        else {\n            question =\n                window.sprintf(window.Messages.strDoYouReally, 'DROP VIEW `' + escapeHtml(currTableName) + '`');\n        }\n        question += getForeignKeyCheckboxLoader();\n        $thisAnchor.confirm(question, $thisAnchor.attr('href'), function (url) {\n            var $msg = ajaxShowMessage(window.Messages.strProcessingRequest);\n            var params = getJsConfirmCommonParam(this, $thisAnchor.getPostData());\n            $.post(url, params, function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    ajaxShowMessage(data.message);\n                    $currRow.hide('medium').remove();\n                    adjustTotals();\n                    Navigation.reload();\n                    ajaxRemoveMessage($msg);\n                }\n                else {\n                    ajaxShowMessage(window.Messages.strErrorProcessingRequest + ' : ' + data.error, false);\n                }\n            }); // end $.post()\n        }, loadForeignKeyCheckbox);\n    }); // end of Drop Table Ajax action\n    addTooltipToFavoriteIcons();\n    // Get real row count via Ajax.\n    $('a.real_row_count').on('click', function (event) {\n        event.preventDefault();\n        fetchRealRowCount($(this));\n    });\n    // Get all real row count.\n    $('a.row_count_sum').on('click', function (event) {\n        event.preventDefault();\n        fetchRealRowCount($(this));\n    });\n});\n"],"names":["$","AJAX","getForeignKeyCheckboxLoader","loadForeignKeyCheckbox","Navigation","CommonParams","ajaxRemoveMessage","ajaxShowMessage","getJsConfirmCommonParam","escapeHtml","escapeJsString","adjustTotals","registerTeardown","document","off","fetchRealRowCount","$target","$throbber","find","first","clone","css","visibility","display","on","html","ajax","type","url","attr","cache","dataType","success","response","real_row_count_all","each","index","table","text","row_count","real_row_count","parent","window","Messages","strErrorRealRowCount","error","addTooltipToFavoriteIcons","querySelectorAll","forEach","favoriteTableAnchor","bootstrap","Tooltip","registerOnload","event","action","val","preventDefault","stopPropagation","modal","$form","argSep","get","data","serialize","source","post","responseHandler","length","formData","modalTitle","strCopyTablesTo","strAddPrefix","strReplacePrefix","strCopyPrefix","done","modalBody","bulkActionModal","querySelector","innerText","innerHTML","trigger","parents","argsep","$thisAnchor","currTableName","children","question","strTruncateTableStrongWarning","sprintf","strDoYouReally","confirm","strProcessingRequest","params","getPostData","message","$tr","closest","strErrorProcessingRequest","$currRow","isView","hasClass","strDropTableStrongWarning","$msg","hide","remove","reload"],"sourceRoot":""}