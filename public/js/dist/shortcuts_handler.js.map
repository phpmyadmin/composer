{"version":3,"file":"shortcuts_handler.js","mappings":"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","sources":["webpack://phpmyadmin/external var \"jQuery\"","webpack://phpmyadmin/./resources/js/src/shortcuts_handler.ts"],"sourcesContent":["module.exports = jQuery;","import $ from 'jquery';\nimport { CommonParams } from './modules/common.ts';\n/**\n * @fileoverview    Handle shortcuts in various pages\n * @name            Shortcuts handler\n *\n * @requires    jQuery\n * @requires    jQueryUI\n */\n/**\n * Register key events on load\n */\n$(function () {\n    var databaseOp = false;\n    var tableOp = false;\n    var keyD = 68;\n    var keyT = 84;\n    var keyK = 75;\n    var keyS = 83;\n    var keyF = 70;\n    var keyE = 69;\n    var keyH = 72;\n    var keyC = 67;\n    var keyBackSpace = 8;\n    $(document).on('keyup', function (e) {\n        // is a string but is also a boolean according to https://api.jquery.com/prop/\n        if ($(e.target).prop('contenteditable') === 'true' || $(e.target).prop('contenteditable') === true) {\n            return;\n        }\n        if (e.target.nodeName === 'INPUT' || e.target.nodeName === 'TEXTAREA' || e.target.nodeName === 'SELECT') {\n            return;\n        }\n        if (e.keyCode === keyD) {\n            setTimeout(function () {\n                databaseOp = false;\n            }, 2000);\n        }\n        else if (e.keyCode === keyT) {\n            setTimeout(function () {\n                tableOp = false;\n            }, 2000);\n        }\n    });\n    $(document).on('keydown', function (e) {\n        // is a string but is also a boolean according to https://api.jquery.com/prop/\n        if ($(e.target).prop('contenteditable') === 'true' || $(e.target).prop('contenteditable') === true) {\n            return;\n        }\n        // disable the shortcuts when session has timed out.\n        if ($('#modalOverlay').length > 0) {\n            return;\n        }\n        if (e.ctrlKey && e.altKey && e.keyCode === keyC) {\n            window.Console.toggle();\n        }\n        if (e.ctrlKey && e.keyCode === keyK) {\n            e.preventDefault();\n            window.Console.toggle();\n        }\n        if (e.target.nodeName === 'INPUT' || e.target.nodeName === 'TEXTAREA' || e.target.nodeName === 'SELECT') {\n            return;\n        }\n        var isTable;\n        var isDb;\n        if (e.keyCode === keyD) {\n            databaseOp = true;\n        }\n        else if (e.keyCode === keyK) {\n            e.preventDefault();\n            window.Console.toggle();\n        }\n        else if (e.keyCode === keyS) {\n            if (databaseOp === true) {\n                isTable = CommonParams.get('table');\n                isDb = CommonParams.get('db');\n                if (isDb && !isTable) {\n                    $('.nav-link .ic_b_props').first().trigger('click');\n                }\n            }\n            else if (tableOp === true) {\n                isTable = CommonParams.get('table');\n                isDb = CommonParams.get('db');\n                if (isDb && isTable) {\n                    $('.nav-link .ic_b_props').first().trigger('click');\n                }\n            }\n            else {\n                $('#pma_navigation_settings_icon').trigger('click');\n            }\n        }\n        else if (e.keyCode === keyF) {\n            if (databaseOp === true) {\n                isTable = CommonParams.get('table');\n                isDb = CommonParams.get('db');\n                if (isDb && !isTable) {\n                    $('.nav-link .ic_b_search').first().trigger('click');\n                }\n            }\n            else if (tableOp === true) {\n                isTable = CommonParams.get('table');\n                isDb = CommonParams.get('db');\n                if (isDb && isTable) {\n                    $('.nav-link .ic_b_search').first().trigger('click');\n                }\n            }\n        }\n        else if (e.keyCode === keyT) {\n            tableOp = true;\n        }\n        else if (e.keyCode === keyE) {\n            $('.ic_b_export').first().trigger('click');\n        }\n        else if (e.keyCode === keyBackSpace) {\n            window.history.back();\n        }\n        else if (e.keyCode === keyH) {\n            $('.ic_b_home').first().trigger('click');\n        }\n    });\n});\n"],"names":["$","CommonParams","databaseOp","tableOp","keyD","keyT","keyK","keyS","keyF","keyE","keyH","keyC","keyBackSpace","document","on","e","target","prop","nodeName","keyCode","setTimeout","length","ctrlKey","altKey","window","Console","toggle","preventDefault","isTable","isDb","get","first","trigger","history","back"],"sourceRoot":""}