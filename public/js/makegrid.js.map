{"version":3,"file":"makegrid.js","mappings":"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","sources":["webpack://phpmyadmin/./resources/js/makegrid.ts","webpack://phpmyadmin/external var \"jQuery\""],"sourcesContent":["import $ from 'jquery';\nimport * as bootstrap from 'bootstrap';\nimport { AJAX } from './modules/ajax.ts';\nimport { addDatepicker, confirmLink, copyToClipboard, getCellValue, stringifyJSON, toggleDatepickerIfInvalid, updateCode, userAgent } from './modules/functions.ts';\nimport { CommonParams } from './modules/common.ts';\nimport highlightSql from './modules/sql-highlight.ts';\nimport { ajaxShowMessage } from './modules/ajax-message.ts';\nimport { escapeHtml } from './modules/functions/escape.ts';\n/**\n * Create advanced table (resize, reorder, and show/hide columns; and also grid editing).\n * This function is designed mainly for table DOM generated from browsing a table in the database.\n * For using this function in other table DOM, you may need to:\n * - add \"draggable\" class in the table header <th>, in order to make it resizable, sortable or hidable\n * - have at least one non-\"draggable\" header in the table DOM for placing column visibility drop-down arrow\n * - pass the value \"false\" for the parameter \"enableGridEdit\"\n * - adjust other parameter value, to select which features that will be enabled\n *\n * @param t the table DOM element\n * @param enableResize Optional, if false, column resizing feature will be disabled\n * @param enableReorder Optional, if false, column reordering feature will be disabled\n * @param enableVisib Optional, if false, show/hide column feature will be disabled\n * @param enableGridEdit Optional, if false, grid editing feature will be disabled\n */\nconst makeGrid = function (t, enableResize = undefined, enableReorder = undefined, enableVisib = undefined, enableGridEdit = undefined) {\n    var isResizeEnabled = enableResize === undefined ? true : enableResize;\n    var isReorderEnabled = enableReorder === undefined ? true : enableReorder;\n    var isVisibEnabled = enableVisib === undefined ? true : enableVisib;\n    var isGridEditEnabled = enableGridEdit === undefined ? true : enableGridEdit;\n    var g = {\n        /** *********\n         * Constant\n         ***********/\n        minColWidth: 15,\n        /** *********\n         * Variables, assigned with default value, changed later\n         ***********/\n        actionSpan: 5, // number of colspan in Actions header in a table\n        tableCreateTime: null, // table creation time, used for saving column order and visibility to server, only available in \"Browse tab\"\n        // Column reordering variables\n        colOrder: [], // array of column order\n        // Column visibility variables\n        colVisib: [], // array of column visibility\n        showAllColText: '', // string, text for \"show all\" button under column visibility list\n        visibleHeadersCount: 0, // number of visible data headers\n        // Table hint variables\n        reorderHint: '', // string, hint for column reordering\n        sortHint: '', // string, hint for column sorting\n        markHint: '', // string, hint for column marking\n        copyHint: '', // string, hint for copy column name\n        showReorderHint: false,\n        showSortHint: false,\n        showMarkHint: false,\n        // Grid editing\n        isCellEditActive: false, // true if current focus is in edit cell\n        isEditCellTextEditable: false, // true if current edit cell is editable in the text input box (not textarea)\n        currentEditCell: null, // reference to <td> that currently being edited\n        cellEditHint: '', // hint shown when doing grid edit\n        gotoLinkText: '', // \"Go to link\" text\n        wasEditedCellNull: false, // true if last value of the edited cell was NULL\n        maxTruncatedLen: 0, // number of characters that can be displayed in a cell\n        saveCellsAtOnce: false, // $cfg[saveCellsAtOnce]\n        isCellEdited: false, // true if at least one cell has been edited\n        saveCellWarning: '', // string, warning text when user want to leave a page with unsaved edited data\n        lastXHR: null, // last XHR object used in AJAX request\n        isSaving: false, // true when currently saving edited data, used to handle double posting caused by pressing ENTER in grid edit text box in Chrome browser\n        alertNonUnique: '', // string, alert shown when saving edited nonunique table\n        // Common hidden inputs\n        token: null,\n        server: null,\n        db: null,\n        table: null,\n        /** **********\n         * Functions\n         ************/\n        /**\n         * Start to resize column. Called when clicking on column separator.\n         *\n         * @param e event\n         * @param obj dragged div object\n         */\n        dragStartRsz: function (e, obj) {\n            var n = $(g.cRsz).find('div').index(obj); // get the index of separator (i.e., column index)\n            $(obj).addClass('colborder_active');\n            g.colRsz = {\n                x0: e.pageX,\n                n: n,\n                obj: obj,\n                objLeft: $(obj).position().left,\n                objWidth: $(g.t).find('th.draggable:visible').eq(n).find('span').outerWidth()\n            };\n            $(document.body).css('cursor', 'col-resize').addClass('user-select-none');\n            if (g.isCellEditActive) {\n                g.hideEditCell();\n            }\n        },\n        /**\n         * Start to reorder column. Called when clicking on table header.\n         *\n         * @param e event\n         * @param obj table header object\n         */\n        dragStartReorder: function (e, obj) {\n            // prepare the cCpy (column copy) and cPointer (column pointer) from the dragged column\n            $(g.cCpy).text($(obj).text());\n            var objPos = $(obj).position();\n            $(g.cCpy).css({\n                top: objPos.top + 20,\n                left: objPos.left,\n                height: $(obj).height(),\n                width: $(obj).width()\n            });\n            $(g.cPointer).css({\n                top: objPos.top\n            });\n            // get the column index, zero-based\n            var n = g.getHeaderIdx(obj);\n            g.colReorder = {\n                x0: e.pageX,\n                y0: e.pageY,\n                n: n,\n                newn: n,\n                obj: obj,\n                objTop: objPos.top,\n                objLeft: objPos.left\n            };\n            $(document.body).css('cursor', 'move').addClass('user-select-none');\n            if (g.isCellEditActive) {\n                g.hideEditCell();\n            }\n        },\n        /**\n         * Handle mousemove event when dragging.\n         *\n         * @param e event\n         */\n        dragMove: function (e) {\n            var dx;\n            if (g.colRsz) {\n                dx = e.pageX - g.colRsz.x0;\n                if (g.colRsz.objWidth + dx > g.minColWidth) {\n                    $(g.colRsz.obj).css('left', g.colRsz.objLeft + dx + 'px');\n                }\n            }\n            else if (g.colReorder) {\n                // dragged column animation\n                dx = e.pageX - g.colReorder.x0;\n                $(g.cCpy)\n                    .css('left', g.colReorder.objLeft + dx)\n                    .show();\n                // pointer animation\n                var hoveredCol = g.getHoveredCol(e);\n                if (hoveredCol) {\n                    var newn = g.getHeaderIdx(hoveredCol);\n                    g.colReorder.newn = newn;\n                    if (newn !== g.colReorder.n) {\n                        // show the column pointer in the right place\n                        var colPos = $(hoveredCol).position();\n                        var newleft = newn < g.colReorder.n ?\n                            colPos.left :\n                            colPos.left + $(hoveredCol).outerWidth();\n                        $(g.cPointer)\n                            .css({\n                            left: newleft,\n                            visibility: 'visible'\n                        });\n                    }\n                    else {\n                        // no movement to other column, hide the column pointer\n                        $(g.cPointer).css('visibility', 'hidden');\n                    }\n                }\n            }\n        },\n        /**\n         * Stop the dragging action.\n         *\n         * @param e event\n         */\n        dragEnd: function (e) {\n            if (g.colRsz) {\n                var dx = e.pageX - g.colRsz.x0;\n                var nw = g.colRsz.objWidth + dx;\n                if (nw < g.minColWidth) {\n                    nw = g.minColWidth;\n                }\n                var n = g.colRsz.n;\n                // do the resizing\n                g.resize(n, nw);\n                g.reposRsz();\n                g.reposDrop();\n                g.colRsz = false;\n                $(g.cRsz).find('div').removeClass('colborder_active');\n            }\n            else if (g.colReorder) {\n                // shift columns\n                if (g.colReorder.newn !== g.colReorder.n) {\n                    g.shiftCol(g.colReorder.n, g.colReorder.newn);\n                    // assign new position\n                    var objPos = $(g.colReorder.obj).position();\n                    g.colReorder.objTop = objPos.top;\n                    g.colReorder.objLeft = objPos.left;\n                    g.colReorder.n = g.colReorder.newn;\n                    // send request to server to remember the column order\n                    if (g.tableCreateTime) {\n                        g.sendColPrefs();\n                    }\n                    g.refreshRestoreButton();\n                }\n                // animate new column position\n                $(g.cCpy).stop(true, true)\n                    .animate({\n                    top: g.colReorder.objTop,\n                    left: g.colReorder.objLeft\n                }, 'fast')\n                    .fadeOut();\n                $(g.cPointer).css('visibility', 'hidden');\n                g.colReorder = false;\n            }\n            $(document.body).css('cursor', 'inherit').removeClass('user-select-none');\n        },\n        /**\n         * Resize column n to new width \"nw\"\n         *\n         * @param n zero-based column index\n         * @param nw new width of the column in pixel\n         */\n        resize: function (n, nw) {\n            $(g.t).find('tr').each(function () {\n                $(this).find('th.draggable:visible').eq(n).find('span')\n                    .add($(this).find('td:visible').eq(g.actionSpan + n).find('span'))\n                    .css('width', nw);\n            });\n        },\n        /**\n         * Reposition column resize bars.\n         */\n        reposRsz: function () {\n            $(g.cRsz).find('div').hide();\n            var $firstRowCols = $(g.t).find('tr').first().find('th.draggable:visible');\n            var $resizeHandles = $(g.cRsz).find('div').removeClass('condition');\n            $(g.t).find('table.pma_table').find('thead th').first().removeClass('before-condition');\n            for (var n = 0, l = $firstRowCols.length; n < l; n++) {\n                var $col = $($firstRowCols[n]);\n                var colWidth;\n                if (userAgent().toLowerCase().indexOf('safari') !== -1) {\n                    colWidth = $col.outerWidth();\n                }\n                else {\n                    colWidth = $col.outerWidth(true);\n                }\n                $($resizeHandles[n]).css('left', $col.position().left + colWidth)\n                    .show();\n                if ($col.hasClass('condition')) {\n                    $($resizeHandles[n]).addClass('condition');\n                    if (n > 0) {\n                        $($resizeHandles[n - 1]).addClass('condition');\n                    }\n                }\n            }\n            if ($($resizeHandles[0]).hasClass('condition')) {\n                $(g.t).find('thead th').first().addClass('before-condition');\n            }\n            $(g.cRsz).css('height', $(g.t).height());\n        },\n        /**\n         * Clears the current cell edit state, internal flags,\n         * and any pending save request.\n         */\n        resetGridEditState: function () {\n            g.isCellEditActive = false;\n            g.isEditCellTextEditable = false;\n            g.currentEditCell = null;\n            g.wasEditedCellNull = false;\n            g.isCellEdited = false;\n            g.isSaving = false;\n            g.lastXHR = null;\n        },\n        /**\n         * Shift column from index oldn to newn.\n         *\n         * @param oldn old zero-based column index\n         * @param newn new zero-based column index\n         */\n        shiftCol: function (oldn, newn) {\n            $(g.t).find('tr').each(function () {\n                if (newn < oldn) {\n                    $(this).find('th.draggable').eq(newn)\n                        .add($(this).find('td').eq(g.actionSpan + newn))\n                        .before($(this).find('th.draggable').eq(oldn)\n                        .add($(this).find('td').eq(g.actionSpan + oldn)));\n                }\n                else {\n                    $(this).find('th.draggable').eq(newn)\n                        .add($(this).find('td').eq(g.actionSpan + newn))\n                        .after($(this).find('th.draggable').eq(oldn)\n                        .add($(this).find('td').eq(g.actionSpan + oldn)));\n                }\n            });\n            // reposition the column resize bars\n            g.reposRsz();\n            // adjust the column visibility list\n            if (newn < oldn) {\n                $(g.cList).find('.lDiv div').eq(newn)\n                    .before($(g.cList).find('.lDiv div').eq(oldn));\n            }\n            else {\n                $(g.cList).find('.lDiv div').eq(newn)\n                    .after($(g.cList).find('.lDiv div').eq(oldn));\n            }\n            // adjust the colOrder\n            var tmp = g.colOrder[oldn];\n            g.colOrder.splice(oldn, 1);\n            g.colOrder.splice(newn, 0, tmp);\n            // adjust the colVisib\n            if (g.colVisib.length > 0) {\n                tmp = g.colVisib[oldn];\n                g.colVisib.splice(oldn, 1);\n                g.colVisib.splice(newn, 0, tmp);\n            }\n        },\n        /**\n         * Find currently hovered table column's header (excluding actions column).\n         *\n         * @param e event\n         * @return {object|undefined} the hovered column's th object or undefined if no hovered column found.\n         */\n        getHoveredCol: function (e) {\n            var hoveredCol;\n            var $headers = $(g.t).find('th.draggable:visible');\n            $headers.each(function () {\n                var left = $(this).offset().left;\n                var right = left + $(this).outerWidth();\n                if (left <= e.pageX && e.pageX <= right) {\n                    hoveredCol = this;\n                }\n            });\n            return hoveredCol;\n        },\n        /**\n         * Get a zero-based index from a <th class=\"draggable\"> tag in a table.\n         *\n         * @param obj table header <th> object\n         * @return {number} zero-based index of the specified table header in the set of table headers (visible or not)\n         */\n        getHeaderIdx: function (obj) {\n            return $(obj).parents('tr').find('th.draggable').index(obj);\n        },\n        /**\n         * Reposition the columns back to normal order.\n         */\n        restoreColOrder: function () {\n            // use insertion sort, since we already have shiftCol function\n            for (var i = 1; i < g.colOrder.length; i++) {\n                var x = g.colOrder[i];\n                var j = i - 1;\n                while (j >= 0 && x < g.colOrder[j]) {\n                    j--;\n                }\n                if (j !== i - 1) {\n                    g.shiftCol(i, j + 1);\n                }\n            }\n            if (g.tableCreateTime) {\n                // send request to server to remember the column order\n                g.sendColPrefs();\n            }\n            g.refreshRestoreButton();\n        },\n        /**\n         * Send column preferences (column order and visibility) to the server.\n         */\n        sendColPrefs: function () {\n            if ($(g.t).is('.ajax')) { // only send preferences if ajax class\n                if (typeof g.db !== 'string' && typeof g.table !== 'string') {\n                    // The server has nothing to do with it\n                    // Issue: https://github.com/phpmyadmin/phpmyadmin/issues/15658\n                    return;\n                }\n                var postParams = {\n                    'ajax_request': true,\n                    'db': g.db,\n                    'table': g.table,\n                    'token': g.token,\n                    'server': g.server,\n                    'table_create_time': g.tableCreateTime\n                };\n                if (g.colOrder.length > 0) {\n                    $.extend(postParams, { 'col_order': g.colOrder.toString() });\n                }\n                if (g.colVisib.length > 0) {\n                    $.extend(postParams, { 'col_visib': g.colVisib.toString() });\n                }\n                $.post('index.php?route=/sql/set-column-preferences', postParams, function (data) {\n                    if (data.success !== true) {\n                        var $tempDiv = $(document.createElement('div'));\n                        $tempDiv.html(data.error);\n                        $tempDiv.addClass('alert alert-danger');\n                        ajaxShowMessage($tempDiv, false);\n                    }\n                });\n            }\n        },\n        /**\n         * Refresh restore button state.\n         * Make restore button disabled if the table is similar with initial state.\n         */\n        refreshRestoreButton: function () {\n            // check if table state is as initial state\n            var isInitial = true;\n            for (var i = 0; i < g.colOrder.length; i++) {\n                if (g.colOrder[i] !== i) {\n                    isInitial = false;\n                    break;\n                }\n            }\n            // check if only one visible column left\n            var isOneColumn = g.visibleHeadersCount === 1;\n            // enable or disable restore button\n            if (isInitial || isOneColumn) {\n                $(g.o).find('div.restore_column').hide();\n            }\n            else {\n                $(g.o).find('div.restore_column').show();\n            }\n        },\n        /**\n         * Update current hint using the boolean values (showReorderHint, showSortHint, etc.).\n         *\n         * @return {string}\n         *\n         */\n        updateHint: function () {\n            var text = '';\n            if (!g.colRsz && !g.colReorder) { // if not resizing or dragging\n                if (g.visibleHeadersCount > 1) {\n                    g.showReorderHint = true;\n                }\n                if ($(t).find('th.marker').length > 0) {\n                    g.showMarkHint = true;\n                }\n                if (g.showSortHint && g.sortHint) {\n                    text += text.length > 0 ? '<br>' : '';\n                    text += '- ' + g.sortHint;\n                }\n                if (g.showMultiSortHint && g.strMultiSortHint) {\n                    text += text.length > 0 ? '<br>' : '';\n                    text += '- ' + g.strMultiSortHint;\n                }\n                if (g.showMarkHint &&\n                    g.markHint &&\n                    !g.showSortHint && // we do not show mark hint, when sort hint is shown\n                    g.showReorderHint &&\n                    g.reorderHint) {\n                    text += text.length > 0 ? '<br>' : '';\n                    text += '- ' + g.reorderHint;\n                    text += text.length > 0 ? '<br>' : '';\n                    text += '- ' + g.markHint;\n                    text += text.length > 0 ? '<br>' : '';\n                    text += '- ' + g.copyHint;\n                }\n            }\n            return text;\n        },\n        /**\n         * Toggle column's visibility.\n         * After calling this function and it returns true, afterToggleCol() must be called.\n         *\n         * @param {number} n\n         *\n         * @return {boolean} True if the column is toggled successfully.\n         */\n        toggleCol: function (n) {\n            if (g.colVisib[n]) {\n                // can hide if more than one column is visible\n                if (g.visibleHeadersCount > 1) {\n                    $(g.t).find('tr').each(function () {\n                        $(this).find('th.draggable').eq(n)\n                            .add($(this).find('td').eq(g.actionSpan + n))\n                            .hide();\n                    });\n                    g.colVisib[n] = 0;\n                    $(g.cList).find('.lDiv div').eq(n).find('input').prop('checked', false);\n                }\n                else {\n                    // cannot hide, force the checkbox to stay checked\n                    $(g.cList).find('.lDiv div').eq(n).find('input').prop('checked', true);\n                    return false;\n                }\n            }\n            else { // column n is not visible\n                $(g.t).find('tr').each(function () {\n                    $(this).find('th.draggable').eq(n)\n                        .add($(this).find('td').eq(g.actionSpan + n))\n                        .show();\n                });\n                g.colVisib[n] = 1;\n                $(g.cList).find('.lDiv div').eq(n).find('input').prop('checked', true);\n            }\n            return true;\n        },\n        /**\n         * This must be called if toggleCol() returns is true.\n         *\n         * This function is separated from toggleCol because, sometimes, we want to toggle\n         * some columns together at one time and do just one adjustment after it, e.g. in showAllColumns().\n         */\n        afterToggleCol: function () {\n            // some adjustments after hiding column\n            g.reposRsz();\n            g.reposDrop();\n            g.sendColPrefs();\n            // check visible first row headers count\n            g.visibleHeadersCount = $(g.t).find('tr').first().find('th.draggable:visible').length;\n            g.refreshRestoreButton();\n            // Display minimum of one column - disable checkbox for hiding last column\n            if (g.visibleHeadersCount <= 1) {\n                $(g.cList).find('.lDiv div').each(function () {\n                    $(this).find('input:checkbox:checked').prop('disabled', true);\n                });\n            }\n            else {\n                // Remove disabled property if showing more than one column\n                $(g.cList).find('.lDiv div').each(function () {\n                    $(this).find('input:checkbox:disabled').prop('disabled', false);\n                });\n            }\n        },\n        /**\n         * Show columns' visibility list.\n         *\n         * @param obj The drop down arrow of column visibility list\n         */\n        showColList: function (obj) {\n            // only show when not resizing or reordering\n            if (!g.colRsz && !g.colReorder) {\n                var pos = $(obj).position();\n                $(g.cList).css({\n                    top: pos.top + $(obj).outerHeight(true)\n                })\n                    .show();\n                $(obj).addClass('coldrop-hover');\n            }\n        },\n        /**\n         * Hide columns' visibility list.\n         */\n        hideColList: function () {\n            $(g.cList).hide();\n            $(g.cDrop).find('.coldrop-hover').removeClass('coldrop-hover');\n        },\n        /**\n         * Reposition the column visibility drop-down arrow.\n         */\n        reposDrop: function () {\n            var $th = $(t).find('th:not(.draggable)');\n            for (var i = 0; i < $th.length; i++) {\n                var $cd = $(g.cDrop).find('div').eq(i); // column drop-down arrow\n                var pos = $($th[i]).position();\n                $cd.css({\n                    left: pos.left + $($th[i]).width() - $cd.width(),\n                    top: pos.top\n                });\n            }\n        },\n        /**\n         * Show all hidden columns.\n         */\n        showAllColumns: function () {\n            for (var i = 0; i < g.colVisib.length; i++) {\n                if (!g.colVisib[i]) {\n                    g.toggleCol(i);\n                }\n            }\n            g.afterToggleCol();\n        },\n        /**\n         * Show edit cell, if it can be shown\n         *\n         * @param cell <td> element to be edited\n         */\n        showEditCell: function (cell) {\n            // destroy the date picker instance left if any, see: #17703\n            var $datePickerInstance = $(g.cEdit).find('.hasDatepicker');\n            if ($datePickerInstance.length > 0) {\n                $datePickerInstance.datepicker('destroy');\n            }\n            if ($(cell).is('.grid_edit') &&\n                !g.colRsz && !g.colReorder) {\n                if (!g.isCellEditActive) {\n                    var $cell = $(cell);\n                    if ('string' === $cell.attr('data-type') ||\n                        'blob' === $cell.attr('data-type') ||\n                        'json' === $cell.attr('data-type')) {\n                        g.cEdit = g.cEditTextarea;\n                    }\n                    else {\n                        g.cEdit = g.cEditStd;\n                    }\n                    // remove all edit area and hide it\n                    $(g.cEdit).find('.edit_area').empty().hide();\n                    // reposition the cEdit element\n                    $(g.cEdit).css({\n                        top: $cell.position().top,\n                        left: $cell.position().left\n                    })\n                        .show()\n                        .find('.edit_box')\n                        .css({\n                        width: $cell.outerWidth(),\n                        height: $cell.outerHeight()\n                    });\n                    // fill the cell edit with text from <td>\n                    var value = getCellValue(cell);\n                    if ($cell.attr('data-type') === 'json' && $cell.is('.truncated') === false) {\n                        value = stringifyJSON(value, null, 4);\n                    }\n                    $(g.cEdit).find('.edit_box').val(value);\n                    g.currentEditCell = cell;\n                    $(g.cEdit).find('.edit_box').trigger('focus');\n                    moveCursorToEnd($(g.cEdit).find('.edit_box'));\n                    $(g.cEdit).find('*').prop('disabled', false);\n                }\n            }\n            function moveCursorToEnd(input) {\n                var originalValue = input.val();\n                var originallength = originalValue.length;\n                input.val('');\n                input.trigger('blur').trigger('focus').val(originalValue);\n                input[0].setSelectionRange(originallength, originallength);\n            }\n        },\n        /**\n         * Remove edit cell and the edit area, if it is shown.\n         *\n         * @param force Optional, force to hide edit cell without saving edited field.\n         * @param data  Optional, data from the POST AJAX request to save the edited field\n         *              or just specify \"true\", if we want to replace the edited field with the new value.\n         * @param field Optional, the edited <td>. If not specified, the function will\n         *              use currently edited <td> from g.currentEditCell.\n         * @param options Optional, this object contains a boolean named move (true, if called from move* functions)\n         *                and a <td> to which the grid_edit should move\n         */\n        hideEditCell: function (force = undefined, data = undefined, field = undefined, options = undefined) {\n            if (g.isCellEditActive && !force) {\n                // cell is being edited, save or post the edited data\n                if (options !== undefined) {\n                    g.saveOrPostEditedCell(options);\n                }\n                else {\n                    g.saveOrPostEditedCell();\n                }\n                return;\n            }\n            // cancel any previous request\n            if (g.lastXHR !== null) {\n                g.lastXHR.abort();\n                g.lastXHR = null;\n            }\n            if (data) {\n                if (g.currentEditCell) { // save value of currently edited cell\n                    // replace current edited field with the new value\n                    var $thisField = $(g.currentEditCell);\n                    var isNull = $thisField.data('value') === null;\n                    if (isNull) {\n                        $thisField.find('span').html('NULL');\n                        $thisField.addClass('null');\n                    }\n                    else {\n                        $thisField.removeClass('null');\n                        var value = data.isNeedToRecheck\n                            ? data.truncatableFieldValue\n                            : $thisField.data('value');\n                        // Truncates the text.\n                        $thisField.removeClass('truncated');\n                        if (CommonParams.get('pftext') === 'P' && value.length > g.maxTruncatedLen) {\n                            $thisField.addClass('truncated');\n                            value = value.substring(0, g.maxTruncatedLen) + '...';\n                        }\n                        // Add <br> before carriage return.\n                        var newHtml = escapeHtml(value);\n                        newHtml = newHtml.replace(/\\n/g, '<br>\\n');\n                        var decimals = parseInt($thisField.attr('data-decimals'));\n                        // remove decimal places if column type not supported\n                        if ((decimals === 0) && ($thisField.attr('data-type').indexOf('time') !== -1)) {\n                            var index = newHtml.indexOf('.');\n                            if (index !== -1) {\n                                newHtml = newHtml.substring(0, index);\n                            }\n                        }\n                        // remove additional decimal places\n                        if ((decimals > 0) && ($thisField.attr('data-type').indexOf('time') !== -1)) {\n                            newHtml = newHtml.substring(0, newHtml.length - (6 - decimals));\n                        }\n                        var selector = 'span';\n                        if ($thisField.hasClass('hex') && $thisField.find('a').length) {\n                            selector = 'a';\n                        }\n                        // Updates the code keeping highlighting (if any).\n                        var $target = $thisField.find(selector);\n                        if (!updateCode($target, newHtml, value)) {\n                            $target.html(newHtml);\n                        }\n                    }\n                    if ($thisField.is('.bit')) {\n                        $thisField.find('span').text($thisField.data('value'));\n                    }\n                }\n                if (data.transformations !== undefined) {\n                    $.each(data.transformations, function (cellIndex, value) {\n                        var $thisField = $(g.t).find('.to_be_saved').eq(Number(cellIndex));\n                        $thisField.find('span').html(value);\n                    });\n                }\n                if (data.relations !== undefined) {\n                    $.each(data.relations, function (cellIndex, value) {\n                        var $thisField = $(g.t).find('.to_be_saved').eq(Number(cellIndex));\n                        $thisField.find('span').html(value);\n                    });\n                }\n                // refresh the grid\n                g.reposRsz();\n                g.reposDrop();\n            }\n            // hide the cell editing area\n            $(g.cEdit).hide();\n            $(g.cEdit).find('.edit_box').trigger('blur');\n            g.isCellEditActive = false;\n            g.currentEditCell = null;\n            // destroy datepicker in edit area, if exist\n            var $dp = $(g.cEdit).find('.hasDatepicker');\n            if ($dp.length > 0) {\n                // @ts-ignore\n                $(document).on('mousedown', $.datepicker._checkExternalClick); // eslint-disable-line no-underscore-dangle\n                $dp.datepicker('refresh');\n                // change the cursor in edit box back to normal\n                // (the cursor become a hand pointer when we add datepicker)\n                $(g.cEdit).find('.edit_box').css('cursor', 'inherit');\n            }\n        },\n        /**\n         * Show drop-down edit area when edit cell is focused.\n         */\n        showEditArea: function () {\n            if (!g.isCellEditActive) { // make sure the edit area has not been shown\n                g.isCellEditActive = true;\n                g.isEditCellTextEditable = false;\n                /**\n                 * @var $td current edited cell\n                 */\n                var $td = $(g.currentEditCell);\n                /**\n                 * @var $editArea the editing area\n                 */\n                var $editArea = $(g.cEdit).find('.edit_area');\n                /**\n                 * @var whereClause WHERE clause for the edited cell\n                 */\n                var whereClause = $td.parent('tr').find('.where_clause').val();\n                /**\n                 * @var fieldName  String containing the name of this field.\n                 * @see window.Sql.getFieldName()\n                 */\n                var fieldName = window.Sql.getFieldName($(t), $td);\n                /**\n                 * @var relationCurrValue String current value of the field (for fields that are foreign keyed).\n                 */\n                var relationCurrValue = $td.text();\n                /**\n                 * @var relationKeyOrDisplayColumn String relational key if in 'Relational display column' mode,\n                 * relational display column if in 'Relational key' mode (for fields that are foreign keyed).\n                 */\n                var relationKeyOrDisplayColumn = $td.find('a').attr('title');\n                /**\n                 * @var currValue String current value of the field (for fields that are of type enum or set).\n                 */\n                var currValue = $td.find('span').text();\n                // empty all edit area, then rebuild it based on $td classes\n                $editArea.empty();\n                // remember this instead of testing more than once\n                var isNull = $td.is('.null');\n                // add goto link, if this cell contains a link\n                if ($td.find('a').length > 0) {\n                    var gotoLink = document.createElement('div');\n                    gotoLink.className = 'goto_link';\n                    $(gotoLink).append(g.gotoLinkText + ' ').append($td.find('a').clone());\n                    $editArea.append(gotoLink);\n                }\n                g.wasEditedCellNull = false;\n                if ($td.is(':not(.not_null)')) {\n                    // append a null checkbox\n                    $editArea.append('<div class=\"null_div\"><label>NULL:<input type=\"checkbox\"></label></div>');\n                    var $checkbox = $editArea.find('.null_div input');\n                    // check if current <td> is NULL\n                    if (isNull) {\n                        $checkbox.prop('checked', true);\n                        g.wasEditedCellNull = true;\n                    }\n                    // if the select/editor is changed un-check the 'checkbox_null_<field_name>_<row_index>'.\n                    if ($td.is('.enum, .set')) {\n                        $editArea.on('change', 'select', function () {\n                            $checkbox.prop('checked', false);\n                        });\n                    }\n                    else if ($td.is('.relation')) {\n                        $editArea.on('change', 'select', function () {\n                            $checkbox.prop('checked', false);\n                        });\n                        $editArea.on('click', '.browse_foreign', function () {\n                            $checkbox.prop('checked', false);\n                        });\n                    }\n                    else {\n                        $(g.cEdit).on('keypress change paste', '.edit_box', function () {\n                            if ($(this).val() !== '') {\n                                $checkbox.prop('checked', false);\n                            }\n                        });\n                        // Capture ctrl+v (on IE and Chrome)\n                        $(g.cEdit).on('keydown', '.edit_box', function (e) {\n                            if (e.ctrlKey && e.which === 86) {\n                                $checkbox.prop('checked', false);\n                            }\n                        });\n                        $editArea.on('keydown', 'textarea', function () {\n                            $checkbox.prop('checked', false);\n                        });\n                    }\n                    // if some text is written in textbox automatically unmark the null checkbox and if it is emptied again mark the checkbox.\n                    $(g.cEdit).find('.edit_box').on('input', function () {\n                        if ($(g.cEdit).find('.edit_box').val() !== '') {\n                            $checkbox.prop('checked', false);\n                        }\n                        else {\n                            $checkbox.prop('checked', true);\n                        }\n                    });\n                    // if null checkbox is clicked empty the corresponding select/editor.\n                    $checkbox.on('click', function () {\n                        if ($td.is('.enum')) {\n                            $editArea.find('select').val('');\n                        }\n                        else if ($td.is('.set')) {\n                            $editArea.find('select').find('option').each(function () {\n                                var $option = $(this);\n                                $option.prop('selected', false);\n                            });\n                        }\n                        else if ($td.is('.relation')) {\n                            // if the dropdown is there to select the foreign value\n                            if ($editArea.find('select').length > 0) {\n                                $editArea.find('select').val('');\n                            }\n                        }\n                        else if ($td.is('.datefield')) {\n                            $('.ui-datepicker-trigger').trigger('click');\n                        }\n                        else {\n                            $editArea.find('textarea').val('');\n                        }\n                        $(g.cEdit).find('.edit_box').val('');\n                    });\n                }\n                // reset the position of the edit_area div after closing datetime picker\n                $(g.cEdit).find('.edit_area').css({ 'top': '0', 'position': '' });\n                var postParams;\n                if ($td.is('.relation')) {\n                    // handle relations\n                    $editArea.addClass('edit_area_loading');\n                    // initialize the original data\n                    $td.data('original_data', null);\n                    /**\n                     * @var postParams Object containing parameters for the POST request\n                     */\n                    postParams = {\n                        'ajax_request': true,\n                        'server': g.server,\n                        'db': g.db,\n                        'table': g.table,\n                        'column': fieldName,\n                        'curr_value': relationCurrValue,\n                        'relation_key_or_display_column': relationKeyOrDisplayColumn\n                    };\n                    g.lastXHR = $.post('index.php?route=/sql/get-relational-values', postParams, function (data) {\n                        g.lastXHR = null;\n                        $editArea.removeClass('edit_area_loading');\n                        if ($(data.dropdown).is('select')) {\n                            // save original_data\n                            var value = $(data.dropdown).val();\n                            $td.data('original_data', value);\n                            // update the text input field, in case where the \"Relational display column\" is checked\n                            $(g.cEdit).find('.edit_box').val(value);\n                        }\n                        $editArea.append(data.dropdown);\n                        $editArea.append('<div class=\"cell_edit_hint\">' + g.cellEditHint + '</div>');\n                        // for 'Browse foreign values' options,\n                        // hide the value next to 'Browse foreign values' link\n                        $editArea.find('span.curr_value').hide();\n                        // handle update for new values selected from new window\n                        $editArea.find('span.curr_value').on('change', function () {\n                            $(g.cEdit).find('.edit_box').val($(this).text());\n                        });\n                    }); // end $.post()\n                    $editArea.show();\n                    $editArea.on('change', 'select', function () {\n                        $(g.cEdit).find('.edit_box').val($(this).val());\n                    });\n                    g.isEditCellTextEditable = true;\n                }\n                else if ($td.is('.enum')) {\n                    // handle enum fields\n                    $editArea.addClass('edit_area_loading');\n                    /**\n                     * @var postParams Object containing parameters for the POST request\n                     */\n                    postParams = {\n                        'ajax_request': true,\n                        'server': g.server,\n                        'db': g.db,\n                        'table': g.table,\n                        'column': fieldName,\n                        'curr_value': currValue\n                    };\n                    g.lastXHR = $.post('index.php?route=/sql/get-enum-values', postParams, function (data) {\n                        g.lastXHR = null;\n                        if (typeof data === 'object' && data.success === false) {\n                            ajaxShowMessage(data.error, undefined, 'error');\n                            return;\n                        }\n                        $editArea.removeClass('edit_area_loading');\n                        $editArea.append(data.dropdown);\n                        $editArea.append('<div class=\"cell_edit_hint\">' + g.cellEditHint + '</div>');\n                    }); // end $.post()\n                    $editArea.show();\n                    $editArea.on('change', 'select', function () {\n                        $(g.cEdit).find('.edit_box').val($(this).val());\n                    });\n                }\n                else if ($td.is('.set')) {\n                    // handle set fields\n                    $editArea.addClass('edit_area_loading');\n                    // if the data is truncated, get the full data\n                    if ($td.is('.truncated')) {\n                        postParams = {\n                            'ajax_request': true,\n                            'server': g.server,\n                            'db': g.db,\n                            'table': g.table,\n                            'column': fieldName,\n                            'curr_value': currValue,\n                            'get_full_values': true,\n                            'where_clause': whereClause\n                        };\n                    }\n                    else {\n                        postParams = {\n                            'ajax_request': true,\n                            'server': g.server,\n                            'db': g.db,\n                            'table': g.table,\n                            'column': fieldName,\n                            'curr_value': currValue\n                        };\n                    }\n                    g.lastXHR = $.post('index.php?route=/sql/get-set-values', postParams, function (data) {\n                        g.lastXHR = null;\n                        if (typeof data === 'object' && data.success === false) {\n                            ajaxShowMessage(data.error, undefined, 'error');\n                            return;\n                        }\n                        $editArea.removeClass('edit_area_loading');\n                        $editArea.append(data.select);\n                        $td.data('original_data', $(data.select).val().join());\n                        $editArea.append('<div class=\"cell_edit_hint\">' + g.cellEditHint + '</div>');\n                    }); // end $.post()\n                    $editArea.show();\n                    $editArea.on('change', 'select', function () {\n                        $(g.cEdit).find('.edit_box').val($(this).val());\n                    });\n                }\n                else if ($td.is('.truncated, .transformed')) {\n                    if ($td.is('.to_be_saved')) { // cell has been edited\n                        var value = $td.data('value');\n                        $(g.cEdit).find('.edit_box').val(value);\n                        $editArea.append('<textarea></textarea>');\n                        $editArea.find('textarea').val(value);\n                        $editArea\n                            .on('keyup', 'textarea', function () {\n                            $(g.cEdit).find('.edit_box').val($(this).val());\n                        });\n                        $(g.cEdit).on('keyup', '.edit_box', function () {\n                            $editArea.find('textarea').val($(this).val());\n                        });\n                        $editArea.append('<div class=\"cell_edit_hint\">' + g.cellEditHint + '</div>');\n                    }\n                    else {\n                        // handle truncated/transformed values values\n                        $editArea.addClass('edit_area_loading');\n                        // initialize the original data\n                        $td.data('original_data', null);\n                        /**\n                         * @var sqlQuery   String containing the SQL query used to retrieve value of truncated/transformed data\n                         */\n                        var sqlQuery = 'SELECT `' + fieldName + '` FROM `' + g.table + '` WHERE ' + whereClause;\n                        // Make the Ajax call and get the data, wrap it and insert it\n                        g.lastXHR = $.post('index.php?route=/sql', {\n                            'server': g.server,\n                            'db': g.db,\n                            'ajax_request': true,\n                            'sql_query': sqlQuery,\n                            'grid_edit': true\n                        }, function (data) {\n                            g.lastXHR = null;\n                            $editArea.removeClass('edit_area_loading');\n                            if (typeof data !== 'undefined' && data.success === true) {\n                                if ($td.attr('data-type') === 'json') {\n                                    data.value = stringifyJSON(data.value, null, 4);\n                                }\n                                $td.data('original_data', data.value);\n                                $(g.cEdit).find('.edit_box').val(data.value);\n                            }\n                            else {\n                                ajaxShowMessage(data.error, false);\n                            }\n                        }); // end $.post()\n                    }\n                    g.isEditCellTextEditable = true;\n                }\n                else if ($td.is('.timefield, .datefield, .datetimefield, .timestampfield')) {\n                    var $inputField = $(g.cEdit).find('.edit_box');\n                    // remember current datetime value in $input_field, if it is not null\n                    var datetimeValue = !isNull ? $inputField.val() : '';\n                    var showMillisec = false;\n                    var showMicrosec = false;\n                    var timeFormat = 'HH:mm:ss';\n                    // check for decimal places of seconds\n                    if ((Number($td.attr('data-decimals')) > 0) && ($td.attr('data-type').indexOf('time') !== -1)) {\n                        if (datetimeValue && datetimeValue.indexOf('.') === -1) {\n                            datetimeValue += '.';\n                        }\n                        if (Number($td.attr('data-decimals')) > 3) {\n                            showMillisec = true;\n                            showMicrosec = true;\n                            timeFormat = 'HH:mm:ss.lc';\n                            if (datetimeValue) {\n                                datetimeValue += '000000';\n                                datetimeValue = datetimeValue.substring(0, datetimeValue.indexOf('.') + 7);\n                                $inputField.val(datetimeValue);\n                            }\n                        }\n                        else {\n                            showMillisec = true;\n                            timeFormat = 'HH:mm:ss.l';\n                            if (datetimeValue) {\n                                datetimeValue += '000';\n                                datetimeValue = datetimeValue.substring(0, datetimeValue.indexOf('.') + 4);\n                                $inputField.val(datetimeValue);\n                            }\n                        }\n                    }\n                    // add datetime picker\n                    addDatepicker($inputField, $td.attr('data-type'), {\n                        showMillisec: showMillisec,\n                        showMicrosec: showMicrosec,\n                        timeFormat: timeFormat,\n                        firstDay: window.firstDayOfCalendar\n                    });\n                    $inputField.on('keyup', function (e) {\n                        if (e.which === 13) {\n                            // post on pressing \"Enter\"\n                            e.preventDefault();\n                            e.stopPropagation();\n                            g.saveOrPostEditedCell();\n                        }\n                        else if (e.which !== 27) {\n                            toggleDatepickerIfInvalid($td, $inputField);\n                        }\n                    });\n                    $inputField.datepicker('show');\n                    toggleDatepickerIfInvalid($td, $inputField);\n                    // unbind the mousedown event to prevent the problem of\n                    // datepicker getting closed, needs to be checked for any\n                    // change in names when updating\n                    // @ts-ignore\n                    $(document).off('mousedown', $.datepicker._checkExternalClick); // eslint-disable-line no-underscore-dangle\n                    // move ui-datepicker-div inside cEdit div\n                    var datepickerDiv = $('#ui-datepicker-div');\n                    datepickerDiv.css({ 'top': 0, 'left': 0, 'position': 'relative' });\n                    $(g.cEdit).append(datepickerDiv);\n                    // cancel any click on the datepicker element\n                    $editArea.find('> *').on('click', function (e) {\n                        e.stopPropagation();\n                    });\n                    g.isEditCellTextEditable = true;\n                }\n                else {\n                    g.isEditCellTextEditable = true;\n                    // only append edit area hint if there is a null checkbox\n                    if ($editArea.children().length > 0) {\n                        $editArea.append('<div class=\"cell_edit_hint\">' + g.cellEditHint + '</div>');\n                    }\n                }\n                if ($editArea.children().length > 0) {\n                    $editArea.show();\n                }\n            }\n        },\n        /**\n         * Post the content of edited cell.\n         *\n         * @param options Optional, this object contains a boolean named move (true, if called from move* functions)\n         *                and a <td> to which the grid_edit should move\n         */\n        postEditedCell: function (options = undefined) {\n            if (g.isSaving) {\n                return;\n            }\n            g.isSaving = true;\n            /**\n             * @var relationFields Array containing the name/value pairs of relational fields\n             */\n            var relationFields = {};\n            /**\n             * @var relationalDisplay string 'K' if relational key, 'D' if relational display column\n             */\n            var relationalDisplay = $(g.o).find('input[name=relational_display]:checked').val();\n            /**\n             * @var transformFields    Array containing the name/value pairs for transformed fields\n             */\n            var transformFields = {};\n            /**\n             * @var transformationFields   Boolean, if there are any transformed fields in the edited cells\n             */\n            var transformationFields = false;\n            /**\n             * @var fullSqlQuery String containing the complete SQL query to update this table\n             */\n            var fullSqlQuery = '';\n            /**\n             * @var relFieldsList  String, url encoded representation of {@link relations_fields}\n             */\n            var relFieldsList = '';\n            /**\n             * @var transformFieldsList  String, url encoded representation of {@link transformFields}\n             */\n            var transformFieldsList = '';\n            /**\n             * @var fullWhereClause Array containing where clause for updated fields\n             */\n            var fullWhereClause = [];\n            /**\n             * @var isUnique   Boolean, whether the rows in this table is unique or not\n             */\n            var isUnique = $(g.t).find('td.edit_row_anchor').is('.nonunique') ? 0 : 1;\n            /**\n             * multi edit variables\n             */\n            var multiEditFieldsName = [];\n            var multiEditFieldsType = [];\n            var multiEditFields = [];\n            var multiEditFieldsNull = [];\n            // alert user if edited table is not unique\n            if (!isUnique) {\n                alert(g.alertNonUnique);\n            }\n            // loop each edited row\n            $(g.t).find('td.to_be_saved').parents('tr').each(function () {\n                var $tr = $(this);\n                var whereClause = $tr.find('.where_clause').val();\n                if (typeof whereClause === 'undefined') {\n                    whereClause = '';\n                }\n                fullWhereClause.push(whereClause);\n                var conditionArrayContent = $tr.find('.condition_array').val();\n                if (typeof conditionArrayContent === 'undefined') {\n                    conditionArrayContent = '{}';\n                }\n                var conditionArray = JSON.parse(conditionArrayContent);\n                /**\n                 * multi edit variables, for current row\n                 * @TODO array indices are still not correct, they should be md5 of field's name\n                 */\n                var fieldsName = [];\n                var fieldsType = [];\n                var fields = [];\n                var fieldsNull = [];\n                // loop each edited cell in a row\n                $tr.find('.to_be_saved').each(function () {\n                    /**\n                     * @var $thisField    Object referring to the td that is being edited\n                     */\n                    var $thisField = $(this);\n                    /**\n                     * @var fieldName  String containing the name of this field.\n                     * @see window.Sql.getFieldName()\n                     */\n                    var fieldName = window.Sql.getFieldName($(g.t), $thisField);\n                    /**\n                     * @var thisFieldParams   Array temporary storage for the name/value of current field\n                     */\n                    var thisFieldParams = {};\n                    if ($thisField.is('.transformed')) {\n                        transformationFields = true;\n                    }\n                    thisFieldParams[fieldName] = $thisField.data('value');\n                    /**\n                     * @var isNull String capturing whether 'checkbox_null_<field_name>_<row_index>' is checked.\n                     */\n                    var isNull = thisFieldParams[fieldName] === null;\n                    fieldsName.push(fieldName);\n                    if (isNull) {\n                        fieldsNull.push('on');\n                        fields.push('');\n                    }\n                    else {\n                        if ($thisField.is('.bit')) {\n                            fieldsType.push('bit');\n                        }\n                        else if ($thisField.hasClass('hex')) {\n                            fieldsType.push('hex');\n                        }\n                        fieldsNull.push('');\n                        if ($thisField.attr('data-type') !== 'json') {\n                            fields.push($thisField.data('value'));\n                        }\n                        else {\n                            const JSONString = stringifyJSON($thisField.data('value'));\n                            fields.push(JSONString);\n                        }\n                        var cellIndex = $thisField.index('.to_be_saved');\n                        if ($thisField.is(':not(.relation, .enum, .set, .bit)')) {\n                            if ($thisField.is('.transformed')) {\n                                transformFields[cellIndex] = {};\n                                $.extend(transformFields[cellIndex], thisFieldParams);\n                            }\n                        }\n                        else if ($thisField.is('.relation')) {\n                            relationFields[cellIndex] = {};\n                            $.extend(relationFields[cellIndex], thisFieldParams);\n                        }\n                    }\n                    // check if edited field appears in WHERE clause\n                    if (whereClause.indexOf(window.Sql.urlEncode(fieldName)) > -1) {\n                        var fieldStr = '`' + g.table + '`.' + '`' + fieldName + '`';\n                        for (var field in conditionArray) {\n                            if (field.indexOf(fieldStr) > -1) {\n                                conditionArray[field] = isNull ? 'IS NULL' : '= \\'' + thisFieldParams[fieldName].replace(/'/g, '\\'\\'') + '\\'';\n                                break;\n                            }\n                        }\n                    }\n                }); // end of loop for every edited cells in a row\n                // save new_clause\n                var newClause = '';\n                for (var field in conditionArray) {\n                    newClause += field + ' ' + conditionArray[field] + ' AND ';\n                }\n                newClause = newClause.substring(0, newClause.length - 5); // remove the last AND\n                $tr.data('new_clause', newClause);\n                // save condition_array\n                $tr.find('.condition_array').val(JSON.stringify(conditionArray));\n                multiEditFieldsName.push(fieldsName);\n                multiEditFieldsType.push(fieldsType);\n                multiEditFields.push(fields);\n                multiEditFieldsNull.push(fieldsNull);\n            }); // end of loop for every edited rows\n            relFieldsList = $.param(relationFields);\n            transformFieldsList = $.param(transformFields);\n            // Make the Ajax post after setting all parameters\n            /**\n             * @var postParams Object containing parameters for the POST request\n             */\n            var postParams = {\n                'ajax_request': true,\n                'sql_query': fullSqlQuery,\n                'server': g.server,\n                'db': g.db,\n                'table': g.table,\n                'clause_is_unique': isUnique,\n                'where_clause': fullWhereClause,\n                'fields[multi_edit]': multiEditFields,\n                'fields_name[multi_edit]': multiEditFieldsName,\n                'fields_type[multi_edit]': multiEditFieldsType,\n                'fields_null[multi_edit]': multiEditFieldsNull,\n                'rel_fields_list': relFieldsList,\n                'do_transformations': transformationFields,\n                'transform_fields_list': transformFieldsList,\n                'relational_display': relationalDisplay,\n                'goto': encodeURIComponent('index.php?route=/sql'),\n                'submit_type': 'save'\n            };\n            if (!g.saveCellsAtOnce) {\n                $(g.cEdit).find('*').prop('disabled', true);\n                $(g.cEdit).find('.edit_box').addClass('edit_box_posting');\n            }\n            else {\n                $(g.o).find('div.save_edited').addClass('saving_edited_data')\n                    .find('input').prop('disabled', true); // disable the save button\n            }\n            $.ajax({\n                type: 'POST',\n                url: 'index.php?route=/table/replace',\n                data: postParams,\n                success: function (data) {\n                    g.isSaving = false;\n                    if (!g.saveCellsAtOnce) {\n                        $(g.cEdit).find('*').prop('disabled', false);\n                        $(g.cEdit).find('.edit_box').removeClass('edit_box_posting');\n                    }\n                    else {\n                        $(g.o).find('div.save_edited').removeClass('saving_edited_data')\n                            .find('input').prop('disabled', false); // enable the save button back\n                    }\n                    if (typeof data !== 'undefined' && data.success === true) {\n                        if (typeof options === 'undefined' || !options.move) {\n                            ajaxShowMessage(data.message);\n                        }\n                        // update where_clause related data in each edited row\n                        $(g.t).find('td.to_be_saved').parents('tr').each(function () {\n                            var newClause = $(this).data('new_clause');\n                            var $whereClause = $(this).find('.where_clause');\n                            var oldClause = $whereClause.val();\n                            var decodedOldClause = oldClause;\n                            var decodedNewClause = newClause;\n                            $whereClause.val(newClause);\n                            // update Edit, Copy, and Delete links also\n                            $(this).find('a').each(function () {\n                                $(this).attr('href', $(this).attr('href').replace(oldClause, newClause));\n                                // update delete confirmation in Delete link\n                                if ($(this).attr('href').indexOf('DELETE') > -1) {\n                                    $(this).removeAttr('onclick')\n                                        .off('click')\n                                        .on('click', function () {\n                                        return confirmLink(this, 'DELETE FROM `' + g.db + '`.`' + g.table + '` WHERE ' +\n                                            decodedNewClause + (isUnique ? '' : ' LIMIT 1'));\n                                    });\n                                }\n                            });\n                            // update the multi edit checkboxes\n                            $(this).find('input[type=checkbox]').each(function () {\n                                var $checkbox = $(this);\n                                var checkboxName = $checkbox.attr('name');\n                                var checkboxValue = $checkbox.val();\n                                $checkbox.attr('name', checkboxName.replace(oldClause, newClause));\n                                $checkbox.val(checkboxValue.replace(decodedOldClause, decodedNewClause));\n                            });\n                        });\n                        // update the display of executed SQL query command\n                        if (typeof data.sql_query !== 'undefined') {\n                            // extract query box\n                            var $resultQuery = $($.parseHTML(data.sql_query));\n                            var sqlOuter = $resultQuery.find('.sqlOuter').wrap('<p>').parent().html();\n                            var tools = $resultQuery.find('.tools').wrap('<p>').parent().html();\n                            // sqlOuter and tools will not be present if 'Show SQL queries' configuration is off\n                            if (typeof sqlOuter !== 'undefined' && typeof tools !== 'undefined') {\n                                $(g.o).find('.result_query').not($(g.o).find('.result_query').last()).remove();\n                                var $existingQuery = $(g.o).find('.result_query');\n                                // If two query box exists update query in second else add a second box\n                                if ($existingQuery.find('div.sqlOuter').length > 1) {\n                                    $existingQuery.children().eq(3).remove();\n                                    $existingQuery.children().eq(3).remove();\n                                    $existingQuery.append(sqlOuter + tools);\n                                }\n                                else {\n                                    $existingQuery.append(sqlOuter + tools);\n                                }\n                                highlightSql($existingQuery);\n                            }\n                        }\n                        // hide and/or update the successfully saved cells\n                        g.hideEditCell(true, data);\n                        // remove the \"Save edited cells\" button\n                        $(g.o).find('div.save_edited').hide();\n                        // update saved fields\n                        $(g.t).find('.to_be_saved')\n                            .removeClass('to_be_saved')\n                            .data('value', null)\n                            .data('original_data', null);\n                        g.isCellEdited = false;\n                    }\n                    else {\n                        ajaxShowMessage(data.error, false);\n                        if (!g.saveCellsAtOnce) {\n                            $(g.t).find('.to_be_saved')\n                                .removeClass('to_be_saved');\n                        }\n                    }\n                }\n            }).done(function () {\n                if (options !== undefined && options.move) {\n                    g.showEditCell(options.cell);\n                }\n            }); // end $.ajax()\n        },\n        /**\n         * Save edited cell, so it can be posted later.\n         *\n         * @return {boolean}\n         */\n        saveEditedCell: function () {\n            /**\n             * @var $thisField    Object referring to the td that is being edited\n             */\n            var $thisField = $(g.currentEditCell);\n            var $testElement = null; // to test the presence of a element\n            var needToPost = false;\n            /**\n             * @var fieldName  String containing the name of this field.\n             * @see window.Sql.getFieldName()\n             */\n            var fieldName = window.Sql.getFieldName($(g.t), $thisField);\n            /**\n             * @var thisFieldParams   Array temporary storage for the name/value of current field\n             */\n            var thisFieldParams = {};\n            /**\n             * @var isNull String capturing whether 'checkbox_null_<field_name>_<row_index>' is checked.\n             */\n            var isNull = $(g.cEdit).find('input:checkbox').is(':checked');\n            if ($(g.cEdit).find('.edit_area').is('.edit_area_loading')) {\n                // the edit area is still loading (retrieving cell data), no need to post\n                needToPost = false;\n            }\n            else if (isNull) {\n                if (!g.wasEditedCellNull) {\n                    thisFieldParams[fieldName] = null;\n                    needToPost = true;\n                }\n            }\n            else {\n                if ($thisField.is('.bit')) {\n                    thisFieldParams[fieldName] = $(g.cEdit).find('.edit_box').val();\n                }\n                else if ($thisField.is('.set')) {\n                    $testElement = $(g.cEdit).find('select');\n                    thisFieldParams[fieldName] = $testElement.map(function () {\n                        return $(this).val();\n                    }).get().join(',');\n                }\n                else if ($thisField.is('.relation, .enum')) {\n                    // for relation and enumeration, take the results from edit box value,\n                    // because selected value from drop-down, new window or multiple\n                    // selection list will always be updated to the edit box\n                    thisFieldParams[fieldName] = $(g.cEdit).find('.edit_box').val();\n                }\n                else if ($thisField.hasClass('hex')) {\n                    if ($(g.cEdit).find('.edit_box').val().match(/^(0x)?[a-f0-9]*$/i) !== null) {\n                        thisFieldParams[fieldName] = $(g.cEdit).find('.edit_box').val();\n                    }\n                    else {\n                        var hexError = '<div class=\"alert alert-danger\" role=\"alert\">' + window.Messages.strEnterValidHex + '</div>';\n                        ajaxShowMessage(hexError, false);\n                        thisFieldParams[fieldName] = getCellValue(g.currentEditCell);\n                    }\n                }\n                else {\n                    thisFieldParams[fieldName] = $(g.cEdit).find('.edit_box').val();\n                }\n                let isValueUpdated;\n                if ($thisField.attr('data-type') !== 'json') {\n                    isValueUpdated = thisFieldParams[fieldName] !== getCellValue(g.currentEditCell);\n                }\n                else {\n                    const JSONString = stringifyJSON(thisFieldParams[fieldName]);\n                    isValueUpdated = JSONString !== stringifyJSON(getCellValue(g.currentEditCell));\n                }\n                if (g.wasEditedCellNull || isValueUpdated) {\n                    needToPost = true;\n                }\n            }\n            if (needToPost) {\n                $(g.currentEditCell).addClass('to_be_saved')\n                    .data('value', thisFieldParams[fieldName]);\n                if (g.saveCellsAtOnce) {\n                    $(g.o).find('div.save_edited').show();\n                }\n                g.isCellEdited = true;\n            }\n            return needToPost;\n        },\n        /**\n         * Save or post currently edited cell, depending on the \"saveCellsAtOnce\" configuration.\n         *\n         * @param options Optional, this object contains a boolean named move (true, if called from move* functions)\n         *                and a <td> to which the grid_edit should move\n         */\n        saveOrPostEditedCell: function (options = undefined) {\n            var saved = g.saveEditedCell();\n            // Check if $cfg['SaveCellsAtOnce'] is false\n            if (!g.saveCellsAtOnce) {\n                // Check if need_to_post is true\n                if (saved) {\n                    // Check if this function called from 'move' functions\n                    if (options !== undefined && options.move) {\n                        g.postEditedCell(options);\n                    }\n                    else {\n                        g.postEditedCell();\n                    }\n                    // need_to_post is false\n                }\n                else {\n                    // Check if this function called from 'move' functions\n                    if (options !== undefined && options.move) {\n                        g.hideEditCell(true);\n                        g.showEditCell(options.cell);\n                        // NOT called from 'move' functions\n                    }\n                    else {\n                        g.hideEditCell(true);\n                    }\n                }\n                // $cfg['SaveCellsAtOnce'] is true\n            }\n            else {\n                // If need_to_post\n                if (saved) {\n                    // If this function called from 'move' functions\n                    if (options !== undefined && options.move) {\n                        g.hideEditCell(true, true, false, options);\n                        g.showEditCell(options.cell);\n                        // NOT called from 'move' functions\n                    }\n                    else {\n                        g.hideEditCell(true, true);\n                    }\n                }\n                else {\n                    // If this function called from 'move' functions\n                    if (options !== undefined && options.move) {\n                        g.hideEditCell(true, false, false, options);\n                        g.showEditCell(options.cell);\n                        // NOT called from 'move' functions\n                    }\n                    else {\n                        g.hideEditCell(true);\n                    }\n                }\n            }\n        },\n        /**\n         * Initialize column resize feature.\n         */\n        initColResize: function () {\n            // create column resizer div\n            g.cRsz = document.createElement('div');\n            g.cRsz.className = 'cRsz';\n            // get data columns in the first row of the table\n            var $firstRowCols = $(g.t).find('tr').first().find('th.draggable');\n            // create column borders\n            $firstRowCols.each(function () {\n                var cb = document.createElement('div'); // column border\n                $(cb).addClass('colborder')\n                    .on('mousedown', function (e) {\n                    g.dragStartRsz(e, this);\n                });\n                $(g.cRsz).append(cb);\n            });\n            g.reposRsz();\n            // attach to global div\n            $(g.gDiv).prepend(g.cRsz);\n        },\n        /**\n         * Initialize column reordering feature.\n         */\n        initColReorder: function () {\n            g.cCpy = document.createElement('div'); // column copy, to store copy of dragged column header\n            g.cPointer = document.createElement('div'); // column pointer, used when reordering column\n            // adjust g.cCpy\n            g.cCpy.className = 'cCpy';\n            $(g.cCpy).hide();\n            // adjust g.cPointer\n            g.cPointer.className = 'cPointer';\n            $(g.cPointer).css('visibility', 'hidden'); // set visibility to hidden instead of calling hide() to force browsers to cache the image in cPointer class\n            // assign column reordering hint\n            g.reorderHint = window.Messages.strColOrderHint;\n            // get data columns in the first row of the table\n            var $firstRowCols = $(g.t).find('tr').first().find('th.draggable');\n            // initialize column order\n            var $colOrder = $(g.o).find('.col_order'); // check if column order is passed from PHP\n            var i;\n            if ($colOrder.length > 0) {\n                g.colOrder = $colOrder.val().split(',');\n                for (i = 0; i < g.colOrder.length; i++) {\n                    g.colOrder[i] = parseInt(g.colOrder[i], 10);\n                }\n            }\n            else {\n                g.colOrder = [];\n                for (i = 0; i < $firstRowCols.length; i++) {\n                    g.colOrder.push(i);\n                }\n            }\n            // register events\n            $(g.t).find('th.draggable')\n                .on('mousedown', function (e) {\n                $(g.o).addClass('turnOffSelect');\n                if (g.visibleHeadersCount > 1) {\n                    g.dragStartReorder(e, this);\n                }\n            })\n                .on('mouseenter', function () {\n                if (g.visibleHeadersCount > 1) {\n                    $(this).css('cursor', 'move');\n                }\n                else {\n                    $(this).css('cursor', 'inherit');\n                }\n            })\n                .on('mouseleave', function () {\n                g.showReorderHint = false;\n                bootstrap.Tooltip.getOrCreateInstance(this, { title: g.updateHint(), html: true })\n                    .setContent({ '.tooltip-inner': g.updateHint() });\n            })\n                .on('dblclick', function (e) {\n                e.preventDefault();\n                var res = copyToClipboard($(this).data('column'));\n                if (res) {\n                    ajaxShowMessage(window.Messages.strCopyColumnSuccess, false, 'success');\n                }\n                else {\n                    ajaxShowMessage(window.Messages.strCopyColumnFailure, false, 'error');\n                }\n            });\n            $(g.t).find('th.draggable a')\n                .on('dblclick', function (e) {\n                e.stopPropagation();\n            });\n            // restore column order when the restore button is clicked\n            $(g.o).find('div.restore_column').on('click', function () {\n                g.restoreColOrder();\n            });\n            // attach to global div\n            $(g.gDiv).append(g.cPointer);\n            $(g.gDiv).append(g.cCpy);\n            // prevent default \"dragstart\" event when dragging a link\n            $(g.t).find('th a').on('dragstart', function () {\n                return false;\n            });\n            // refresh the restore column button state\n            g.refreshRestoreButton();\n        },\n        /**\n         * Initialize column visibility feature.\n         */\n        initColVisib: function () {\n            g.cDrop = document.createElement('div'); // column drop-down arrows\n            g.cList = document.createElement('div'); // column visibility list\n            // adjust g.cDrop\n            g.cDrop.className = 'cDrop';\n            // adjust g.cList\n            g.cList.className = 'cList';\n            $(g.cList).hide();\n            // assign column visibility related hints\n            g.showAllColText = window.Messages.strShowAllCol;\n            // get data columns in the first row of the table\n            var $firstRowCols = $(g.t).find('tr').first().find('th.draggable');\n            var i;\n            // initialize column visibility\n            var $colVisib = $(g.o).find('.col_visib'); // check if column visibility is passed from PHP\n            if ($colVisib.length > 0) {\n                g.colVisib = $colVisib.val().split(',');\n                for (i = 0; i < g.colVisib.length; i++) {\n                    g.colVisib[i] = parseInt(g.colVisib[i], 10);\n                }\n            }\n            else {\n                g.colVisib = [];\n                for (i = 0; i < $firstRowCols.length; i++) {\n                    g.colVisib.push(1);\n                }\n            }\n            // make sure we have more than one column\n            if ($firstRowCols.length > 1) {\n                const colVisibTh = g.t.querySelectorAll('th:not(.draggable)');\n                const $colVisibTh = $(colVisibTh).slice(0, 1);\n                colVisibTh.forEach((tableHeader) => {\n                    bootstrap.Tooltip.getOrCreateInstance(tableHeader, { title: window.Messages.strColVisibHint })\n                        .setContent({ '.tooltip-inner': window.Messages.strColVisibHint });\n                });\n                // create column visibility drop-down arrow(s)\n                $colVisibTh.each(function () {\n                    var cd = document.createElement('div'); // column drop-down arrow\n                    $(cd).addClass('coldrop')\n                        .on('click', function () {\n                        if (g.cList.style.display === 'none') {\n                            g.showColList(this);\n                        }\n                        else {\n                            g.hideColList();\n                        }\n                    });\n                    $(g.cDrop).append(cd);\n                });\n                // add column visibility control\n                g.cList.innerHTML = '<div class=\"lDiv\"></div>';\n                var $listDiv = $(g.cList).find('div');\n                var tempClick = function () {\n                    if (g.toggleCol($(this).index())) {\n                        g.afterToggleCol();\n                    }\n                };\n                for (i = 0; i < $firstRowCols.length; i++) {\n                    var currHeader = $firstRowCols[i];\n                    var listElmt = document.createElement('div');\n                    $(listElmt).text($(currHeader).text())\n                        .prepend('<input type=\"checkbox\" ' + (g.colVisib[i] ? 'checked ' : '') + '>');\n                    $listDiv.append(listElmt);\n                    // add event on click\n                    $(listElmt).on('click', tempClick);\n                }\n                // add \"show all column\" button\n                var showAll = document.createElement('div');\n                $(showAll).addClass('showAllColBtn')\n                    .text(g.showAllColText);\n                $(g.cList).append(showAll);\n                $(showAll).on('click', function () {\n                    g.showAllColumns();\n                });\n                // prepend \"show all column\" button at top if the list is too long\n                if ($firstRowCols.length > 10) {\n                    var clone = showAll.cloneNode(true);\n                    // @ts-ignore\n                    $(g.cList).prepend(clone);\n                    $(clone).on('click', function () {\n                        g.showAllColumns();\n                    });\n                }\n            }\n            // hide column visibility list if we move outside the list\n            $(g.t).find('td, th.draggable').on('mouseenter', function () {\n                g.hideColList();\n            });\n            // attach to first row first col of the grid\n            var thFirst = $(g.t).find('th.d-print-none');\n            $(thFirst).append(g.cDrop);\n            $(thFirst).append(g.cList);\n            // some adjustment\n            g.reposDrop();\n        },\n        /**\n         * Move currently Editing Cell to Up\n         *\n         * @param e\n         *\n         */\n        moveUp: function (e) {\n            e.preventDefault();\n            var $thisField = $(g.currentEditCell);\n            var fieldName = window.Sql.getFieldName($(g.t), $thisField);\n            var whereClause = $thisField.parents('tr').first().find('.where_clause').val();\n            if (typeof whereClause === 'undefined') {\n                whereClause = '';\n            }\n            var found = false;\n            var $prevRow;\n            $thisField.parents('tr').first().parents('tbody').children().each(function () {\n                if ($(this).find('.where_clause').val() === whereClause) {\n                    found = true;\n                }\n                if (!found) {\n                    $prevRow = $(this);\n                }\n            });\n            var newCell;\n            if (found && $prevRow) {\n                $prevRow.children('td').each(function () {\n                    if (window.Sql.getFieldName($(g.t), $(this)) === fieldName) {\n                        newCell = this;\n                    }\n                });\n            }\n            if (newCell) {\n                g.hideEditCell(false, false, false, { move: true, cell: newCell });\n            }\n        },\n        /**\n         * Move currently Editing Cell to Down\n         *\n         * @param e\n         *\n         */\n        moveDown: function (e) {\n            e.preventDefault();\n            var $thisField = $(g.currentEditCell);\n            var fieldName = window.Sql.getFieldName($(g.t), $thisField);\n            var whereClause = $thisField.parents('tr').first().find('.where_clause').val();\n            if (typeof whereClause === 'undefined') {\n                whereClause = '';\n            }\n            var found = false;\n            var $nextRow;\n            var j = 0;\n            var nextRowFound = false;\n            $thisField.parents('tr').first().parents('tbody').children().each(function () {\n                if ($(this).find('.where_clause').val() === whereClause) {\n                    found = true;\n                }\n                if (found) {\n                    if (j >= 1 && !nextRowFound) {\n                        $nextRow = $(this);\n                        nextRowFound = true;\n                    }\n                    else {\n                        j++;\n                    }\n                }\n            });\n            var newCell;\n            if (found && $nextRow) {\n                $nextRow.children('td').each(function () {\n                    if (window.Sql.getFieldName($(g.t), $(this)) === fieldName) {\n                        newCell = this;\n                    }\n                });\n            }\n            if (newCell) {\n                g.hideEditCell(false, false, false, { move: true, cell: newCell });\n            }\n        },\n        /**\n         * Move currently Editing Cell to Left\n         *\n         * @param e\n         *\n         */\n        moveLeft: function (e) {\n            e.preventDefault();\n            var $thisField = $(g.currentEditCell);\n            var fieldName = window.Sql.getFieldName($(g.t), $thisField);\n            var whereClause = $thisField.parents('tr').first().find('.where_clause').val();\n            if (typeof whereClause === 'undefined') {\n                whereClause = '';\n            }\n            var found = false;\n            var $foundRow;\n            $thisField.parents('tr').first().parents('tbody').children().each(function () {\n                if ($(this).find('.where_clause').val() === whereClause) {\n                    found = true;\n                    $foundRow = $(this);\n                }\n            });\n            var leftCell;\n            var cellFound = false;\n            if (found) {\n                $foundRow.children('td.grid_edit').each(function () {\n                    if (window.Sql.getFieldName($(g.t), $(this)) === fieldName) {\n                        cellFound = true;\n                    }\n                    if (!cellFound) {\n                        leftCell = this;\n                    }\n                });\n            }\n            if (leftCell) {\n                g.hideEditCell(false, false, false, { move: true, cell: leftCell });\n            }\n        },\n        /**\n         * Move currently Editing Cell to Right\n         *\n         * @param e\n         *\n         */\n        moveRight: function (e) {\n            e.preventDefault();\n            var $thisField = $(g.currentEditCell);\n            var fieldName = window.Sql.getFieldName($(g.t), $thisField);\n            var whereClause = $thisField.parents('tr').first().find('.where_clause').val();\n            if (typeof whereClause === 'undefined') {\n                whereClause = '';\n            }\n            var found = false;\n            var $foundRow;\n            var j = 0;\n            $thisField.parents('tr').first().parents('tbody').children().each(function () {\n                if ($(this).find('.where_clause').val() === whereClause) {\n                    found = true;\n                    $foundRow = $(this);\n                }\n            });\n            var rightCell;\n            var cellFound = false;\n            var nextCellFound = false;\n            if (found) {\n                $foundRow.children('td.grid_edit').each(function () {\n                    if (window.Sql.getFieldName($(g.t), $(this)) === fieldName) {\n                        cellFound = true;\n                    }\n                    if (cellFound) {\n                        if (j >= 1 && !nextCellFound) {\n                            rightCell = this;\n                            nextCellFound = true;\n                        }\n                        else {\n                            j++;\n                        }\n                    }\n                });\n            }\n            if (rightCell) {\n                g.hideEditCell(false, false, false, { move: true, cell: rightCell });\n            }\n        },\n        /**\n         * Initialize grid editing feature.\n         */\n        initGridEdit: function () {\n            function startGridEditing(e, cell) {\n                if (g.isCellEditActive) {\n                    g.saveOrPostEditedCell();\n                }\n                else {\n                    g.showEditCell(cell);\n                }\n                e.stopPropagation();\n            }\n            function handleCtrlNavigation(e) {\n                if ((e.ctrlKey && e.which === 38) || (e.altKey && e.which === 38)) {\n                    g.moveUp(e);\n                }\n                else if ((e.ctrlKey && e.which === 40) || (e.altKey && e.which === 40)) {\n                    g.moveDown(e);\n                }\n                else if ((e.ctrlKey && e.which === 37) || (e.altKey && e.which === 37)) {\n                    g.moveLeft(e);\n                }\n                else if ((e.ctrlKey && e.which === 39) || (e.altKey && e.which === 39)) {\n                    g.moveRight(e);\n                }\n            }\n            // create cell edit wrapper element\n            g.cEditStd = document.createElement('div');\n            g.cEdit = g.cEditStd;\n            g.cEditTextarea = document.createElement('div');\n            // adjust g.cEditStd\n            g.cEditStd.className = 'cEdit';\n            $(g.cEditStd).html('<input class=\"edit_box\" rows=\"1\"><div class=\"edit_area\"></div>');\n            $(g.cEditStd).hide();\n            // adjust g.cEdit\n            g.cEditTextarea.className = 'cEdit';\n            $(g.cEditTextarea).html('<textarea class=\"edit_box\" rows=\"1\"></textarea><div class=\"edit_area\"></div>');\n            $(g.cEditTextarea).hide();\n            // assign cell editing hint\n            g.cellEditHint = window.Messages.strCellEditHint;\n            g.saveCellWarning = window.Messages.strSaveCellWarning;\n            g.alertNonUnique = window.Messages.strAlertNonUnique;\n            g.gotoLinkText = window.Messages.strGoToLink;\n            // initialize cell editing configuration\n            g.saveCellsAtOnce = $(g.o).find('.save_cells_at_once').val();\n            g.maxTruncatedLen = CommonParams.get('LimitChars');\n            // register events\n            $(g.t).find('td.data.click1')\n                .on('click', function (e) {\n                startGridEditing(e, this);\n                // prevent default action when clicking on \"link\" in a table\n                if ($(e.target).is('.grid_edit a')) {\n                    e.preventDefault();\n                }\n            });\n            $(g.t)\n                .on('click', 'td.data.click2', function (e) {\n                var $cell = $(this);\n                // In the case of relational link, We want single click on the link\n                // to goto the link and double click to start grid-editing.\n                var $link = $(e.target);\n                if ($link.is('.grid_edit.relation a')) {\n                    e.preventDefault();\n                    // get the click count and increase\n                    var clicks = $cell.data('clicks');\n                    clicks = (typeof clicks === 'undefined') ? 1 : clicks + 1;\n                    if (clicks === 1) {\n                        // if there are no previous clicks,\n                        // start the single click timer\n                        var timer = setTimeout(function () {\n                            // temporarily remove ajax class so the page loader will not handle it,\n                            // submit and then add it back\n                            $link.removeClass('ajax');\n                            AJAX.requestHandler.call($link[0]);\n                            $link.addClass('ajax');\n                            $cell.data('clicks', 0);\n                        }, 700);\n                        $cell.data('clicks', clicks);\n                        $cell.data('timer', timer);\n                    }\n                    else { // When double clicking a link, switch to edit mode\n                        // this is a double click, cancel the single click timer\n                        // and make the click count 0\n                        clearTimeout($cell.data('timer'));\n                        $cell.data('clicks', 0);\n                        // start grid-editing\n                        startGridEditing(e, this);\n                    }\n                }\n            })\n                .on('dblclick', 'td.data.click2', function (e) {\n                if ($(e.target).is('.grid_edit a')) {\n                    e.preventDefault();\n                }\n                else {\n                    startGridEditing(e, this);\n                }\n            });\n            $(g.cEditStd).on('keydown', 'input.edit_box, select', handleCtrlNavigation);\n            $(g.cEditStd).find('.edit_box').on('focus', function () {\n                g.showEditArea();\n            });\n            $(g.cEditStd).on('keydown', '.edit_box, select', function (e) {\n                if (e.which === 13) {\n                    // post on pressing \"Enter\"\n                    e.preventDefault();\n                    g.saveOrPostEditedCell();\n                }\n            });\n            $(g.cEditStd).on('keydown', function (e) {\n                if (!g.isEditCellTextEditable) {\n                    // prevent text editing\n                    e.preventDefault();\n                }\n            });\n            $(g.cEditTextarea).on('keydown', 'textarea.edit_box, select', handleCtrlNavigation);\n            $(g.cEditTextarea).find('.edit_box').on('focus', function () {\n                g.showEditArea();\n            });\n            $(g.cEditTextarea).on('keydown', '.edit_box, select', function (e) {\n                if (e.which === 13 && !e.shiftKey) {\n                    // post on pressing \"Enter\"\n                    e.preventDefault();\n                    g.saveOrPostEditedCell();\n                }\n            });\n            $(g.cEditTextarea).on('keydown', function (e) {\n                if (!g.isEditCellTextEditable) {\n                    // prevent text editing\n                    e.preventDefault();\n                }\n            });\n            $('html').on('click', function (e) {\n                // hide edit cell if the click is not fromDat edit area\n                if ($(e.target).parents().index($(g.cEdit)) === -1 &&\n                    !$(e.target).parents('.ui-datepicker-header').length &&\n                    !$('#browseForeignModal').length &&\n                    !$(e.target).closest('.dismissable').length) {\n                    g.hideEditCell();\n                }\n            }).on('keydown', function (e) {\n                if (e.which === 27 && g.isCellEditActive) {\n                    // cancel on pressing \"Esc\"\n                    g.hideEditCell(true);\n                }\n            });\n            $(g.o).find('div.save_edited').on('click', function () {\n                g.hideEditCell();\n                g.postEditedCell();\n            });\n            $(window).on('beforeunload', function () {\n                if (g.isCellEdited) {\n                    return g.saveCellWarning;\n                }\n            });\n            // attach to global div\n            $(g.gDiv).append(g.cEditStd);\n            $(g.gDiv).append(g.cEditTextarea);\n            // add hint for grid editing feature when hovering \"Edit\" link in each table row\n            g.t.querySelectorAll('.edit_row_anchor').forEach((editRowAnchor) => {\n                if (editRowAnchor.dataset.gridEditConfig === 'disabled') {\n                    return;\n                }\n                bootstrap.Tooltip.getOrCreateInstance(editRowAnchor.querySelector('a'));\n            });\n        },\n        /**\n         * Initialize cell selection feature (square selection).\n         */\n        initCellSelection: function () {\n            g.isSelectingCells = false;\n            g.startSelectCell = null;\n            g.preEndSelectCell = null;\n            g.endSelectCell = null;\n            g.selectedColumns = new Set();\n            g.selectedRows = new Set();\n            g.renderedSelectedCells = new Set();\n            const colspan = Number($(g.t).find('thead th').first().attr('colspan')) - 1 || 0;\n            const selectingClass = 'cell-selected';\n            let keyboardEventTimestamp = 0;\n            // Check if an element is visible for user\n            function isPartiallyHidden(el) {\n                const rect = el.getBoundingClientRect();\n                const vW = window.innerWidth;\n                const vH = window.innerHeight;\n                if (rect.top < 0 || rect.left < 0 || rect.bottom > vH || rect.right > vW) {\n                    return true;\n                }\n                const points = [\n                    { x: rect.left + 1, y: rect.top + 1 },\n                    { x: rect.right - 1, y: rect.top + 1 },\n                    { x: rect.right - 1, y: rect.bottom - 1 },\n                    { x: rect.left + 1, y: rect.bottom - 1 },\n                    { x: rect.left + rect.width / 2, y: rect.top + rect.height / 2 }\n                ];\n                for (let i = 0; i < 5; i++) {\n                    const p = points[i];\n                    const topEl = document.elementFromPoint(p.x, p.y);\n                    if (topEl && !$(topEl).hasClass('tooltip-inner') && !el.contains(topEl) && topEl !== el) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n            function scrollDuringSelection() {\n                const { endSelectCell, preEndSelectCell } = g;\n                if (!endSelectCell || !preEndSelectCell || !isPartiallyHidden(endSelectCell)) {\n                    return;\n                }\n                const $end = $(endSelectCell);\n                const $preEnd = $(preEndSelectCell);\n                const isHeader = $end.is('th');\n                const endIdx = $end.index() + (isHeader ? colspan : 0);\n                const endRowIdx = $end.parent().index();\n                const preIdx = $preEnd.index() + (isHeader ? colspan : 0);\n                const preRowIdx = $preEnd.parent().index();\n                let direction = null;\n                if (endRowIdx < preRowIdx) {\n                    direction = 'up';\n                }\n                else if (endRowIdx > preRowIdx) {\n                    direction = 'down';\n                }\n                else if (endIdx < preIdx) {\n                    direction = 'left';\n                }\n                else if (endIdx > preIdx) {\n                    direction = 'right';\n                }\n                if (direction) {\n                    endSelectCell.scrollIntoView({\n                        block: 'nearest',\n                        inline: 'nearest',\n                        behavior: 'auto'\n                    });\n                    const extra = 50;\n                    const dw = endSelectCell.offsetWidth + extra;\n                    const dh = endSelectCell.offsetHeight + extra;\n                    const offsets = {\n                        up: [0, -dh],\n                        down: [0, dh],\n                        left: [-dw, 0],\n                        right: [dw, 0]\n                    };\n                    const [scrollX, scrollY] = offsets[direction];\n                    window.scrollBy(scrollX, scrollY);\n                }\n            }\n            function renderCellSelection() {\n                g.renderedSelectedCells.clear();\n                $(g.t).find(`.${selectingClass}`).removeClass(selectingClass).removeClass('with-bg-color');\n                if (g.selectedColumns.size === 0) {\n                    return;\n                }\n                g.selectedRows.forEach((rowIndex) => {\n                    g.selectedColumns.forEach((cellIndex) => {\n                        g.renderedSelectedCells.add(`${rowIndex}-${cellIndex}`);\n                        const columns = rowIndex === -1 ?\n                            $(g.t).find('thead tr').eq(0).find('th').eq(cellIndex - colspan) :\n                            $(g.t).find('tbody tr').eq(rowIndex).find('td').eq(cellIndex);\n                        columns.addClass((g.selectedColumns.size === 1 && g.selectedRows.size === 1) ? selectingClass : `${selectingClass} with-bg-color`);\n                    });\n                });\n            }\n            function updateCellSelection(cell) {\n                const $cell = $(cell);\n                if (!$cell) {\n                    return;\n                }\n                const cellIndex = $cell.index();\n                const rowIndex = $cell.parent().index();\n                const key = `${rowIndex}-${cellIndex}`;\n                if (g.renderedSelectedCells.has(key)) {\n                    g.selectedRows.delete(rowIndex);\n                    g.selectedColumns.delete(cellIndex);\n                    g.renderedSelectedCells.delete(key);\n                }\n                else {\n                    g.selectedRows.add(rowIndex);\n                    g.selectedColumns.add(cellIndex);\n                }\n                renderCellSelection();\n            }\n            function selectCell(cell) {\n                g.preEndSelectCell = g.endSelectCell;\n                g.endSelectCell = cell;\n                updateCellSelection(cell);\n                scrollDuringSelection();\n            }\n            function resetCellSelection() {\n                g.isSelectingCells = false;\n                g.startSelectCell = null;\n                g.endSelectCell = null;\n                g.selectedColumns.clear();\n                g.selectedRows.clear();\n                g.renderedSelectedCells.clear();\n                renderCellSelection();\n            }\n            // Event to reset selection on Escape key press\n            $(document).on('keydown', function (e) {\n                if (e.key === 'Escape') {\n                    resetCellSelection();\n                }\n            });\n            // Keyboard events for cell selection\n            $(document).on('keydown', function (e) {\n                if (document.activeElement && $(document.activeElement).is('input, textarea, select')) {\n                    return; // do not interfere with input fields\n                }\n                // ctrl + A to select all cells\n                if ((e.ctrlKey || e.metaKey) && e.code === 'KeyA') {\n                    e.preventDefault();\n                    window.getSelection().removeAllRanges();\n                    // Select all cells with header\n                    $(g.t).find('tbody > tr, thead > tr').each(function () {\n                        $(this).find('td.data, th:not(.column_action)').addClass(`${selectingClass} with-bg-color`);\n                    });\n                }\n                // add throttle to avoid multiple events firing too quickly\n                if (keyboardEventTimestamp && (Date.now() - keyboardEventTimestamp) < 100) {\n                    return;\n                }\n                keyboardEventTimestamp = Date.now();\n                // arrow + shift to select cells\n                if (e.shiftKey && g.endSelectCell) {\n                    const allowedSelectorToSelect = '.column_heading, .data';\n                    const lookupNextCell = {\n                        ArrowUp: () => {\n                            if ($(g.endSelectCell).is('th')) {\n                                return null;\n                            }\n                            const rowElement = $(g.endSelectCell).closest('tr');\n                            if (rowElement.index() === 0) {\n                                g.selectedRows.add(-1);\n                                return $(g.t).find('thead > tr').eq(0).find('th.bg-body').eq($(g.endSelectCell).index() - colspan).get(0);\n                            }\n                            const nextElement = rowElement.prev().find('td, th').eq($(g.endSelectCell).index());\n                            if (nextElement.hasClass(selectingClass)) {\n                                g.selectedRows.delete(rowElement.index());\n                            }\n                            else {\n                                g.selectedRows.add(rowElement.prev().index());\n                            }\n                            return nextElement.get(0);\n                        },\n                        ArrowDown: () => {\n                            const rowElement = $(g.endSelectCell).closest('tr');\n                            if ($(g.endSelectCell).is('th')) {\n                                g.selectedRows.delete(-1);\n                                return $(g.t).find('tbody > tr').eq(0).find('td').eq($(g.endSelectCell).index() + colspan).get(0);\n                            }\n                            const nextElement = rowElement.next().find('td, th').eq($(g.endSelectCell).index());\n                            if (rowElement.next().index() < 0) {\n                                return null;\n                            }\n                            if (nextElement.hasClass(selectingClass)) {\n                                g.selectedRows.delete(rowElement.index());\n                            }\n                            else {\n                                g.selectedRows.add(rowElement.next().index());\n                            }\n                            return nextElement.get(0);\n                        },\n                        ArrowLeft: () => {\n                            const nextElement = $(g.endSelectCell).prev(allowedSelectorToSelect);\n                            if (!nextElement || nextElement.index() < 0) {\n                                return null;\n                            }\n                            const isHeader = nextElement.is('th');\n                            if (nextElement.hasClass(selectingClass)) {\n                                g.selectedColumns.delete($(g.endSelectCell).index() + (isHeader ? colspan : 0));\n                            }\n                            else {\n                                g.selectedColumns.add(nextElement.index() + (isHeader ? colspan : 0));\n                            }\n                            return nextElement.get(0);\n                        },\n                        ArrowRight: () => {\n                            const nextElement = $(g.endSelectCell).next(allowedSelectorToSelect);\n                            if (!nextElement || nextElement.index() < 0) {\n                                return null;\n                            }\n                            const isHeader = nextElement.is('th');\n                            if (nextElement.hasClass(selectingClass)) {\n                                g.selectedColumns.delete($(g.endSelectCell).index() + (isHeader ? colspan : 0));\n                            }\n                            else {\n                                g.selectedColumns.add(nextElement.index() + (isHeader ? colspan : 0));\n                            }\n                            return nextElement.get(0);\n                        }\n                    };\n                    if (Object.keys(lookupNextCell).includes(e.key)) {\n                        e.preventDefault();\n                        const nextCell = lookupNextCell[e.key]();\n                        if (nextCell) {\n                            g.preEndSelectCell = g.endSelectCell;\n                            g.endSelectCell = nextCell;\n                            renderCellSelection();\n                            scrollDuringSelection();\n                        }\n                    }\n                }\n            });\n            // Reset selection when clicking outside the table\n            $(document).on('mousedown', function (e) {\n                if (!$(e.target).closest(g.t).length) {\n                    resetCellSelection();\n                }\n            });\n            $(g.t).on('mousedown', 'td.data', function (e) {\n                let isMultiselect = null;\n                // Ignore if clicking on link/input/etc or right click\n                if (e.which !== 1 || $(e.target).is('a, input, select, textarea, .edit_box')) {\n                    return;\n                }\n                if (!e.ctrlKey && !e.metaKey) {\n                    $(g.t).find(`.${selectingClass}`).removeClass(`${selectingClass} with-bg-color`);\n                    resetCellSelection();\n                    isMultiselect = false;\n                }\n                else {\n                    isMultiselect = true;\n                }\n                g.startSelectCell = this;\n                g.isSelectingCells = true;\n                selectCell(this);\n                // Prevent text selection\n                e.preventDefault();\n                // Dynamic mouseover for drag\n                $(g.t).on('mouseover.cellSelect', 'td.data, thead th:not(.column_action)', function (e) {\n                    if (!g.isSelectingCells || g.endSelectCell === this) {\n                        return;\n                    }\n                    const isHeader = $(this).is('th');\n                    const colIndex = $(this).index() + (isHeader ? colspan : 0);\n                    const rowIndex = $(this).parent().index() + (isHeader ? -1 : 0);\n                    const startColIndex = $(g.startSelectCell).index();\n                    const startRowIndex = $(g.startSelectCell).parent().index();\n                    const minCol = Math.min(colIndex, startColIndex);\n                    const maxCol = Math.max(colIndex, startColIndex);\n                    const minRow = Math.min(rowIndex, startRowIndex);\n                    const maxRow = Math.max(rowIndex, startRowIndex);\n                    if (!isMultiselect) {\n                        g.selectedRows.clear();\n                        g.selectedColumns.clear();\n                    }\n                    for (let r = minRow; r <= maxRow; r++) {\n                        g.selectedRows.add(r);\n                    }\n                    for (let c = minCol; c <= maxCol; c++) {\n                        g.selectedColumns.add(c);\n                    }\n                    g.preEndSelectCell = g.endSelectCell;\n                    g.endSelectCell = this;\n                    scrollDuringSelection();\n                    renderCellSelection();\n                });\n                // One-time mouseup on document to stop selection\n                $(document).on('mouseup.cellSelect', function () {\n                    g.isSelectingCells = false;\n                    $(g.t).off('mouseover.cellSelect');\n                    $(document).off('mouseup.cellSelect');\n                });\n            });\n            // Copy handler\n            $(document).on('copy', function (e) {\n                if (!document.body.contains(g.t)) {\n                    return;\n                }\n                if ($(g.t).find(`.${selectingClass}`).length > 0) {\n                    let selectionText = '';\n                    const headers = [];\n                    $(g.t).find('thead th.cell-selected').each(function () {\n                        headers.push($(this).find('a')[0].childNodes[0].nodeValue.trim());\n                    });\n                    if (headers.length > 0) {\n                        selectionText += headers.join('\\t') + '\\n';\n                    }\n                    const rows = [];\n                    $(g.t).find('tbody tr').each(function () {\n                        const rowCells = [];\n                        $(this).find('td.cell-selected').each(function () {\n                            rowCells.push($(this).text().trim());\n                        });\n                        if (rowCells.length > 0) {\n                            rows.push(rowCells.join('\\t'));\n                        }\n                    });\n                    selectionText += rows.join('\\n');\n                    const ev = e.originalEvent;\n                    if (ev?.clipboardData) {\n                        ev.clipboardData.setData('text/plain', selectionText);\n                        e.preventDefault();\n                    }\n                }\n            });\n        }\n    };\n    /** ****************\n     * Initialize grid\n     ******************/\n    // wrap all truncated data cells with span indicating the original length\n    // todo update the original length after a grid edit\n    $(t).find('td.data.truncated:not(:has(>span))')\n        .filter(function () {\n        return $(this).data('originallength') !== undefined;\n    })\n        .wrapInner(function () {\n        return '<span title=\"' + window.Messages.strOriginalLength + ' ' +\n            $(this).data('originallength') + '\"></span>';\n    });\n    // wrap remaining cells, except actions cell, with span\n    $(t).find('th, td:not(:has(>span))')\n        .wrapInner('<span></span>');\n    // create grid elements\n    g.gDiv = document.createElement('div'); // create global div\n    // initialize the table variable\n    g.t = t;\n    // enclosing .sqlqueryresults div\n    g.o = $(t).parents('.sqlqueryresults');\n    // get data columns in the first row of the table\n    var $firstRowCols = $(t).find('tr').first().find('th.draggable');\n    // initialize visible headers count\n    g.visibleHeadersCount = $firstRowCols.filter(':visible').length;\n    // assign first column (actions) span\n    if (!$(t).find('tr').first().find('th').first().hasClass('draggable')) { // action header exist\n        g.actionSpan = $(t).find('tr').first().find('th').first().prop('colspan');\n    }\n    else {\n        g.actionSpan = 0;\n    }\n    // assign table create time\n    // table_create_time will only available if we are in \"Browse\" tab\n    g.tableCreateTime = $(g.o).find('.table_create_time').val();\n    // assign the hints\n    g.sortHint = window.Messages.strSortHint;\n    g.strMultiSortHint = window.Messages.strMultiSortHint;\n    g.markHint = window.Messages.strColMarkHint;\n    g.copyHint = window.Messages.strColNameCopyHint;\n    // assign common hidden inputs\n    var $commonHiddenInputs = $(g.o).find('div.common_hidden_inputs');\n    g.server = $commonHiddenInputs.find('input[name=server]').val();\n    g.db = $commonHiddenInputs.find('input[name=db]').val();\n    g.table = $commonHiddenInputs.find('input[name=table]').val();\n    // add table class\n    $(t).addClass('pma_table');\n    // add relative position to global div so that resize handlers are correctly positioned\n    $(g.gDiv).css('position', 'relative');\n    // link the global div\n    $(t).before(g.gDiv);\n    $(g.gDiv).append(t);\n    // FEATURES\n    if (isResizeEnabled) {\n        g.initColResize();\n    }\n    // disable reordering for result from EXPLAIN or SHOW syntax, which do not have a table navigation panel\n    if (isReorderEnabled &&\n        $(g.o).find('table.navigation').length > 0) {\n        g.initColReorder();\n    }\n    if (isVisibEnabled) {\n        g.initColVisib();\n    }\n    // make sure we have the ajax class\n    if (isGridEditEnabled &&\n        $(t).is('.ajax')) {\n        g.initGridEdit();\n    }\n    // create tooltip for each <th> with draggable class\n    t.querySelectorAll('th.draggable').forEach((tableHeader) => {\n        bootstrap.Tooltip.getOrCreateInstance(tableHeader, { title: g.updateHint(), html: true })\n            .setContent({ '.tooltip-inner': g.updateHint() });\n    });\n    // register events for hint tooltip (anchors inside draggable th)\n    $(t).find('th.draggable a')\n        .on('mouseenter', function () {\n        g.showSortHint = true;\n        g.showMultiSortHint = true;\n        t.querySelectorAll('th.draggable').forEach((tableHeader) => {\n            bootstrap.Tooltip.getOrCreateInstance(tableHeader, { title: g.updateHint(), html: true })\n                .setContent({ '.tooltip-inner': g.updateHint() });\n        });\n    })\n        .on('mouseleave', function () {\n        g.showSortHint = false;\n        g.showMultiSortHint = false;\n        t.querySelectorAll('th.draggable').forEach((tableHeader) => {\n            bootstrap.Tooltip.getOrCreateInstance(tableHeader, { title: g.updateHint(), html: true })\n                .setContent({ '.tooltip-inner': g.updateHint() });\n        });\n    });\n    // register events for dragging-related feature\n    if (isResizeEnabled || isReorderEnabled) {\n        $(document).on('mousemove', function (e) {\n            g.dragMove(e);\n        });\n        $(document).on('mouseup', function (e) {\n            $(g.o).removeClass('turnOffSelect');\n            g.dragEnd(e);\n        });\n    }\n    // some adjustment\n    $(t).removeClass('data');\n    $(g.gDiv).addClass('data');\n    /* Store the grid controller instance on the table element so it can be accessed later by other modules\n       (e.g. during AJAX teardown) without exposing the grid object as a global variable.*/\n    $(t).data('pmaGrid', g);\n    g.initCellSelection();\n};\nwindow.makeGrid = makeGrid;\n","module.exports = jQuery;"],"names":["$","bootstrap","AJAX","addDatepicker","confirmLink","copyToClipboard","getCellValue","stringifyJSON","toggleDatepickerIfInvalid","updateCode","userAgent","CommonParams","highlightSql","ajaxShowMessage","escapeHtml","makeGrid","t","enableResize","arguments","length","undefined","enableReorder","enableVisib","enableGridEdit","isResizeEnabled","isReorderEnabled","isVisibEnabled","isGridEditEnabled","g","minColWidth","actionSpan","tableCreateTime","colOrder","colVisib","showAllColText","visibleHeadersCount","reorderHint","sortHint","markHint","copyHint","showReorderHint","showSortHint","showMarkHint","isCellEditActive","isEditCellTextEditable","currentEditCell","cellEditHint","gotoLinkText","wasEditedCellNull","maxTruncatedLen","saveCellsAtOnce","isCellEdited","saveCellWarning","lastXHR","isSaving","alertNonUnique","token","server","db","table","dragStartRsz","e","obj","n","cRsz","find","index","addClass","colRsz","x0","pageX","objLeft","position","left","objWidth","eq","outerWidth","document","body","css","hideEditCell","dragStartReorder","cCpy","text","objPos","top","height","width","cPointer","getHeaderIdx","colReorder","y0","pageY","newn","objTop","dragMove","dx","show","hoveredCol","getHoveredCol","colPos","newleft","visibility","dragEnd","nw","resize","reposRsz","reposDrop","removeClass","shiftCol","sendColPrefs","refreshRestoreButton","stop","animate","fadeOut","each","add","hide","$firstRowCols","first","$resizeHandles","l","$col","colWidth","toLowerCase","indexOf","hasClass","resetGridEditState","oldn","before","after","cList","tmp","splice","$headers","offset","right","parents","restoreColOrder","i","x","j","is","postParams","extend","toString","post","data","success","$tempDiv","createElement","html","error","isInitial","isOneColumn","o","updateHint","showMultiSortHint","strMultiSortHint","toggleCol","prop","afterToggleCol","showColList","pos","outerHeight","hideColList","cDrop","$th","$cd","showAllColumns","showEditCell","cell","$datePickerInstance","cEdit","datepicker","$cell","attr","cEditTextarea","cEditStd","empty","value","val","trigger","moveCursorToEnd","input","originalValue","originallength","setSelectionRange","force","field","options","saveOrPostEditedCell","abort","$thisField","isNull","isNeedToRecheck","truncatableFieldValue","get","substring","newHtml","replace","decimals","parseInt","selector","$target","transformations","cellIndex","Number","relations","$dp","on","_checkExternalClick","showEditArea","$td","$editArea","whereClause","parent","fieldName","window","Sql","getFieldName","relationCurrValue","relationKeyOrDisplayColumn","currValue","gotoLink","className","append","clone","$checkbox","ctrlKey","which","$option","dropdown","select","join","sqlQuery","$inputField","datetimeValue","showMillisec","showMicrosec","timeFormat","firstDay","firstDayOfCalendar","preventDefault","stopPropagation","off","datepickerDiv","children","postEditedCell","relationFields","relationalDisplay","transformFields","transformationFields","fullSqlQuery","relFieldsList","transformFieldsList","fullWhereClause","isUnique","multiEditFieldsName","multiEditFieldsType","multiEditFields","multiEditFieldsNull","alert","$tr","push","conditionArrayContent","conditionArray","JSON","parse","fieldsName","fieldsType","fields","fieldsNull","thisFieldParams","JSONString","urlEncode","fieldStr","newClause","stringify","param","encodeURIComponent","ajax","type","url","move","message","$whereClause","oldClause","decodedOldClause","decodedNewClause","removeAttr","checkboxName","checkboxValue","sql_query","$resultQuery","parseHTML","sqlOuter","wrap","tools","not","last","remove","$existingQuery","done","saveEditedCell","$testElement","needToPost","map","match","hexError","Messages","strEnterValidHex","isValueUpdated","saved","initColResize","cb","gDiv","prepend","initColReorder","strColOrderHint","$colOrder","split","Tooltip","getOrCreateInstance","title","setContent","res","strCopyColumnSuccess","strCopyColumnFailure","initColVisib","strShowAllCol","$colVisib","colVisibTh","querySelectorAll","$colVisibTh","slice","forEach","tableHeader","strColVisibHint","cd","style","display","innerHTML","$listDiv","tempClick","currHeader","listElmt","showAll","cloneNode","thFirst","moveUp","found","$prevRow","newCell","moveDown","$nextRow","nextRowFound","moveLeft","$foundRow","leftCell","cellFound","moveRight","rightCell","nextCellFound","initGridEdit","startGridEditing","handleCtrlNavigation","altKey","strCellEditHint","strSaveCellWarning","strAlertNonUnique","strGoToLink","target","$link","clicks","timer","setTimeout","requestHandler","call","clearTimeout","shiftKey","closest","editRowAnchor","dataset","gridEditConfig","querySelector","initCellSelection","isSelectingCells","startSelectCell","preEndSelectCell","endSelectCell","selectedColumns","Set","selectedRows","renderedSelectedCells","colspan","selectingClass","keyboardEventTimestamp","isPartiallyHidden","el","rect","getBoundingClientRect","vW","innerWidth","vH","innerHeight","bottom","points","y","p","topEl","elementFromPoint","contains","scrollDuringSelection","$end","$preEnd","isHeader","endIdx","endRowIdx","preIdx","preRowIdx","direction","scrollIntoView","block","inline","behavior","extra","dw","offsetWidth","dh","offsetHeight","offsets","up","down","scrollX","scrollY","scrollBy","renderCellSelection","clear","concat","size","rowIndex","columns","updateCellSelection","key","has","delete","selectCell","resetCellSelection","activeElement","metaKey","code","getSelection","removeAllRanges","Date","now","allowedSelectorToSelect","lookupNextCell","ArrowUp","rowElement","nextElement","prev","ArrowDown","next","ArrowLeft","ArrowRight","Object","keys","includes","nextCell","isMultiselect","colIndex","startColIndex","startRowIndex","minCol","Math","min","maxCol","max","minRow","maxRow","r","c","selectionText","headers","childNodes","nodeValue","trim","rows","rowCells","ev","originalEvent","clipboardData","setData","filter","wrapInner","strOriginalLength","strSortHint","strColMarkHint","strColNameCopyHint","$commonHiddenInputs"],"sourceRoot":""}