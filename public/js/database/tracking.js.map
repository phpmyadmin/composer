{"version":3,"file":"database/tracking.js","mappings":"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","sources":["webpack://phpmyadmin/./resources/js/database/tracking.ts","webpack://phpmyadmin/external var \"jQuery\""],"sourcesContent":["import $ from 'jquery';\nimport { AJAX } from '../modules/ajax.ts';\nimport { CommonParams } from '../modules/common.ts';\nimport { ajaxShowMessage } from '../modules/ajax-message.ts';\nimport getJsConfirmCommonParam from '../modules/functions/getJsConfirmCommonParam.ts';\n/**\n * Unbind all event handlers before tearing down the page\n */\nAJAX.registerTeardown('database/tracking.js', function () {\n    $('body').off('click', '#trackedForm.ajax button[name=\"submit_mult\"], #trackedForm.ajax input[name=\"submit_mult\"]');\n    $('body').off('click', '#untrackedForm.ajax button[name=\"submit_mult\"], #untrackedForm.ajax input[name=\"submit_mult\"]');\n    $('body').off('click', 'a.delete_tracking_anchor.ajax');\n});\n/**\n * Bind event handlers\n */\nAJAX.registerOnload('database/tracking.js', function () {\n    const $versions = $('#versions');\n    $versions.find('tr').first().find('th').append($('<div class=\"sorticon\"></div>'));\n    $versions.tablesorter({\n        sortList: [[1, 0]],\n        headers: {\n            0: { sorter: false },\n            2: { sorter: 'integer' },\n            5: { sorter: false },\n            6: { sorter: false },\n            7: { sorter: false }\n        }\n    });\n    const $noVersions = $('#noversions');\n    $noVersions.find('tr').first().find('th').append($('<div class=\"sorticon\"></div>'));\n    $noVersions.tablesorter({\n        sortList: [[1, 0]],\n        headers: {\n            0: { sorter: false },\n            2: { sorter: false }\n        }\n    });\n    const $body = $('body');\n    /**\n     * Handles multi submit for tracked tables\n     */\n    $body.on('click', '#trackedForm.ajax button[name=\"submit_mult\"], #trackedForm.ajax input[name=\"submit_mult\"]', function (e) {\n        e.preventDefault();\n        const $button = $(this);\n        const $form = $button.parent('form');\n        const argsep = CommonParams.get('arg_separator');\n        const submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true' + argsep + 'submit_mult=' + $button.val();\n        if ($button.val() === 'delete_tracking') {\n            const question = window.Messages.strDeleteTrackingDataMultiple;\n            $button.confirm(question, $form.attr('action'), function (url) {\n                ajaxShowMessage(window.Messages.strDeletingTrackingData);\n                AJAX.source = $form;\n                $.post(url, submitData, AJAX.responseHandler);\n            });\n        }\n        else {\n            ajaxShowMessage();\n            AJAX.source = $form;\n            $.post($form.attr('action'), submitData, AJAX.responseHandler);\n        }\n    });\n    /**\n     * Handles multi submit for untracked tables\n     */\n    $body.on('click', '#untrackedForm.ajax button[name=\"submit_mult\"], #untrackedForm.ajax input[name=\"submit_mult\"]', function (e) {\n        e.preventDefault();\n        const $button = $(this);\n        const $form = $button.parent('form');\n        const argsep = CommonParams.get('arg_separator');\n        const submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true' + argsep + 'submit_mult=' + $button.val();\n        ajaxShowMessage();\n        AJAX.source = $form;\n        $.post($form.attr('action'), submitData, AJAX.responseHandler);\n    });\n    /**\n     * Ajax Event handler for 'Delete tracking'\n     */\n    $body.on('click', 'a.delete_tracking_anchor.ajax', function (e) {\n        e.preventDefault();\n        const $anchor = $(this);\n        const question = window.Messages.strDeleteTrackingData;\n        $anchor.confirm(question, $anchor.attr('href'), function (url) {\n            ajaxShowMessage(window.Messages.strDeletingTrackingData);\n            AJAX.source = $anchor;\n            const argSep = CommonParams.get('arg_separator');\n            let params = getJsConfirmCommonParam(this, $anchor.getPostData());\n            params += argSep + 'ajax_page_request=1';\n            $.post(url, params, AJAX.responseHandler);\n        });\n    });\n});\n","module.exports = jQuery;"],"names":["$","AJAX","CommonParams","ajaxShowMessage","getJsConfirmCommonParam","registerTeardown","off","registerOnload","$versions","find","first","append","tablesorter","sortList","headers","sorter","$noVersions","$body","on","e","preventDefault","$button","$form","parent","argsep","get","submitData","serialize","val","question","window","Messages","strDeleteTrackingDataMultiple","confirm","attr","url","strDeletingTrackingData","source","post","responseHandler","$anchor","strDeleteTrackingData","argSep","params","getPostData"],"sourceRoot":""}