{"version":3,"file":"table/chart.js","mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACO,MAAMA,UAAU,GAAG;EACtBC,MAAM,EAAE,QAAQ;EAChBC,MAAM,EAAE,QAAQ;EAChBC,OAAO,EAAE,SAAS;EAClBC,IAAI,EAAE;AACV,CAAC;AACD;AACA;AACA;AACO,MAAMC,SAAS,GAAG,SAAAA,CAAA,EAAY;EACjC,MAAMC,OAAO,GAAG,EAAE;EAClB,IAAIC,IAAI,GAAG,IAAI;EACf,IAAI,CAACC,SAAS,GAAG,UAAUC,IAAI,EAAEC,IAAI,EAAE;IACnCJ,OAAO,CAACK,IAAI,CAAC;MACT,MAAM,EAAEF,IAAI;MACZ,MAAM,EAAEC;IACZ,CAAC,CAAC;EACN,CAAC;EACD,IAAI,CAACE,UAAU,GAAG,YAAY;IAC1B,OAAON,OAAO;EAClB,CAAC;EACD,IAAI,CAACO,OAAO,GAAG,UAAUC,IAAI,EAAE;IAC3BP,IAAI,GAAGO,IAAI;IACXC,iBAAiB,CAAC,CAAC;EACvB,CAAC;EACD,IAAI,CAACC,OAAO,GAAG,YAAY;IACvB,OAAOT,IAAI;EACf,CAAC;EACD,MAAMQ,iBAAiB,GAAG,SAAAA,CAAA,EAAY;IAClC,IAAIT,OAAO,CAACW,MAAM,KAAK,CAAC,EAAE;MACtB,MAAM,IAAIC,KAAK,CAAC,mBAAmB,CAAC;IACxC;IACA,IAAIC,GAAG;IACP,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGb,IAAI,CAACU,MAAM,EAAEG,CAAC,EAAE,EAAE;MAClCD,GAAG,GAAGZ,IAAI,CAACa,CAAC,CAAC;MACb,IAAID,GAAG,CAACF,MAAM,GAAGX,OAAO,CAACW,MAAM,EAAE;QAC7BE,GAAG,CAACE,MAAM,CAACf,OAAO,CAACW,MAAM,GAAG,CAAC,EAAEE,GAAG,CAACF,MAAM,GAAGX,OAAO,CAACW,MAAM,CAAC;MAC/D,CAAC,MACI,IAAIE,GAAG,CAACF,MAAM,GAAGX,OAAO,CAACW,MAAM,EAAE;QAClC,KAAK,IAAIK,CAAC,GAAGH,GAAG,CAACF,MAAM,EAAEK,CAAC,GAAGhB,OAAO,CAACW,MAAM,EAAEK,CAAC,EAAE,EAAE;UAC9CH,GAAG,CAACR,IAAI,CAAC,IAAI,CAAC;QAClB;MACJ;IACJ;EACJ,CAAC;AACL,CAAC,C;;;;;;;;;;;;;;;AChDsB;AACmB;AACqC;AACC;AACpB;AACA;AAC5D,IAAImB,SAAS,GAAG,CAAC,CAAC;AAClB,IAAIC,cAAc;AAClB,IAAIC,YAAY,GAAG,IAAI;AACvB,IAAIC,eAAe,GAAG,IAAI;AAC1B,IAAIC,YAAY,GAAG,EAAE;AACrB,IAAIC,WAAW,GAAG,EAAE;AACpB,SAASC,WAAWA,CAACC,UAAU,EAAE;EAC7B,IAAIC,OAAO;EACX,IAAIC,KAAK;EACT,IAAIC,cAAc,GAAG,uDAAuD;EAC5E,IAAIC,UAAU,GAAG,4BAA4B;EAC7CH,OAAO,GAAGE,cAAc,CAACE,IAAI,CAACL,UAAU,CAAC;EACzC,IAAIC,OAAO,KAAK,IAAI,IAAIA,OAAO,CAACrB,MAAM,GAAG,CAAC,EAAE;IACxCsB,KAAK,GAAGD,OAAO,CAAC,CAAC,CAAC;IAClB,OAAO,IAAIK,IAAI,CAACJ,KAAK,CAACK,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAEC,QAAQ,CAACN,KAAK,CAACK,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,EAAEL,KAAK,CAACK,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,EAAEL,KAAK,CAACK,SAAS,CAAC,EAAE,EAAE,EAAE,CAAC,EAAEL,KAAK,CAACK,SAAS,CAAC,EAAE,EAAE,EAAE,CAAC,EAAEL,KAAK,CAACK,SAAS,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;EACtL,CAAC,MACI;IACDN,OAAO,GAAGG,UAAU,CAACC,IAAI,CAACL,UAAU,CAAC;IACrC,IAAIC,OAAO,KAAK,IAAI,IAAIA,OAAO,CAACrB,MAAM,GAAG,CAAC,EAAE;MACxCsB,KAAK,GAAGD,OAAO,CAAC,CAAC,CAAC;MAClB,OAAO,IAAIK,IAAI,CAACJ,KAAK,CAACK,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAEC,QAAQ,CAACN,KAAK,CAACK,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,EAAEL,KAAK,CAACK,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;IAC3G;EACJ;EACA,OAAO,IAAI;AACf;AACA,SAASE,UAAUA,CAACvC,IAAI,EAAEwC,WAAW,EAAEC,QAAQ,EAAE;EAC7C,MAAMC,gBAAgB,GAAGC,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC;EACpE,IAAI,CAACF,gBAAgB,EAAE;IACnB,OAAO,IAAI;EACf;EACA,IAAIG,YAAY,GAAG;IACfC,KAAK,EAAE;MACHC,IAAI,EAAEN,QAAQ,CAACK,KAAK;MACpBxB,UAAU,EAAE;IAChB,CAAC;IACD0B,IAAI,EAAE;MACFC,UAAU,EAAE,KAAK;MACjBC,MAAM,EAAE,KAAK;MACbC,UAAU,EAAE;IAChB,CAAC;IACDC,MAAM,EAAE;MACJC,IAAI,EAAE,IAAI;MACVC,SAAS,EAAE,aAAa;MACxBC,QAAQ,EAAE,GAAG;MACbC,eAAe,EAAE;QACbC,aAAa,EAAE;MACnB;IACJ,CAAC;IACDC,IAAI,EAAE;MACFC,KAAK,EAAE;QACHC,KAAK,EAAEtC,wEAAU,CAACmB,QAAQ,CAACoB,UAAU;MACzC,CAAC;MACDC,KAAK,EAAE;QACHF,KAAK,EAAEnB,QAAQ,CAACsB;MACpB;IACJ,CAAC;IACDC,WAAW,EAAEvB,QAAQ,CAACuB;EAC1B,CAAC;EACD;EACA,MAAMC,SAAS,GAAG,IAAInE,wDAAS,CAAC,CAAC;EACjC,IAAI2C,QAAQ,CAACvC,IAAI,KAAK,UAAU,EAAE;IAC9B+D,SAAS,CAAChE,SAAS,CAACR,yDAAU,CAACI,IAAI,EAAE2C,WAAW,CAACC,QAAQ,CAACyB,QAAQ,CAAC,CAAC;EACxE,CAAC,MACI,IAAIzB,QAAQ,CAACvC,IAAI,KAAK,SAAS,EAAE;IAClC+D,SAAS,CAAChE,SAAS,CAACR,yDAAU,CAACE,MAAM,EAAE6C,WAAW,CAACC,QAAQ,CAACyB,QAAQ,CAAC,CAAC;EAC1E,CAAC,MACI;IACDD,SAAS,CAAChE,SAAS,CAACR,yDAAU,CAACC,MAAM,EAAE8C,WAAW,CAACC,QAAQ,CAACyB,QAAQ,CAAC,CAAC;EAC1E;EACA,IAAIrD,CAAC;EACL,IAAIsD,MAAM,GAAG,EAAE;EACf,IAAI1B,QAAQ,CAAC2B,YAAY,KAAK,IAAI,EAAE;IAChCpD,kDAAM,CAACyB,QAAQ,CAAC6B,cAAc,EAAE,UAAUC,KAAK,EAAEC,OAAO,EAAE;MACtDP,SAAS,CAAChE,SAAS,CAACR,yDAAU,CAACE,MAAM,EAAE6C,WAAW,CAACgC,OAAO,CAAC,CAAC;IAChE,CAAC,CAAC;IACF;IACA,IAAIC,gBAAgB,GAAG,CAAChC,QAAQ,CAACyB,QAAQ,CAAC;IAC1ClD,kDAAM,CAACyB,QAAQ,CAAC6B,cAAc,EAAE,UAAUC,KAAK,EAAEC,OAAO,EAAE;MACtDC,gBAAgB,CAACrE,IAAI,CAACoE,OAAO,CAAC;IAClC,CAAC,CAAC;IACF,IAAIE,MAAM;IACV,IAAI9D,GAAG;IACP,IAAI+D,GAAG;IACP,KAAK9D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGb,IAAI,CAACU,MAAM,EAAEG,CAAC,EAAE,EAAE;MAC9BD,GAAG,GAAGZ,IAAI,CAACa,CAAC,CAAC;MACb6D,MAAM,GAAG,EAAE;MACX,KAAK,IAAI3D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0D,gBAAgB,CAAC/D,MAAM,EAAEK,CAAC,EAAE,EAAE;QAC9C4D,GAAG,GAAGnC,WAAW,CAACiC,gBAAgB,CAAC1D,CAAC,CAAC,CAAC;QACtC,IAAIA,CAAC,KAAK,CAAC,EAAE;UACT,IAAI0B,QAAQ,CAACvC,IAAI,KAAK,UAAU,EAAE;YAAE;YAChCwE,MAAM,CAACtE,IAAI,CAACyB,WAAW,CAACjB,GAAG,CAAC+D,GAAG,CAAC,CAAC,CAAC;UACtC,CAAC,MACI,IAAIlC,QAAQ,CAACvC,IAAI,KAAK,SAAS,EAAE;YAClCwE,MAAM,CAACtE,IAAI,CAACwE,UAAU,CAAChE,GAAG,CAAC+D,GAAG,CAAC,CAAC,CAAC;UACrC,CAAC,MACI;YAAE;YACHD,MAAM,CAACtE,IAAI,CAACQ,GAAG,CAAC+D,GAAG,CAAC,CAAC;UACzB;QACJ,CAAC,MACI;UAAE;UACHD,MAAM,CAACtE,IAAI,CAACwE,UAAU,CAAChE,GAAG,CAAC+D,GAAG,CAAC,CAAC,CAAC;QACrC;MACJ;MACAR,MAAM,CAAC/D,IAAI,CAACsE,MAAM,CAAC;IACvB;IACAT,SAAS,CAAC3D,OAAO,CAAC6D,MAAM,CAAC;EAC7B,CAAC,MACI;IACD,IAAIU,WAAW,GAAG,CAAC,CAAC;IACpB,IAAIC,YAAY,GAAG,CAAC;IACpB,IAAIC,gBAAgB,GAAGvC,WAAW,CAACC,QAAQ,CAAC2B,YAAY,CAAC;IACzD,KAAKvD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGb,IAAI,CAACU,MAAM,EAAEG,CAAC,EAAE,EAAE;MAC9B,IAAI,CAACgE,WAAW,CAAC7E,IAAI,CAACa,CAAC,CAAC,CAACkE,gBAAgB,CAAC,CAAC,EAAE;QACzCF,WAAW,CAAC7E,IAAI,CAACa,CAAC,CAAC,CAACkE,gBAAgB,CAAC,CAAC,GAAGD,YAAY;QACrDA,YAAY,EAAE;MAClB;IACJ;IACA9D,kDAAM,CAAC6D,WAAW,EAAE,UAAUG,UAAU,EAAE;MACtCf,SAAS,CAAChE,SAAS,CAACR,yDAAU,CAACE,MAAM,EAAEqF,UAAU,CAAC;IACtD,CAAC,CAAC;IACF,IAAIC,QAAQ,GAAG,CAAC,CAAC;IACjB,IAAIC,MAAM;IACV,IAAIC,KAAK;IACT,IAAIC,YAAY,GAAG5C,WAAW,CAACC,QAAQ,CAACyB,QAAQ,CAAC;IACjD,IAAImB,eAAe,GAAG7C,WAAW,CAACC,QAAQ,CAAC6C,WAAW,CAAC;IACvD,KAAKzE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGb,IAAI,CAACU,MAAM,EAAEG,CAAC,EAAE,EAAE;MAC9BqE,MAAM,GAAGlF,IAAI,CAACa,CAAC,CAAC,CAACuE,YAAY,CAAC;MAC9BD,KAAK,GAAGF,QAAQ,CAACC,MAAM,CAAC;MACxB,IAAI,CAACC,KAAK,EAAE;QACRA,KAAK,GAAG,CAACD,MAAM,CAAC;QAChBD,QAAQ,CAACC,MAAM,CAAC,GAAGC,KAAK;MAC5B;MACAL,YAAY,GAAGD,WAAW,CAAC7E,IAAI,CAACa,CAAC,CAAC,CAACkE,gBAAgB,CAAC,CAAC;MACrDI,KAAK,CAACL,YAAY,CAAC,GAAGF,UAAU,CAAC5E,IAAI,CAACa,CAAC,CAAC,CAACwE,eAAe,CAAC,CAAC;IAC9D;IACArE,kDAAM,CAACiE,QAAQ,EAAE,UAAUV,KAAK,EAAEY,KAAK,EAAE;MACrChB,MAAM,CAAC/D,IAAI,CAAC+E,KAAK,CAAC;IACtB,CAAC,CAAC;IACFlB,SAAS,CAAC3D,OAAO,CAAC6D,MAAM,CAAC;EAC7B;EACA,IAAIoB,SAAS,GAAG9C,QAAQ,CAACvC,IAAI;EAC7B,IAAIqF,SAAS,KAAK,QAAQ,IAAIA,SAAS,KAAK,UAAU,IAAIA,SAAS,KAAK,MAAM,EAAE;IAC5EA,SAAS,GAAG,MAAM;EACtB,CAAC,MACI,IAAIA,SAAS,KAAK,QAAQ,EAAE;IAC7BA,SAAS,GAAG,KAAK;EACrB;EACA,MAAMhE,SAAS,GAAG0C,SAAS,CAACxD,OAAO,CAAC,CAAC;EACrC,MAAM+E,YAAY,GAAGvB,SAAS,CAAC5D,UAAU,CAAC,CAAC;EAC3C,MAAMoF,MAAM,GAAGlE,SAAS,CAACmE,GAAG,CAAC9E,GAAG,IAAIA,GAAG,CAAC,CAAC,CAAC,CAAC;EAC3C,MAAM+E,QAAQ,GAAG,EAAE;EACnB,KAAK,IAAI9E,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2E,YAAY,CAAC9E,MAAM,EAAEG,CAAC,EAAE,EAAE;IAC1C,MAAMb,IAAI,GAAGuB,SAAS,CAACmE,GAAG,CAAC,UAAU9E,GAAG,EAAE;MACtC,IAAI6B,QAAQ,CAACvC,IAAI,KAAK,SAAS,EAAE;QAC7B,OAAO;UAAE0F,CAAC,EAAEhF,GAAG,CAAC,CAAC,CAAC;UAAEiF,CAAC,EAAEjF,GAAG,CAACC,CAAC;QAAE,CAAC;MACnC;MACA,OAAOD,GAAG,CAACC,CAAC,CAAC;IACjB,CAAC,CAAC;IACF,MAAMiF,OAAO,GAAG;MAAElC,KAAK,EAAE4B,YAAY,CAAC3E,CAAC,CAAC,CAACV,IAAI;MAAEH,IAAI,EAAEA;IAAK,CAAC;IAC3D,IAAIyC,QAAQ,CAACvC,IAAI,KAAK,MAAM,EAAE;MAC1B4F,OAAO,CAACC,IAAI,GAAG,OAAO;IAC1B;IACAJ,QAAQ,CAACvF,IAAI,CAAC0F,OAAO,CAAC;EAC1B;EACA,MAAME,YAAY,GAAG;IACjB9F,IAAI,EAAEqF,SAAS;IACfvF,IAAI,EAAE;MAAEyF,MAAM,EAAEA,MAAM;MAAEE,QAAQ,EAAEA;IAAS,CAAC;IAC5CM,OAAO,EAAE;MACLC,SAAS,EAAE,KAAK;MAChBC,OAAO,EAAE;QACL/C,MAAM,EAAE;UAAEgD,QAAQ,EAAE;QAAQ,CAAC;QAC7BtD,KAAK,EAAE;UAAEuD,OAAO,EAAExD,YAAY,CAACC,KAAK,CAACC,IAAI,KAAK,EAAE;UAAEA,IAAI,EAAEF,YAAY,CAACC,KAAK,CAACC;QAAK;MACpF,CAAC;MACDuD,SAAS,EAAE7D,QAAQ,CAACvC,IAAI,KAAK,KAAK,GAAG,GAAG,GAAG,GAAG;MAC9CqG,MAAM,EAAE;QACJX,CAAC,EAAE;UACCS,OAAO,EAAE,IAAI;UACbvD,KAAK,EAAE;YAAEuD,OAAO,EAAExD,YAAY,CAACa,IAAI,CAACC,KAAK,CAACC,KAAK,KAAK,EAAE;YAAEb,IAAI,EAAEF,YAAY,CAACa,IAAI,CAACC,KAAK,CAACC;UAAM,CAAC;UAC7F4C,OAAO,EAAE3D,YAAY,CAACmB;QAC1B,CAAC;QACD6B,CAAC,EAAE;UACCQ,OAAO,EAAE,IAAI;UACbvD,KAAK,EAAE;YAAEuD,OAAO,EAAExD,YAAY,CAACa,IAAI,CAACI,KAAK,CAACF,KAAK,KAAK,EAAE;YAAEb,IAAI,EAAEF,YAAY,CAACa,IAAI,CAACI,KAAK,CAACF;UAAM,CAAC;UAC7F4C,OAAO,EAAE3D,YAAY,CAACmB;QAC1B;MACJ;IACJ;EACJ,CAAC;EACD,IAAIvB,QAAQ,CAACvC,IAAI,KAAK,UAAU,EAAE;IAC9B;IACA8F,YAAY,CAACC,OAAO,CAACM,MAAM,CAACX,CAAC,CAAC1F,IAAI,GAAG,MAAM;EAC/C;EACA;EACA,IAAIqC,UAAU,GAAGkE,MAAM,CAACC,KAAK,CAACC,QAAQ,CAAC,kBAAkB,CAAC;EAC1D,IAAIpE,UAAU,EAAE;IACZA,UAAU,CAACqE,OAAO,CAAC,CAAC;EACxB;EACA;EACArE,UAAU,GAAG,IAAIkE,MAAM,CAACC,KAAK,CAAChE,gBAAgB,EAAEsD,YAAY,CAAC;EAC7D,IAAIvD,QAAQ,CAACvC,IAAI,KAAK,QAAQ,EAAE;IAC5BqC,UAAU,CAAC0D,OAAO,CAACY,QAAQ,CAACC,IAAI,CAACC,OAAO,GAAG,GAAG;IAC9CxE,UAAU,CAACyE,MAAM,CAAC,MAAM,CAAC;EAC7B;EACA,OAAOzE,UAAU;AACrB;AACA,SAAS0E,SAASA,CAAA,EAAG;EACjBvF,eAAe,CAACwF,KAAK,GAAGlG,6CAAC,CAAC,UAAU,CAAC,CAACkG,KAAK,CAAC,CAAC,GAAG,EAAE;EAClDxF,eAAe,CAACyF,MAAM,GAAGnG,6CAAC,CAAC,UAAU,CAAC,CAACmG,MAAM,CAAC,CAAC,GAAG,EAAE;EACpD;EACA,IAAI1F,YAAY,KAAK,IAAI,EAAE;IACvBA,YAAY,CAACmF,OAAO,CAAC,CAAC;EAC1B;EACA,IAAIpE,WAAW,GAAG,EAAE;EACpBxB,6CAAC,CAAC,0BAA0B,CAAC,CAACqD,IAAI,CAAC,YAAY;IAC3C7B,WAAW,CAACpC,IAAI,CAACkB,wEAAU,CAACN,6CAAC,CAAC,IAAI,CAAC,CAAC+B,IAAI,CAAC,CAAC,CAAC,CAAC;EAChD,CAAC,CAAC;EACF,IAAI;IACAtB,YAAY,GAAGc,UAAU,CAAChB,SAAS,EAAEiB,WAAW,EAAEd,eAAe,CAAC;IAClE,IAAID,YAAY,KAAK,IAAI,EAAE;MACvBT,6CAAC,CAAC,YAAY,CAAC,CAACoG,IAAI,CAAC,MAAM,EAAE3F,YAAY,CAAC4F,aAAa,CAAC,CAAC,CAAC;IAC9D;EACJ,CAAC,CACD,OAAOC,GAAG,EAAE;IACRjG,yEAAe,CAACiG,GAAG,CAACC,OAAO,EAAE,KAAK,CAAC;EACvC;AACJ;AACA,SAASC,iBAAiBA,CAAA,EAAG;EACzB,IAAIC,GAAG,GAAGzG,6CAAC,CAAC,oBAAoB,CAAC,CAACyG,GAAG,CAAC,CAAC,IAAI,EAAE;EAC7C,IAAIC,GAAG,GAAG,EAAE;EACZ1G,kDAAM,CAACyG,GAAG,EAAE,UAAU5G,CAAC,EAAE8G,CAAC,EAAE;IACxBD,GAAG,CAACtH,IAAI,CAACkC,QAAQ,CAACqF,CAAC,EAAE,EAAE,CAAC,CAAC;EAC7B,CAAC,CAAC;EACF,OAAOD,GAAG;AACd;AACA,SAASE,aAAaA,CAAA,EAAG;EACrB,IAAIC,YAAY,GAAG7G,6CAAC,CAAC,mBAAmB,CAAC;EACzCU,eAAe,CAACwC,QAAQ,GAAG5B,QAAQ,CAACuF,YAAY,CAACJ,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;EAC3D,IAAI9F,YAAY,CAACmG,OAAO,CAACpG,eAAe,CAACwC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;IACvDvB,QAAQ,CAACC,cAAc,CAAC,mBAAmB,CAAC,CAACmF,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;EAC3E,CAAC,MACI;IACDrF,QAAQ,CAACC,cAAc,CAAC,mBAAmB,CAAC,CAACmF,SAAS,CAACE,GAAG,CAAC,QAAQ,CAAC;IACpE,IAAIvG,eAAe,CAACxB,IAAI,KAAK,UAAU,EAAE;MACrCc,6CAAC,CAAC,qBAAqB,CAAC,CAACkH,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC;MAC9CxG,eAAe,CAACxB,IAAI,GAAG,MAAM;IACjC;EACJ;EACA,IAAI0B,WAAW,CAACkG,OAAO,CAACpG,eAAe,CAACwC,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;IACtDvB,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC,CAACmF,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;EAC1E,CAAC,MACI;IACDrF,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC,CAACmF,SAAS,CAACE,GAAG,CAAC,QAAQ,CAAC;IACnE,IAAIvG,eAAe,CAACxB,IAAI,KAAK,SAAS,EAAE;MACpCc,6CAAC,CAAC,qBAAqB,CAAC,CAACkH,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC;MAC9CxG,eAAe,CAACxB,IAAI,GAAG,MAAM;IACjC;EACJ;EACA,IAAIiI,UAAU,GAAGN,YAAY,CAACO,QAAQ,CAAC,iBAAiB,CAAC,CAACrF,IAAI,CAAC,CAAC;EAChE/B,6CAAC,CAAC,kBAAkB,CAAC,CAACyG,GAAG,CAACU,UAAU,CAAC;EACrCzG,eAAe,CAACmC,UAAU,GAAGsE,UAAU;AAC3C;AACA,SAASE,kBAAkBA,CAAA,EAAG;EAC1B,IAAIC,aAAa,GAAGtH,6CAAC,CAAC,oBAAoB,CAAC;EAC3CU,eAAe,CAAC4C,cAAc,GAAGkD,iBAAiB,CAAC,CAAC;EACpD,IAAIe,UAAU;EACd,IAAI7G,eAAe,CAAC4C,cAAc,CAAC5D,MAAM,KAAK,CAAC,EAAE;IAC7CiC,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,CAACmF,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;IAClEO,UAAU,GAAGD,aAAa,CAACF,QAAQ,CAAC,iBAAiB,CAAC,CAACrF,IAAI,CAAC,CAAC;EACjE,CAAC,MACI;IACDJ,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC,CAACmF,SAAS,CAACE,GAAG,CAAC,QAAQ,CAAC;IAC/D,IAAIvG,eAAe,CAACxB,IAAI,KAAK,KAAK,EAAE;MAChCc,6CAAC,CAAC,qBAAqB,CAAC,CAACkH,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC;MAC9CxG,eAAe,CAACxB,IAAI,GAAG,MAAM;IACjC;IACAqI,UAAU,GAAG9B,MAAM,CAAC+B,QAAQ,CAACC,UAAU;EAC3C;EACAzH,6CAAC,CAAC,kBAAkB,CAAC,CAACyG,GAAG,CAACc,UAAU,CAAC;EACrC7G,eAAe,CAACqC,UAAU,GAAGwE,UAAU;AAC3C;AACA;AACA;AACA;AACAtH,kDAAI,CAACyH,gBAAgB,CAAC,gBAAgB,EAAE,YAAY;EAChD1H,6CAAC,CAAC,yBAAyB,CAAC,CAAC2H,GAAG,CAAC,OAAO,CAAC;EACzC3H,6CAAC,CAAC,qBAAqB,CAAC,CAAC2H,GAAG,CAAC,OAAO,CAAC;EACrC3H,6CAAC,CAAC,uBAAuB,CAAC,CAAC2H,GAAG,CAAC,OAAO,CAAC;EACvC3H,6CAAC,CAAC,kBAAkB,CAAC,CAAC2H,GAAG,CAAC,OAAO,CAAC,CAACA,GAAG,CAAC,OAAO,CAAC,CAACA,GAAG,CAAC,MAAM,CAAC;EAC3D3H,6CAAC,CAAC,mBAAmB,CAAC,CAAC2H,GAAG,CAAC,QAAQ,CAAC;EACpC3H,6CAAC,CAAC,oBAAoB,CAAC,CAAC2H,GAAG,CAAC,QAAQ,CAAC;EACrC3H,6CAAC,CAAC,0BAA0B,CAAC,CAAC2H,GAAG,CAAC,QAAQ,CAAC;EAC3C3H,6CAAC,CAAC,yBAAyB,CAAC,CAAC2H,GAAG,CAAC,QAAQ,CAAC;EAC1C3H,6CAAC,CAAC,kBAAkB,CAAC,CAAC2H,GAAG,CAAC,OAAO,CAAC;EAClC3H,6CAAC,CAAC,kBAAkB,CAAC,CAAC2H,GAAG,CAAC,OAAO,CAAC;EAClC3H,6CAAC,CAAC,UAAU,CAAC,CAAC2H,GAAG,CAAC,YAAY,CAAC;EAC/B3H,6CAAC,CAAC,eAAe,CAAC,CAAC2H,GAAG,CAAC,QAAQ,CAAC;AACpC,CAAC,CAAC;AACF1H,kDAAI,CAAC2H,cAAc,CAAC,gBAAgB,EAAE,YAAY;EAC9C;EACA5H,6CAAC,CAAC,yBAAyB,CAAC,CAAC6H,EAAE,CAAC,OAAO,EAAE,YAAY;IACjD,IAAI3I,IAAI,GAAGwB,eAAe,CAACxB,IAAI,GAAGc,6CAAC,CAAC,IAAI,CAAC,CAACyG,GAAG,CAAC,CAAC;IAC/C,IAAIvH,IAAI,KAAK,KAAK,IAAIA,IAAI,KAAK,QAAQ,IAAIA,IAAI,KAAK,MAAM,EAAE;MACxDyC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACmF,SAAS,CAACC,MAAM,CAAC,QAAQ,CAAC;IACpE,CAAC,MACI;MACDhH,6CAAC,CAAC,qBAAqB,CAAC,CAACkH,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC;MAC/ClH,oDAAQ,CAAC,IAAI,EAAEU,eAAe,EAAE;QAAEsC,WAAW,EAAE;MAAM,CAAC,CAAC;MACvDrB,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACmF,SAAS,CAACE,GAAG,CAAC,QAAQ,CAAC;IACjE;IACAhB,SAAS,CAAC,CAAC;EACf,CAAC,CAAC;EACF;EACAjG,6CAAC,CAAC,uBAAuB,CAAC,CAAC6H,EAAE,CAAC,OAAO,EAAE,YAAY;IAC/C,IAAIE,aAAa,GAAG/H,6CAAC,CAAC,0BAA0B,CAAC;IACjD,IAAIgI,YAAY,GAAGhI,6CAAC,CAAC,yBAAyB,CAAC;IAC/C,IAAIiI,YAAY,GAAGjI,6CAAC,CAAC,oBAAoB,CAAC;IAC1C,IAAIA,6CAAC,CAAC,IAAI,CAAC,CAACkI,EAAE,CAAC,UAAU,CAAC,EAAE;MACxBH,aAAa,CAACb,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC;MACrCc,YAAY,CAACd,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC;MACpCe,YAAY,CAACf,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC;MACnCxG,eAAe,CAAC0C,YAAY,GAAG9B,QAAQ,CAACyG,aAAa,CAACtB,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;MAChE/F,eAAe,CAAC4D,WAAW,GAAGhD,QAAQ,CAAC0G,YAAY,CAACvB,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;IAClE,CAAC,MACI;MACDsB,aAAa,CAACb,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC;MACpCc,YAAY,CAACd,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC;MACnCe,YAAY,CAACf,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC;MACpCxG,eAAe,CAAC0C,YAAY,GAAG,IAAI;MACnC1C,eAAe,CAAC4D,WAAW,GAAG,IAAI;IACtC;IACA2B,SAAS,CAAC,CAAC;EACf,CAAC,CAAC;EACF;EACAjG,6CAAC,CAAC,qBAAqB,CAAC,CAAC6H,EAAE,CAAC,OAAO,EAAE,YAAY;IAC7C,IAAI7H,6CAAC,CAAC,IAAI,CAAC,CAACkI,EAAE,CAAC,UAAU,CAAC,EAAE;MACxBlI,oDAAQ,CAAC,IAAI,EAAEU,eAAe,EAAE;QAAEsC,WAAW,EAAE;MAAK,CAAC,CAAC;IAC1D,CAAC,MACI;MACDhD,oDAAQ,CAAC,IAAI,EAAEU,eAAe,EAAE;QAAEsC,WAAW,EAAE;MAAM,CAAC,CAAC;IAC3D;IACAiD,SAAS,CAAC,CAAC;EACf,CAAC,CAAC;EACF;EACAjG,6CAAC,CAAC,kBAAkB,CAAC,CAChB6H,EAAE,CAAC,OAAO,EAAE,YAAY;IACzBrH,cAAc,GAAGR,6CAAC,CAAC,IAAI,CAAC,CAACyG,GAAG,CAAC,CAAC;EAClC,CAAC,CAAC,CACGoB,EAAE,CAAC,OAAO,EAAE,YAAY;IACzBnH,eAAe,CAACoB,KAAK,GAAG9B,6CAAC,CAAC,kBAAkB,CAAC,CAACyG,GAAG,CAAC,CAAC;IACnDR,SAAS,CAAC,CAAC;EACf,CAAC,CAAC,CACG4B,EAAE,CAAC,MAAM,EAAE,YAAY;IACxB,IAAI7H,6CAAC,CAAC,IAAI,CAAC,CAACyG,GAAG,CAAC,CAAC,KAAKjG,cAAc,EAAE;MAClCyF,SAAS,CAAC,CAAC;IACf;EACJ,CAAC,CAAC;EACF;EACAjG,6CAAC,CAAC,mBAAmB,CAAC,CAAC6H,EAAE,CAAC,QAAQ,EAAE,YAAY;IAC5CjB,aAAa,CAAC,CAAC;IACfX,SAAS,CAAC,CAAC;EACf,CAAC,CAAC;EACF;EACAjG,6CAAC,CAAC,oBAAoB,CAAC,CAAC6H,EAAE,CAAC,QAAQ,EAAE,YAAY;IAC7CR,kBAAkB,CAAC,CAAC;IACpBpB,SAAS,CAAC,CAAC;EACf,CAAC,CAAC;EACF;EACAjG,6CAAC,CAAC,0BAA0B,CAAC,CAAC6H,EAAE,CAAC,QAAQ,EAAE,YAAY;IACnDnH,eAAe,CAAC0C,YAAY,GAAG9B,QAAQ,CAACtB,6CAAC,CAAC,IAAI,CAAC,CAACyG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;IAC1DR,SAAS,CAAC,CAAC;EACf,CAAC,CAAC;EACF;EACAjG,6CAAC,CAAC,yBAAyB,CAAC,CAAC6H,EAAE,CAAC,QAAQ,EAAE,YAAY;IAClDnH,eAAe,CAAC4D,WAAW,GAAGhD,QAAQ,CAACtB,6CAAC,CAAC,IAAI,CAAC,CAACyG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;IACzDR,SAAS,CAAC,CAAC;EACf,CAAC,CAAC;EACF;EACAjG,6CAAC,CAAC,kBAAkB,CAAC,CAAC6H,EAAE,CAAC,OAAO,EAAE,YAAY;IAC1CnH,eAAe,CAACmC,UAAU,GAAG7C,6CAAC,CAAC,IAAI,CAAC,CAACyG,GAAG,CAAC,CAAC;IAC1CR,SAAS,CAAC,CAAC;EACf,CAAC,CAAC;EACF;EACAjG,6CAAC,CAAC,kBAAkB,CAAC,CAAC6H,EAAE,CAAC,OAAO,EAAE,YAAY;IAC1CnH,eAAe,CAACqC,UAAU,GAAG/C,6CAAC,CAAC,IAAI,CAAC,CAACyG,GAAG,CAAC,CAAC;IAC1CR,SAAS,CAAC,CAAC;EACf,CAAC,CAAC;EACF;EACAjG,6CAAC,CAAC,eAAe,CAAC,CAAC6H,EAAE,CAAC,QAAQ,EAAE,YAAY;IACxC,IAAIM,KAAK,GAAGnI,6CAAC,CAAC,IAAI,CAAC;IACnB,IAAIyF,MAAM,CAAC2C,gBAAgB,EAAE;MACzB;MACAD,KAAK,CAAC,CAAC,CAAC,CAACtC,QAAQ,CAACwC,SAAS,CAAClE,KAAK,GAAGsB,MAAM,CAAC2C,gBAAgB,CAACE,QAAQ,CAAC,CAAC;IAC1E;IACA,IAAI,CAACpI,oEAAa,CAACiI,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;MAC1B,OAAO,KAAK;IAChB;IACA,IAAII,OAAO,GAAGlI,yEAAe,CAAC,CAAC;IAC/BF,4EAAqB,CAACgI,KAAK,CAAC;IAC5BnI,kDAAM,CAACmI,KAAK,CAAC/B,IAAI,CAAC,QAAQ,CAAC,EAAE+B,KAAK,CAACM,SAAS,CAAC,CAAC,EAAE,UAAUzJ,IAAI,EAAE;MAC5D,IAAI,OAAOA,IAAI,KAAK,WAAW,IAC3BA,IAAI,CAAC0J,OAAO,KAAK,IAAI,IACrB,OAAO1J,IAAI,CAACuB,SAAS,KAAK,WAAW,EAAE;QACvCA,SAAS,GAAGoI,IAAI,CAACC,KAAK,CAAC5J,IAAI,CAACuB,SAAS,CAAC;QACtC0F,SAAS,CAAC,CAAC;QACX7F,2EAAiB,CAACmI,OAAO,CAAC;MAC9B,CAAC,MACI;QACDlI,yEAAe,CAACrB,IAAI,CAAC6J,KAAK,EAAE,KAAK,CAAC;MACtC;IACJ,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;IACZ,OAAO,KAAK;EAChB,CAAC,CAAC;EACF;EACA7I,6CAAC,CAAC,UAAU,CAAC,CAAC8I,SAAS,CAAC;IACpBC,SAAS,EAAE,GAAG;IACdC,QAAQ,EAAE;EACd,CAAC,CAAC,CACG9C,KAAK,CAAClG,6CAAC,CAAC,mBAAmB,CAAC,CAACkG,KAAK,CAAC,CAAC,GAAG,EAAE,CAAC,CAC1C+C,OAAO,CAAC,YAAY,CAAC;EAC1BvI,eAAe,GAAG;IACdxB,IAAI,EAAE,MAAM;IACZgH,KAAK,EAAElG,6CAAC,CAAC,UAAU,CAAC,CAACkG,KAAK,CAAC,CAAC,GAAG,EAAE;IACjCC,MAAM,EAAEnG,6CAAC,CAAC,UAAU,CAAC,CAACmG,MAAM,CAAC,CAAC,GAAG,EAAE;IACnCtD,UAAU,EAAE7C,6CAAC,CAAC,kBAAkB,CAAC,CAACyG,GAAG,CAAC,CAAC;IACvC1D,UAAU,EAAE/C,6CAAC,CAAC,kBAAkB,CAAC,CAACyG,GAAG,CAAC,CAAC;IACvC3E,KAAK,EAAE9B,6CAAC,CAAC,kBAAkB,CAAC,CAACyG,GAAG,CAAC,CAAC;IAClCzD,WAAW,EAAE,KAAK;IAClBE,QAAQ,EAAE5B,QAAQ,CAACtB,6CAAC,CAAC,mBAAmB,CAAC,CAACyG,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC;IACpDnD,cAAc,EAAEkD,iBAAiB,CAAC,CAAC;IACnCpD,YAAY,EAAE;EAClB,CAAC;EACD,IAAI8F,IAAI,GAAGlJ,6CAAC,CAAC,4BAA4B,CAAC,CAACyG,GAAG,CAAC,CAAC,CAAC0C,KAAK,CAAC,GAAG,CAAC;EAC3DnJ,kDAAM,CAACkJ,IAAI,EAAE,UAAUrJ,CAAC,EAAE8G,CAAC,EAAE;IACzBhG,YAAY,CAACvB,IAAI,CAACkC,QAAQ,CAACqF,CAAC,EAAE,EAAE,CAAC,CAAC;EACtC,CAAC,CAAC;EACFuC,IAAI,GAAGlJ,6CAAC,CAAC,2BAA2B,CAAC,CAACyG,GAAG,CAAC,CAAC,CAAC0C,KAAK,CAAC,GAAG,CAAC;EACtDnJ,kDAAM,CAACkJ,IAAI,EAAE,UAAUrJ,CAAC,EAAE8G,CAAC,EAAE;IACzB/F,WAAW,CAACxB,IAAI,CAACkC,QAAQ,CAACqF,CAAC,EAAE,EAAE,CAAC,CAAC;EACrC,CAAC,CAAC;EACFC,aAAa,CAAC,CAAC;EACfS,kBAAkB,CAAC,CAAC;EACpBrH,6CAAC,CAAC,eAAe,CAAC,CAACiJ,OAAO,CAAC,QAAQ,CAAC;AACxC,CAAC,CAAC,C;;;;;;;AChcF,wB","sources":["webpack://phpmyadmin/./resources/js/modules/chart.ts","webpack://phpmyadmin/./resources/js/table/chart.ts","webpack://phpmyadmin/external var \"jQuery\""],"sourcesContent":["/**\n * Column type enumeration\n */\nexport const ColumnType = {\n    STRING: 'string',\n    NUMBER: 'number',\n    BOOLEAN: 'boolean',\n    DATE: 'date'\n};\n/**\n * The data table contains column information and data for the chart.\n */\nexport const DataTable = function () {\n    const columns = [];\n    let data = null;\n    this.addColumn = function (type, name) {\n        columns.push({\n            'type': type,\n            'name': name\n        });\n    };\n    this.getColumns = function () {\n        return columns;\n    };\n    this.setData = function (rows) {\n        data = rows;\n        fillMissingValues();\n    };\n    this.getData = function () {\n        return data;\n    };\n    const fillMissingValues = function () {\n        if (columns.length === 0) {\n            throw new Error('Set columns first');\n        }\n        let row;\n        for (let i = 0; i < data.length; i++) {\n            row = data[i];\n            if (row.length > columns.length) {\n                row.splice(columns.length - 1, row.length - columns.length);\n            }\n            else if (row.length < columns.length) {\n                for (let j = row.length; j < columns.length; j++) {\n                    row.push(null);\n                }\n            }\n        }\n    };\n};\n","import $ from 'jquery';\nimport { AJAX } from '../modules/ajax.ts';\nimport { checkSqlQuery, prepareForAjaxRequest } from '../modules/functions.ts';\nimport { ajaxRemoveMessage, ajaxShowMessage } from '../modules/ajax-message.ts';\nimport { escapeHtml } from '../modules/functions/escape.ts';\nimport { ColumnType, DataTable } from '../modules/chart.ts';\nvar chartData = {};\nvar tempChartTitle;\nvar currentChart = null;\nvar currentSettings = null;\nvar dateTimeCols = [];\nvar numericCols = [];\nfunction extractDate(dateString) {\n    var matches;\n    var match;\n    var dateTimeRegExp = /[0-9]{4}-[0-9]{2}-[0-9]{2} [0-9]{2}:[0-9]{2}:[0-9]{2}/;\n    var dateRegExp = /[0-9]{4}-[0-9]{2}-[0-9]{2}/;\n    matches = dateTimeRegExp.exec(dateString);\n    if (matches !== null && matches.length > 0) {\n        match = matches[0];\n        return new Date(match.substring(0, 4), parseInt(match.substring(5, 7), 10) - 1, match.substring(8, 10), match.substring(11, 13), match.substring(14, 16), match.substring(17, 19));\n    }\n    else {\n        matches = dateRegExp.exec(dateString);\n        if (matches !== null && matches.length > 0) {\n            match = matches[0];\n            return new Date(match.substring(0, 4), parseInt(match.substring(5, 7), 10) - 1, match.substring(8, 10));\n        }\n    }\n    return null;\n}\nfunction queryChart(data, columnNames, settings) {\n    const queryChartCanvas = document.getElementById('queryChartCanvas');\n    if (!queryChartCanvas) {\n        return null;\n    }\n    var plotSettings = {\n        title: {\n            text: settings.title,\n            escapeHtml: true\n        },\n        grid: {\n            drawBorder: false,\n            shadow: false,\n            background: 'rgba(0,0,0,0)'\n        },\n        legend: {\n            show: true,\n            placement: 'outsideGrid',\n            location: 'e',\n            rendererOptions: {\n                numberColumns: 2\n            }\n        },\n        axes: {\n            xaxis: {\n                label: escapeHtml(settings.xaxisLabel)\n            },\n            yaxis: {\n                label: settings.yaxisLabel\n            }\n        },\n        stackSeries: settings.stackSeries\n    };\n    // create the data table and add columns\n    const dataTable = new DataTable();\n    if (settings.type === 'timeline') {\n        dataTable.addColumn(ColumnType.DATE, columnNames[settings.mainAxis]);\n    }\n    else if (settings.type === 'scatter') {\n        dataTable.addColumn(ColumnType.NUMBER, columnNames[settings.mainAxis]);\n    }\n    else {\n        dataTable.addColumn(ColumnType.STRING, columnNames[settings.mainAxis]);\n    }\n    var i;\n    var values = [];\n    if (settings.seriesColumn === null) {\n        $.each(settings.selectedSeries, function (index, element) {\n            dataTable.addColumn(ColumnType.NUMBER, columnNames[element]);\n        });\n        // set data to the data table\n        var columnsToExtract = [settings.mainAxis];\n        $.each(settings.selectedSeries, function (index, element) {\n            columnsToExtract.push(element);\n        });\n        var newRow;\n        var row;\n        var col;\n        for (i = 0; i < data.length; i++) {\n            row = data[i];\n            newRow = [];\n            for (var j = 0; j < columnsToExtract.length; j++) {\n                col = columnNames[columnsToExtract[j]];\n                if (j === 0) {\n                    if (settings.type === 'timeline') { // first column is date type\n                        newRow.push(extractDate(row[col]));\n                    }\n                    else if (settings.type === 'scatter') {\n                        newRow.push(parseFloat(row[col]));\n                    }\n                    else { // first column is string type\n                        newRow.push(row[col]);\n                    }\n                }\n                else { // subsequent columns are of type, number\n                    newRow.push(parseFloat(row[col]));\n                }\n            }\n            values.push(newRow);\n        }\n        dataTable.setData(values);\n    }\n    else {\n        var seriesNames = {};\n        var seriesNumber = 1;\n        var seriesColumnName = columnNames[settings.seriesColumn];\n        for (i = 0; i < data.length; i++) {\n            if (!seriesNames[data[i][seriesColumnName]]) {\n                seriesNames[data[i][seriesColumnName]] = seriesNumber;\n                seriesNumber++;\n            }\n        }\n        $.each(seriesNames, function (seriesName) {\n            dataTable.addColumn(ColumnType.NUMBER, seriesName);\n        });\n        var valueMap = {};\n        var xValue;\n        var value;\n        var mainAxisName = columnNames[settings.mainAxis];\n        var valueColumnName = columnNames[settings.valueColumn];\n        for (i = 0; i < data.length; i++) {\n            xValue = data[i][mainAxisName];\n            value = valueMap[xValue];\n            if (!value) {\n                value = [xValue];\n                valueMap[xValue] = value;\n            }\n            seriesNumber = seriesNames[data[i][seriesColumnName]];\n            value[seriesNumber] = parseFloat(data[i][valueColumnName]);\n        }\n        $.each(valueMap, function (index, value) {\n            values.push(value);\n        });\n        dataTable.setData(values);\n    }\n    let chartType = settings.type;\n    if (chartType === 'spline' || chartType === 'timeline' || chartType === 'area') {\n        chartType = 'line';\n    }\n    else if (chartType === 'column') {\n        chartType = 'bar';\n    }\n    const chartData = dataTable.getData();\n    const chartColumns = dataTable.getColumns();\n    const labels = chartData.map(row => row[0]);\n    const datasets = [];\n    for (let i = 1; i < chartColumns.length; i++) {\n        const data = chartData.map(function (row) {\n            if (settings.type === 'scatter') {\n                return { x: row[0], y: row[i] };\n            }\n            return row[i];\n        });\n        const dataset = { label: chartColumns[i].name, data: data };\n        if (settings.type === 'area') {\n            dataset.fill = 'start';\n        }\n        datasets.push(dataset);\n    }\n    const chartOptions = {\n        type: chartType,\n        data: { labels: labels, datasets: datasets },\n        options: {\n            animation: false,\n            plugins: {\n                legend: { position: 'right' },\n                title: { display: plotSettings.title.text !== '', text: plotSettings.title.text }\n            },\n            indexAxis: settings.type === 'bar' ? 'y' : 'x',\n            scales: {\n                x: {\n                    display: true,\n                    title: { display: plotSettings.axes.xaxis.label !== '', text: plotSettings.axes.xaxis.label },\n                    stacked: plotSettings.stackSeries,\n                },\n                y: {\n                    display: true,\n                    title: { display: plotSettings.axes.yaxis.label !== '', text: plotSettings.axes.yaxis.label },\n                    stacked: plotSettings.stackSeries,\n                }\n            }\n        }\n    };\n    if (settings.type === 'timeline') {\n        // @ts-ignore\n        chartOptions.options.scales.x.type = 'time';\n    }\n    // @ts-ignore\n    let queryChart = window.Chart.getChart('queryChartCanvas');\n    if (queryChart) {\n        queryChart.destroy();\n    }\n    // @ts-ignore\n    queryChart = new window.Chart(queryChartCanvas, chartOptions);\n    if (settings.type === 'spline') {\n        queryChart.options.elements.line.tension = 0.4;\n        queryChart.update('none');\n    }\n    return queryChart;\n}\nfunction drawChart() {\n    currentSettings.width = $('#resizer').width() - 20;\n    currentSettings.height = $('#resizer').height() - 20;\n    // TODO: a better way using .redraw() ?\n    if (currentChart !== null) {\n        currentChart.destroy();\n    }\n    var columnNames = [];\n    $('#chartXAxisSelect option').each(function () {\n        columnNames.push(escapeHtml($(this).text()));\n    });\n    try {\n        currentChart = queryChart(chartData, columnNames, currentSettings);\n        if (currentChart !== null) {\n            $('#saveChart').attr('href', currentChart.toBase64Image());\n        }\n    }\n    catch (err) {\n        ajaxShowMessage(err.message, false);\n    }\n}\nfunction getSelectedSeries() {\n    var val = $('#chartSeriesSelect').val() || [];\n    var ret = [];\n    $.each(val, function (i, v) {\n        ret.push(parseInt(v, 10));\n    });\n    return ret;\n}\nfunction onXAxisChange() {\n    var $xAxisSelect = $('#chartXAxisSelect');\n    currentSettings.mainAxis = parseInt($xAxisSelect.val(), 10);\n    if (dateTimeCols.indexOf(currentSettings.mainAxis) !== -1) {\n        document.getElementById('timelineChartType').classList.remove('d-none');\n    }\n    else {\n        document.getElementById('timelineChartType').classList.add('d-none');\n        if (currentSettings.type === 'timeline') {\n            $('#lineChartTypeRadio').prop('checked', true);\n            currentSettings.type = 'line';\n        }\n    }\n    if (numericCols.indexOf(currentSettings.mainAxis) !== -1) {\n        document.getElementById('scatterChartType').classList.remove('d-none');\n    }\n    else {\n        document.getElementById('scatterChartType').classList.add('d-none');\n        if (currentSettings.type === 'scatter') {\n            $('#lineChartTypeRadio').prop('checked', true);\n            currentSettings.type = 'line';\n        }\n    }\n    var xAxisTitle = $xAxisSelect.children('option:selected').text();\n    $('#xAxisLabelInput').val(xAxisTitle);\n    currentSettings.xaxisLabel = xAxisTitle;\n}\nfunction onDataSeriesChange() {\n    var $seriesSelect = $('#chartSeriesSelect');\n    currentSettings.selectedSeries = getSelectedSeries();\n    var yAxisTitle;\n    if (currentSettings.selectedSeries.length === 1) {\n        document.getElementById('pieChartType').classList.remove('d-none');\n        yAxisTitle = $seriesSelect.children('option:selected').text();\n    }\n    else {\n        document.getElementById('pieChartType').classList.add('d-none');\n        if (currentSettings.type === 'pie') {\n            $('#lineChartTypeRadio').prop('checked', true);\n            currentSettings.type = 'line';\n        }\n        yAxisTitle = window.Messages.strYValues;\n    }\n    $('#yAxisLabelInput').val(yAxisTitle);\n    currentSettings.yaxisLabel = yAxisTitle;\n}\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('table/chart.js', function () {\n    $('input[name=\"chartType\"]').off('click');\n    $('#barStackedCheckbox').off('click');\n    $('#seriesColumnCheckbox').off('click');\n    $('#chartTitleInput').off('focus').off('keyup').off('blur');\n    $('#chartXAxisSelect').off('change');\n    $('#chartSeriesSelect').off('change');\n    $('#chartSeriesColumnSelect').off('change');\n    $('#chartValueColumnSelect').off('change');\n    $('#xAxisLabelInput').off('keyup');\n    $('#yAxisLabelInput').off('keyup');\n    $('#resizer').off('resizestop');\n    $('#tblchartform').off('submit');\n});\nAJAX.registerOnload('table/chart.js', function () {\n    // handle chart type changes\n    $('input[name=\"chartType\"]').on('click', function () {\n        var type = currentSettings.type = $(this).val();\n        if (type === 'bar' || type === 'column' || type === 'area') {\n            document.getElementById('barStacked').classList.remove('d-none');\n        }\n        else {\n            $('#barStackedCheckbox').prop('checked', false);\n            $.extend(true, currentSettings, { stackSeries: false });\n            document.getElementById('barStacked').classList.add('d-none');\n        }\n        drawChart();\n    });\n    // handle chosing alternative data format\n    $('#seriesColumnCheckbox').on('click', function () {\n        var $seriesColumn = $('#chartSeriesColumnSelect');\n        var $valueColumn = $('#chartValueColumnSelect');\n        var $chartSeries = $('#chartSeriesSelect');\n        if ($(this).is(':checked')) {\n            $seriesColumn.prop('disabled', false);\n            $valueColumn.prop('disabled', false);\n            $chartSeries.prop('disabled', true);\n            currentSettings.seriesColumn = parseInt($seriesColumn.val(), 10);\n            currentSettings.valueColumn = parseInt($valueColumn.val(), 10);\n        }\n        else {\n            $seriesColumn.prop('disabled', true);\n            $valueColumn.prop('disabled', true);\n            $chartSeries.prop('disabled', false);\n            currentSettings.seriesColumn = null;\n            currentSettings.valueColumn = null;\n        }\n        drawChart();\n    });\n    // handle stacking for bar, column and area charts\n    $('#barStackedCheckbox').on('click', function () {\n        if ($(this).is(':checked')) {\n            $.extend(true, currentSettings, { stackSeries: true });\n        }\n        else {\n            $.extend(true, currentSettings, { stackSeries: false });\n        }\n        drawChart();\n    });\n    // handle changes in chart title\n    $('#chartTitleInput')\n        .on('focus', function () {\n        tempChartTitle = $(this).val();\n    })\n        .on('keyup', function () {\n        currentSettings.title = $('#chartTitleInput').val();\n        drawChart();\n    })\n        .on('blur', function () {\n        if ($(this).val() !== tempChartTitle) {\n            drawChart();\n        }\n    });\n    // handle changing the x-axis\n    $('#chartXAxisSelect').on('change', function () {\n        onXAxisChange();\n        drawChart();\n    });\n    // handle changing the selected data series\n    $('#chartSeriesSelect').on('change', function () {\n        onDataSeriesChange();\n        drawChart();\n    });\n    // handle changing the series column\n    $('#chartSeriesColumnSelect').on('change', function () {\n        currentSettings.seriesColumn = parseInt($(this).val(), 10);\n        drawChart();\n    });\n    // handle changing the value column\n    $('#chartValueColumnSelect').on('change', function () {\n        currentSettings.valueColumn = parseInt($(this).val(), 10);\n        drawChart();\n    });\n    // handle manual changes to the chart x-axis labels\n    $('#xAxisLabelInput').on('keyup', function () {\n        currentSettings.xaxisLabel = $(this).val();\n        drawChart();\n    });\n    // handle manual changes to the chart y-axis labels\n    $('#yAxisLabelInput').on('keyup', function () {\n        currentSettings.yaxisLabel = $(this).val();\n        drawChart();\n    });\n    // handler for ajax form submission\n    $('#tblchartform').on('submit', function () {\n        var $form = $(this);\n        if (window.codeMirrorEditor) {\n            // @ts-ignore\n            $form[0].elements.sql_query.value = window.codeMirrorEditor.getValue();\n        }\n        if (!checkSqlQuery($form[0])) {\n            return false;\n        }\n        var $msgbox = ajaxShowMessage();\n        prepareForAjaxRequest($form);\n        $.post($form.attr('action'), $form.serialize(), function (data) {\n            if (typeof data !== 'undefined' &&\n                data.success === true &&\n                typeof data.chartData !== 'undefined') {\n                chartData = JSON.parse(data.chartData);\n                drawChart();\n                ajaxRemoveMessage($msgbox);\n            }\n            else {\n                ajaxShowMessage(data.error, false);\n            }\n        }, 'json'); // end $.post()\n        return false;\n    });\n    // from jQuery UI\n    $('#resizer').resizable({\n        minHeight: 240,\n        minWidth: 300\n    })\n        .width($('#div_view_options').width() - 50)\n        .trigger('resizestop');\n    currentSettings = {\n        type: 'line',\n        width: $('#resizer').width() - 20,\n        height: $('#resizer').height() - 20,\n        xaxisLabel: $('#xAxisLabelInput').val(),\n        yaxisLabel: $('#yAxisLabelInput').val(),\n        title: $('#chartTitleInput').val(),\n        stackSeries: false,\n        mainAxis: parseInt($('#chartXAxisSelect').val(), 10),\n        selectedSeries: getSelectedSeries(),\n        seriesColumn: null\n    };\n    var vals = $('input[name=\"dateTimeCols\"]').val().split(' ');\n    $.each(vals, function (i, v) {\n        dateTimeCols.push(parseInt(v, 10));\n    });\n    vals = $('input[name=\"numericCols\"]').val().split(' ');\n    $.each(vals, function (i, v) {\n        numericCols.push(parseInt(v, 10));\n    });\n    onXAxisChange();\n    onDataSeriesChange();\n    $('#tblchartform').trigger('submit');\n});\n","module.exports = jQuery;"],"names":["ColumnType","STRING","NUMBER","BOOLEAN","DATE","DataTable","columns","data","addColumn","type","name","push","getColumns","setData","rows","fillMissingValues","getData","length","Error","row","i","splice","j","$","AJAX","checkSqlQuery","prepareForAjaxRequest","ajaxRemoveMessage","ajaxShowMessage","escapeHtml","chartData","tempChartTitle","currentChart","currentSettings","dateTimeCols","numericCols","extractDate","dateString","matches","match","dateTimeRegExp","dateRegExp","exec","Date","substring","parseInt","queryChart","columnNames","settings","queryChartCanvas","document","getElementById","plotSettings","title","text","grid","drawBorder","shadow","background","legend","show","placement","location","rendererOptions","numberColumns","axes","xaxis","label","xaxisLabel","yaxis","yaxisLabel","stackSeries","dataTable","mainAxis","values","seriesColumn","each","selectedSeries","index","element","columnsToExtract","newRow","col","parseFloat","seriesNames","seriesNumber","seriesColumnName","seriesName","valueMap","xValue","value","mainAxisName","valueColumnName","valueColumn","chartType","chartColumns","labels","map","datasets","x","y","dataset","fill","chartOptions","options","animation","plugins","position","display","indexAxis","scales","stacked","window","Chart","getChart","destroy","elements","line","tension","update","drawChart","width","height","attr","toBase64Image","err","message","getSelectedSeries","val","ret","v","onXAxisChange","$xAxisSelect","indexOf","classList","remove","add","prop","xAxisTitle","children","onDataSeriesChange","$seriesSelect","yAxisTitle","Messages","strYValues","registerTeardown","off","registerOnload","on","extend","$seriesColumn","$valueColumn","$chartSeries","is","$form","codeMirrorEditor","sql_query","getValue","$msgbox","post","serialize","success","JSON","parse","error","resizable","minHeight","minWidth","trigger","vals","split"],"ignoreList":[],"sourceRoot":""}