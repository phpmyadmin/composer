{"version":3,"file":"table/operations.js","mappings":"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","sources":["webpack://phpmyadmin/./resources/js/table/operations.ts","webpack://phpmyadmin/external var \"jQuery\""],"sourcesContent":["import $ from 'jquery';\nimport { AJAX } from '../modules/ajax.ts';\nimport { getForeignKeyCheckboxLoader, loadForeignKeyCheckbox, prepareForAjaxRequest } from '../modules/functions.ts';\nimport { Navigation } from '../modules/navigation.ts';\nimport { CommonParams } from '../modules/common.ts';\nimport highlightSql from '../modules/sql-highlight.ts';\nimport { ajaxRemoveMessage, ajaxShowMessage } from '../modules/ajax-message.ts';\nimport getJsConfirmCommonParam from '../modules/functions/getJsConfirmCommonParam.ts';\nimport { escapeHtml } from '../modules/functions/escape.ts';\nimport refreshMainContent from '../modules/functions/refreshMainContent.ts';\n/**\n * Unbind all event handlers before tearing down a page\n */\nAJAX.registerTeardown('table/operations.js', function () {\n    $(document).off('submit', '#copyTable.ajax');\n    $(document).off('submit', '#moveTableForm');\n    $(document).off('submit', '#tableOptionsForm');\n    $(document).off('submit', '#partitionsForm');\n    $(document).off('click', '#tbl_maintenance li a.maintain_action.ajax');\n    $(document).off('click', '#drop_tbl_anchor.ajax');\n    $(document).off('click', '#drop_view_anchor.ajax');\n    $(document).off('click', '#truncate_tbl_anchor.ajax');\n    $(document).off('click', '#delete_tbl_anchor.ajax');\n});\n/**\n * Confirm and send POST request\n *\n * @param {JQuery} linkObject\n * @param {'TRUNCATE'|'DELETE'} action\n */\nvar confirmAndPost = function (linkObject, action) {\n    /**\n     * @var {string} question String containing the question to be asked for confirmation\n     */\n    var question = '';\n    if (action === 'TRUNCATE') {\n        question += window.Messages.strTruncateTableStrongWarning + ' ';\n    }\n    else if (action === 'DELETE') {\n        question += window.Messages.strDeleteTableStrongWarning + ' ';\n    }\n    question += window.sprintf(window.Messages.strDoYouReally, linkObject.data('query'));\n    question += getForeignKeyCheckboxLoader();\n    linkObject.confirm(question, linkObject.attr('href'), function (url) {\n        ajaxShowMessage(window.Messages.strProcessingRequest);\n        var params = getJsConfirmCommonParam(this, linkObject.getPostData());\n        $.post(url, params, function (data) {\n            if ($('.sqlqueryresults').length !== 0) {\n                $('.sqlqueryresults').remove();\n            }\n            if ($('.result_query').length !== 0) {\n                $('.result_query').remove();\n            }\n            if (typeof data !== 'undefined' && data.success === true) {\n                ajaxShowMessage(data.message);\n                $('<div class=\"sqlqueryresults ajax\"></div>').prependTo('#page_content');\n                $('.sqlqueryresults').html(data.sql_query);\n                highlightSql($('#page_content'));\n            }\n            else {\n                ajaxShowMessage(data.error, false);\n            }\n        });\n    }, loadForeignKeyCheckbox);\n};\n/**\n * jQuery coding for 'Table operations'. Used on /table/operations\n * Attach Ajax Event handlers for Table operations\n */\nAJAX.registerOnload('table/operations.js', function () {\n    /**\n     * Ajax action for submitting the \"Copy table\"\n     */\n    $(document).on('submit', '#copyTable.ajax', function (event) {\n        event.preventDefault();\n        var $form = $(this);\n        prepareForAjaxRequest($form);\n        var argsep = CommonParams.get('arg_separator');\n        $.post($form.attr('action'), $form.serialize() + argsep + 'submit_copy=Go', function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                if ($form.find('input[name=\\'switch_to_new\\']').prop('checked')) {\n                    Navigation.update(CommonParams.set('db', $form.find('select[name=\\'target_db\\'],input[name=\\'target_db\\']').val()));\n                    Navigation.update(CommonParams.set('table', $form.find('input[name=\\'new_name\\']').val()));\n                    refreshMainContent(false);\n                    AJAX.callback = () => {\n                        ajaxShowMessage(data.message);\n                    };\n                }\n                else {\n                    ajaxShowMessage(data.message);\n                }\n                // Refresh navigation when the table is copied\n                Navigation.reload();\n            }\n            else {\n                ajaxShowMessage(data.error, false);\n            }\n        }); // end $.post()\n    }); // end of copyTable ajax submit\n    /**\n     * Ajax action for submitting the \"Move table\"\n     */\n    $(document).on('submit', '#moveTableForm', function (event) {\n        event.preventDefault();\n        var $form = $(this);\n        prepareForAjaxRequest($form);\n        var argsep = CommonParams.get('arg_separator');\n        $.post($form.attr('action'), $form.serialize() + argsep + 'submit_move=1', function (data) {\n            if (typeof data !== 'undefined' && data.success === true) {\n                Navigation.update(CommonParams.set('db', data.params.db));\n                Navigation.update(CommonParams.set('table', data.params.table));\n                refreshMainContent('index.php?route=/table/sql');\n                AJAX.callback = () => {\n                    ajaxShowMessage(data.message);\n                };\n                // Refresh navigation when the table is copied\n                Navigation.reload();\n            }\n            else {\n                ajaxShowMessage(data.error, false);\n            }\n        });\n    });\n    /**\n     * Ajax action for submitting the \"Table options\"\n     */\n    $(document).on('submit', '#tableOptionsForm', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        var $form = $(this);\n        var $tblNameField = $form.find('input[name=new_name]');\n        var $tblCollationField = $form.find('select[name=tbl_collation]');\n        var collationOrigValue = $('select[name=\"tbl_collation\"] option[selected]').val();\n        var $changeAllColumnCollationsCheckBox = $('#checkbox_change_all_collations');\n        var question = window.Messages.strChangeAllColumnCollationsWarning;\n        if ($tblNameField.val() !== $tblNameField[0].defaultValue) {\n            // reload page and navigation if the table has been renamed\n            prepareForAjaxRequest($form);\n            if ($tblCollationField.val() !== collationOrigValue && $changeAllColumnCollationsCheckBox.is(':checked')) {\n                $form.confirm(question, $form.attr('action'), function () {\n                    submitOptionsForm();\n                });\n            }\n            else {\n                submitOptionsForm();\n            }\n        }\n        else {\n            if ($tblCollationField.val() !== collationOrigValue && $changeAllColumnCollationsCheckBox.is(':checked')) {\n                $form.confirm(question, $form.attr('action'), function () {\n                    $form.removeClass('ajax').trigger('submit').addClass('ajax');\n                });\n            }\n            else {\n                $form.removeClass('ajax').trigger('submit').addClass('ajax');\n            }\n        }\n        function submitOptionsForm() {\n            $.post($form.attr('action'), $form.serialize(), function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    Navigation.update(CommonParams.set('table', data.params.table));\n                    refreshMainContent(false);\n                    AJAX.callback = () => {\n                        $('#page_content').html(data.message);\n                        highlightSql($('#page_content'));\n                    };\n                    // Refresh navigation when the table is renamed\n                    Navigation.reload();\n                }\n                else {\n                    ajaxShowMessage(data.error, false);\n                }\n            });\n        }\n    });\n    /**\n     * Ajax events for actions in the \"Table maintenance\"\n     */\n    $(document).on('click', '#tbl_maintenance li a.maintain_action.ajax', function (event) {\n        event.preventDefault();\n        var $link = $(this);\n        if ($('.sqlqueryresults').length !== 0) {\n            $('.sqlqueryresults').remove();\n        }\n        if ($('.result_query').length !== 0) {\n            $('.result_query').remove();\n        }\n        // variables which stores the common attributes\n        var params = $.param({\n            'ajax_request': 1,\n            'server': CommonParams.get('server')\n        });\n        var postData = $link.getPostData();\n        if (postData) {\n            params += CommonParams.get('arg_separator') + postData;\n        }\n        $.post($link.attr('href'), params, function (data) {\n            function scrollToTop() {\n                $('html, body').animate({ scrollTop: 0 });\n            }\n            var $tempDiv;\n            if (typeof data !== 'undefined' && data.success === true && data.sql_query !== undefined) {\n                ajaxShowMessage(data.message);\n                $('<div class=\\'sqlqueryresults ajax\\'></div>').prependTo('#page_content');\n                $('.sqlqueryresults').html(data.sql_query);\n                highlightSql($('#page_content'));\n                scrollToTop();\n            }\n            else if (typeof data !== 'undefined' && data.success === true) {\n                $tempDiv = $('<div id=\\'temp_div\\'></div>');\n                $tempDiv.html(data.message);\n                var $success = $tempDiv.find('.result_query .alert-success');\n                ajaxShowMessage($success);\n                $('<div class=\\'sqlqueryresults ajax\\'></div>').prependTo('#page_content');\n                $('.sqlqueryresults').html(data.message);\n                highlightSql($('#page_content'));\n                $('.sqlqueryresults').children('fieldset,br').remove();\n                scrollToTop();\n            }\n            else {\n                $tempDiv = $('<div id=\\'temp_div\\'></div>');\n                $tempDiv.html(data.error);\n                var $error;\n                if ($tempDiv.find('.error code').length !== 0) {\n                    $error = $tempDiv.find('.error code').addClass('error');\n                }\n                else {\n                    $error = $tempDiv;\n                }\n                ajaxShowMessage($error, false);\n            }\n        }); // end $.post()\n    }); // end of table maintenance ajax click\n    /**\n     * Ajax action for submitting the \"Partition Maintenance\"\n     * Also, asks for confirmation when DROP partition is submitted\n     */\n    $(document).on('submit', '#partitionsForm', function (event) {\n        event.preventDefault();\n        var $form = $(this);\n        function submitPartitionMaintenance() {\n            var argsep = CommonParams.get('arg_separator');\n            var submitData = $form.serialize() + argsep + 'ajax_request=true' + argsep + 'ajax_page_request=true';\n            ajaxShowMessage(window.Messages.strProcessingRequest);\n            AJAX.source = $form;\n            $.post($form.attr('action'), submitData, AJAX.responseHandler);\n        }\n        if ($('#partitionOperationRadioDrop').is(':checked')) {\n            $form.confirm(window.Messages.strDropPartitionWarning, $form.attr('action'), function () {\n                submitPartitionMaintenance();\n            });\n        }\n        else if ($('#partitionOperationRadioTruncate').is(':checked')) {\n            $form.confirm(window.Messages.strTruncatePartitionWarning, $form.attr('action'), function () {\n                submitPartitionMaintenance();\n            });\n        }\n        else {\n            submitPartitionMaintenance();\n        }\n    });\n    $(document).on('click', '#drop_tbl_anchor.ajax', function (event) {\n        event.preventDefault();\n        var $link = $(this);\n        /**\n         * @var {string} question String containing the question to be asked for confirmation\n         */\n        var question = window.Messages.strDropTableStrongWarning + ' ';\n        question += window.sprintf(window.Messages.strDoYouReally, $link[0].getAttribute('data-query'));\n        question += getForeignKeyCheckboxLoader();\n        $(this).confirm(question, $(this).attr('href'), function (url) {\n            var $msgbox = ajaxShowMessage(window.Messages.strProcessingRequest);\n            var params = getJsConfirmCommonParam(this, $link.getPostData());\n            $.post(url, params, function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    ajaxRemoveMessage($msgbox);\n                    // Table deleted successfully, refresh both the frames\n                    Navigation.reload();\n                    Navigation.update(CommonParams.set('table', ''));\n                    refreshMainContent(CommonParams.get('opendb_url'));\n                    AJAX.callback = () => {\n                        ajaxShowMessage(data.message);\n                    };\n                }\n                else {\n                    ajaxShowMessage(data.error, false);\n                }\n            });\n        }, loadForeignKeyCheckbox);\n    }); // end of Drop Table Ajax action\n    $(document).on('click', '#drop_view_anchor.ajax', function (event) {\n        event.preventDefault();\n        var $link = $(this);\n        /**\n         * @var {string} question String containing the question to be asked for confirmation\n         */\n        var question = window.Messages.strDropTableStrongWarning + ' ';\n        question += window.sprintf(window.Messages.strDoYouReally, 'DROP VIEW `' + escapeHtml(CommonParams.get('table') + '`'));\n        $(this).confirm(question, $(this).attr('href'), function (url) {\n            var $msgbox = ajaxShowMessage(window.Messages.strProcessingRequest);\n            var params = getJsConfirmCommonParam(this, $link.getPostData());\n            $.post(url, params, function (data) {\n                if (typeof data !== 'undefined' && data.success === true) {\n                    ajaxRemoveMessage($msgbox);\n                    // Table deleted successfully, refresh both the frames\n                    Navigation.reload();\n                    Navigation.update(CommonParams.set('table', ''));\n                    refreshMainContent(CommonParams.get('opendb_url'));\n                    AJAX.callback = () => {\n                        ajaxShowMessage(data.message);\n                    };\n                }\n                else {\n                    ajaxShowMessage(data.error, false);\n                }\n            });\n        });\n    }); // end of Drop View Ajax action\n    $(document).on('click', '#truncate_tbl_anchor.ajax', function (event) {\n        event.preventDefault();\n        confirmAndPost($(this), 'TRUNCATE');\n    });\n    $(document).on('click', '#delete_tbl_anchor.ajax', function (event) {\n        event.preventDefault();\n        confirmAndPost($(this), 'DELETE');\n    });\n}); // end $(document).ready for 'Table operations'\n","module.exports = jQuery;"],"names":["$","AJAX","getForeignKeyCheckboxLoader","loadForeignKeyCheckbox","prepareForAjaxRequest","Navigation","CommonParams","highlightSql","ajaxRemoveMessage","ajaxShowMessage","getJsConfirmCommonParam","escapeHtml","refreshMainContent","registerTeardown","document","off","confirmAndPost","linkObject","action","question","window","Messages","strTruncateTableStrongWarning","strDeleteTableStrongWarning","sprintf","strDoYouReally","data","confirm","attr","url","strProcessingRequest","params","getPostData","post","length","remove","success","message","prependTo","html","sql_query","error","registerOnload","on","event","preventDefault","$form","argsep","get","serialize","find","prop","update","set","val","callback","reload","db","table","stopPropagation","$tblNameField","$tblCollationField","collationOrigValue","$changeAllColumnCollationsCheckBox","strChangeAllColumnCollationsWarning","defaultValue","is","submitOptionsForm","removeClass","trigger","addClass","$link","param","postData","scrollToTop","animate","scrollTop","$tempDiv","undefined","$success","children","$error","submitPartitionMaintenance","submitData","source","responseHandler","strDropPartitionWarning","strTruncatePartitionWarning","strDropTableStrongWarning","getAttribute","$msgbox"],"sourceRoot":""}